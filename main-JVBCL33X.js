var WC=Object.defineProperty,KC=Object.defineProperties;var YC=Object.getOwnPropertyDescriptors;var tv=Object.getOwnPropertySymbols,ZC=Object.getPrototypeOf,JC=Object.prototype.hasOwnProperty,QC=Object.prototype.propertyIsEnumerable,XC=Reflect.get;var nv=(e,t,n)=>t in e?WC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C=(e,t)=>{for(var n in t||={})JC.call(t,n)&&nv(e,n,t[n]);if(tv)for(var n of tv(t))QC.call(t,n)&&nv(e,n,t[n]);return e},q=(e,t)=>KC(e,YC(t));var mt=(e,t,n)=>XC(ZC(e),n,t);var h=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});var nt=null,Wa=!1,Ud=1,eD=null,lt=Symbol("SIGNAL");function U(e){let t=nt;return nt=e,t}function Ya(){return nt}var Ko={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Yo(e){if(Wa)throw new Error("");if(nt===null)return;nt.consumerOnSignalRead(e);let t=nt.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=nt.recomputing;if(r&&(n=t!==void 0?t.nextProducer:nt.producers,n!==void 0&&n.producer===e)){nt.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===nt&&(!r||nD(i,nt)))return;let o=ki(nt),s={producer:e,consumer:nt,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};nt.producersTail=s,t!==void 0?t.nextProducer=s:nt.producers=s,o&&sv(e,s)}function rv(){Ud++}function Bd(e){if(!(ki(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ud)){if(!e.producerMustRecompute(e)&&!Ja(e)){Vd(e);return}e.producerRecomputeValue(e),Vd(e)}}function $d(e){if(e.consumers===void 0)return;let t=Wa;Wa=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||tD(r)}}finally{Wa=t}}function Hd(){return nt?.consumerAllowSignalWrites!==!1}function tD(e){e.dirty=!0,$d(e),e.consumerMarkedDirty?.(e)}function Vd(e){e.dirty=!1,e.lastCleanEpoch=Ud}function Zo(e){return e&&iv(e),U(e)}function iv(e){e.producersTail=void 0,e.recomputing=!0}function Za(e,t){U(t),e&&ov(e)}function ov(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(ki(e))do n=zd(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function Ja(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(Bd(n),r!==n.version))return!0}return!1}function Jo(e){if(ki(e)){let t=e.producers;for(;t!==void 0;)t=zd(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function sv(e,t){let n=e.consumersTail,r=ki(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)sv(i.producer,i)}function zd(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!ki(t)){let o=t.producers;for(;o!==void 0;)o=zd(o)}return n}function ki(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Gd(e){eD?.(e)}function nD(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function qd(e,t){return Object.is(e,t)}function Qa(e,t){let n=Object.create(rD);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Bd(n),Yo(n),n.value===Ka)throw n.error;return n.value};return r[lt]=n,Gd(n),r}var Ld=Symbol("UNSET"),jd=Symbol("COMPUTING"),Ka=Symbol("ERRORED"),rD=q(C({},Ko),{value:Ld,dirty:!0,error:null,equal:qd,kind:"computed",producerMustRecompute(e){return e.value===Ld||e.value===jd},producerRecomputeValue(e){if(e.value===jd)throw new Error("");let t=e.value;e.value=jd;let n=Zo(e),r,i=!1;try{r=e.computation(),U(null),i=t!==Ld&&t!==Ka&&r!==Ka&&e.equal(t,r)}catch(o){r=Ka,e.error=o}finally{Za(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function iD(){throw new Error}var av=iD;function cv(e){av(e)}function Wd(e){av=e}var oD=null;function Kd(e,t){let n=Object.create(Xa);n.value=e,t!==void 0&&(n.equal=t);let r=()=>lv(n);return r[lt]=n,Gd(n),[r,s=>Qo(n,s),s=>uv(n,s)]}function lv(e){return Yo(e),e.value}function Qo(e,t){Hd()||cv(e),e.equal(e.value,t)||(e.value=t,sD(e))}function uv(e,t){Hd()||cv(e),Qo(e,t(e.value))}var Xa=q(C({},Ko),{equal:qd,value:void 0,kind:"signal"});function sD(e){e.version++,rv(),$d(e),oD?.(e)}function Yd(e){let t=U(null);try{return e()}finally{U(t)}}function G(e){return typeof e=="function"}function Pi(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ec=Pi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function kr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Te=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(o){t=o instanceof ec?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{dv(o)}catch(s){t=t??[],s instanceof ec?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ec(t)}}add(t){var n;if(t&&t!==this)if(this.closed)dv(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&kr(n,t)}remove(t){let{_finalizers:n}=this;n&&kr(n,t),t instanceof e&&t._removeParent(this)}};Te.EMPTY=(()=>{let e=new Te;return e.closed=!0,e})();var Zd=Te.EMPTY;function tc(e){return e instanceof Te||e&&"closed"in e&&G(e.remove)&&G(e.add)&&G(e.unsubscribe)}function dv(e){G(e)?e():e.unsubscribe()}var Yt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fi={setTimeout(e,t,...n){let{delegate:r}=Fi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Fi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function nc(e){Fi.setTimeout(()=>{let{onUnhandledError:t}=Yt;if(t)t(e);else throw e})}function Xo(){}var fv=Jd("C",void 0,void 0);function hv(e){return Jd("E",void 0,e)}function pv(e){return Jd("N",e,void 0)}function Jd(e,t,n){return{kind:e,value:t,error:n}}var Pr=null;function Li(e){if(Yt.useDeprecatedSynchronousErrorHandling){let t=!Pr;if(t&&(Pr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Pr;if(Pr=null,n)throw r}}else e()}function gv(e){Yt.useDeprecatedSynchronousErrorHandling&&Pr&&(Pr.errorThrown=!0,Pr.error=e)}var Fr=class extends Te{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,tc(t)&&t.add(this)):this.destination=lD}static create(t,n,r){return new ji(t,n,r)}next(t){this.isStopped?Xd(pv(t),this):this._next(t)}error(t){this.isStopped?Xd(hv(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Xd(fv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},aD=Function.prototype.bind;function Qd(e,t){return aD.call(e,t)}var ef=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){rc(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){rc(r)}else rc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){rc(n)}}},ji=class extends Fr{constructor(t,n,r){super();let i;if(G(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Yt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Qd(t.next,o),error:t.error&&Qd(t.error,o),complete:t.complete&&Qd(t.complete,o)}):i=t}this.destination=new ef(i)}};function rc(e){Yt.useDeprecatedSynchronousErrorHandling?gv(e):nc(e)}function cD(e){throw e}function Xd(e,t){let{onStoppedNotification:n}=Yt;n&&Fi.setTimeout(()=>n(e,t))}var lD={closed:!0,next:Xo,error:cD,complete:Xo};var Vi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zt(e){return e}function tf(...e){return nf(e)}function nf(e){return e.length===0?Zt:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var J=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=dD(n)?n:new ji(n,r,i);return Li(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=mv(r),new r((i,o)=>{let s=new ji({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Vi](){return this}pipe(...n){return nf(n)(this)}toPromise(n){return n=mv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function mv(e){var t;return(t=e??Yt.Promise)!==null&&t!==void 0?t:Promise}function uD(e){return e&&G(e.next)&&G(e.error)&&G(e.complete)}function dD(e){return e&&e instanceof Fr||uD(e)&&tc(e)}function fD(e){return G(e?.lift)}function se(e){return t=>{if(fD(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(e,t,n,r,i){return new rf(e,t,n,r,i)}var rf=class extends Fr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var vv=Pi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=(()=>{class e extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ic(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new vv}next(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Zd:(this.currentObservers=null,o.push(n),new Te(()=>{this.currentObservers=null,kr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new J;return n.source=this,n}}return e.create=(t,n)=>new ic(t,n),e})(),ic=class extends Ce{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Zd}};var Ue=class extends Ce{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var of={now(){return(of.delegate||Date).now()},delegate:void 0};var oc=class extends Te{constructor(t,n){super()}schedule(t,n=0){return this}};var es={setInterval(e,t,...n){let{delegate:r}=es;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=es;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var sc=class extends oc{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return es.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&es.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,kr(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Ui=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Ui.now=of.now;var ac=class extends Ui{constructor(t,n=Ui.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var sf=new ac(sc),yv=sf;var Be=new J(e=>e.complete());function cc(e){return e&&G(e.schedule)}function _v(e){return e[e.length-1]}function lc(e){return G(_v(e))?e.pop():void 0}function ir(e){return cc(_v(e))?e.pop():void 0}function jr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function uc(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function bv(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lr(e){return this instanceof Lr?(this.v=e,this):new Lr(e)}function wv(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(i[f]=function(m){return new Promise(function(v,y){o.push([f,m,v,y])>1||c(f,m)})},g&&(i[f]=g(i[f])))}function c(f,g){try{l(r[f](g))}catch(m){p(o[0][3],m)}}function l(f){f.value instanceof Lr?Promise.resolve(f.value.v).then(u,d):p(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function p(f,g){f(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Ev(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof bv=="function"?bv(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var dc=e=>e&&typeof e.length=="number"&&typeof e!="function";function fc(e){return G(e?.then)}function hc(e){return G(e[Vi])}function pc(e){return Symbol.asyncIterator&&G(e?.[Symbol.asyncIterator])}function gc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function hD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var mc=hD();function vc(e){return G(e?.[mc])}function yc(e){return wv(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Lr(n.read());if(i)return yield Lr(void 0);yield yield Lr(r)}}finally{n.releaseLock()}})}function _c(e){return G(e?.getReader)}function Ne(e){if(e instanceof J)return e;if(e!=null){if(hc(e))return pD(e);if(dc(e))return gD(e);if(fc(e))return mD(e);if(pc(e))return Cv(e);if(vc(e))return vD(e);if(_c(e))return yD(e)}throw gc(e)}function pD(e){return new J(t=>{let n=e[Vi]();if(G(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gD(e){return new J(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function mD(e){return new J(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,nc)})}function vD(e){return new J(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Cv(e){return new J(t=>{_D(e,t).catch(n=>t.error(n))})}function yD(e){return Cv(yc(e))}function _D(e,t){var n,r,i,o;return uc(this,void 0,void 0,function*(){try{for(n=Ev(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function vt(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function bc(e,t=0){return se((n,r)=>{n.subscribe(ae(r,i=>vt(r,e,()=>r.next(i),t),()=>vt(r,e,()=>r.complete(),t),i=>vt(r,e,()=>r.error(i),t)))})}function wc(e,t=0){return se((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Dv(e,t){return Ne(e).pipe(wc(t),bc(t))}function Iv(e,t){return Ne(e).pipe(wc(t),bc(t))}function Sv(e,t){return new J(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Tv(e,t){return new J(n=>{let r;return vt(n,t,()=>{r=e[mc](),vt(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function Ec(e,t){if(!e)throw new Error("Iterable cannot be null");return new J(n=>{vt(n,t,()=>{let r=e[Symbol.asyncIterator]();vt(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Mv(e,t){return Ec(yc(e),t)}function xv(e,t){if(e!=null){if(hc(e))return Dv(e,t);if(dc(e))return Sv(e,t);if(fc(e))return Iv(e,t);if(pc(e))return Ec(e,t);if(vc(e))return Tv(e,t);if(_c(e))return Mv(e,t)}throw gc(e)}function _e(e,t){return t?xv(e,t):Ne(e)}function $(...e){let t=ir(e);return _e(e,t)}function af(e,t){let n=G(e)?e:()=>e,r=i=>i.error(n());return new J(t?i=>t.schedule(r,0,i):r)}function Cc(e){return!!e&&(e instanceof J||G(e.lift)&&G(e.subscribe))}var Vr=Pi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Av(e){return e instanceof Date&&!isNaN(e)}function te(e,t){return se((n,r)=>{let i=0;n.subscribe(ae(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:bD}=Array;function wD(e,t){return bD(t)?e(...t):e(t)}function Dc(e){return te(t=>wD(e,t))}var{isArray:ED}=Array,{getPrototypeOf:CD,prototype:DD,keys:ID}=Object;function Ic(e){if(e.length===1){let t=e[0];if(ED(t))return{args:t,keys:null};if(SD(t)){let n=ID(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function SD(e){return e&&typeof e=="object"&&CD(e)===DD}function Sc(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function ts(...e){let t=ir(e),n=lc(e),{args:r,keys:i}=Ic(e);if(r.length===0)return _e([],t);let o=new J(TD(r,t,i?s=>Sc(i,s):Zt));return n?o.pipe(Dc(n)):o}function TD(e,t,n=Zt){return r=>{Rv(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Rv(t,()=>{let l=_e(e[c],t),u=!1;l.subscribe(ae(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Rv(e,t,n){e?vt(n,e,t):t()}function Ov(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,p=()=>{d&&!c.length&&!l&&t.complete()},f=m=>l<r?g(m):c.push(m),g=m=>{o&&t.next(m),l++;let v=!1;Ne(n(m,u++)).subscribe(ae(t,y=>{i?.(y),o?f(y):t.next(y)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let y=c.shift();s?vt(t,s,()=>g(y)):g(y)}p()}catch(y){t.error(y)}}))};return e.subscribe(ae(t,f,()=>{d=!0,p()})),()=>{a?.()}}function ut(e,t,n=1/0){return G(t)?ut((r,i)=>te((o,s)=>t(r,o,i,s))(Ne(e(r,i))),n):(typeof t=="number"&&(n=t),se((r,i)=>Ov(r,i,e,n)))}function Nv(e=1/0){return ut(Zt,e)}function kv(){return Nv(1)}function Bi(...e){return kv()(_e(e,ir(e)))}function ns(e){return new J(t=>{Ne(e()).subscribe(t)})}function cf(...e){let t=lc(e),{args:n,keys:r}=Ic(e),i=new J(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ne(n[u]).subscribe(ae(o,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Sc(r,a):a),o.complete())}))}});return t?i.pipe(Dc(t)):i}function Pv(e=0,t,n=yv){let r=-1;return t!=null&&(cc(t)?n=t:r=t),new J(i=>{let o=Av(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function lf(e=0,t=sf){return e<0&&(e=0),Pv(e,e,t)}function dt(e,t){return se((n,r)=>{let i=0;n.subscribe(ae(r,o=>e.call(t,o,i++)&&r.next(o)))})}function yt(e){return se((t,n)=>{let r=null,i=!1,o;r=t.subscribe(ae(n,void 0,void 0,s=>{o=Ne(e(s,yt(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function $i(e,t){return G(t)?ut(e,t,1):ut(e,1)}function uf(e){return se((t,n)=>{let r=!1;t.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function On(e){return e<=0?()=>Be:se((t,n)=>{let r=0;t.subscribe(ae(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Fv(e=MD){return se((t,n)=>{let r=!1;t.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function MD(){return new Vr}function or(e){return se((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Nn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?dt((i,o)=>e(i,o,r)):Zt,On(1),n?uf(t):Fv(()=>new Vr))}function Tc(e){return e<=0?()=>Be:se((t,n)=>{let r=[];t.subscribe(ae(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Hi(...e){let t=ir(e);return se((n,r)=>{(t?Bi(e,n,t):Bi(e,n)).subscribe(r)})}function rt(e,t){return se((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ae(r,c=>{i?.unsubscribe();let l=0,u=o++;Ne(e(c,u)).subscribe(i=ae(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function rs(e){return se((t,n)=>{Ne(e).subscribe(ae(n,()=>n.complete(),Xo)),!n.closed&&t.subscribe(n)})}function ke(e,t,n){let r=G(e)||t||n?{next:e,error:t,complete:n}:e;return r?se((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ae(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Zt}var df;function Mc(){return df}function gn(e){let t=df;return df=e,t}var Lv=Symbol("NotFound");function zi(e){return e===Lv||e?.name==="\u0275NotFound"}var Nc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",S=class extends Error{code;constructor(t,n){super(mn(t,n)),this.code=t}};function RD(e){return`NG0${Math.abs(e)}`}function mn(e,t){return`${RD(e)}${t?": "+t:""}`}var Nt=globalThis;function ce(e){for(let t in e)if(e[t]===ce)return t;throw Error("")}function $v(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Pn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Pn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function kc(e,t){return e?t?`${e} ${t}`:e:t||""}var OD=ce({__forward_ref__:ce});function Ln(e){return e.__forward_ref__=Ln,e.toString=function(){return Pn(this())},e}function Ye(e){return Sf(e)?e():e}function Sf(e){return typeof e=="function"&&e.hasOwnProperty(OD)&&e.__forward_ref__===Ln}function T(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function kt(e){return{providers:e.providers||[],imports:e.imports||[]}}function ls(e){return ND(e,Pc)}function Tf(e){return ls(e)!==null}function ND(e,t){return e.hasOwnProperty(t)&&e[t]||null}function kD(e){let t=e?.[Pc]??null;return t||null}function hf(e){return e&&e.hasOwnProperty(Ac)?e[Ac]:null}var Pc=ce({\u0275prov:ce}),Ac=ce({\u0275inj:ce}),x=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=T({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Mf(e){return e&&!!e.\u0275providers}var xf=ce({\u0275cmp:ce}),Af=ce({\u0275dir:ce}),Rf=ce({\u0275pipe:ce}),Of=ce({\u0275mod:ce}),os=ce({\u0275fac:ce}),zr=ce({__NG_ELEMENT_ID__:ce}),jv=ce({__NG_ENV_ID__:ce});function Nf(e){return e[Of]||null}function lr(e){return e[xf]||null}function kf(e){return e[Af]||null}function Hv(e){return e[Rf]||null}function Jt(e){return typeof e=="string"?e:e==null?"":String(e)}function zv(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Jt(e)}var Gv=ce({ngErrorCode:ce}),PD=ce({ngErrorMessage:ce}),FD=ce({ngTokenPath:ce});function Pf(e,t){return qv("",-200,t)}function Fc(e,t){throw new S(-201,!1)}function qv(e,t,n){let r=new S(t,e);return r[Gv]=t,r[PD]=e,n&&(r[FD]=n),r}function LD(e){return e[Gv]}var pf;function Wv(){return pf}function ft(e){let t=pf;return pf=e,t}function Ff(e,t,n){let r=ls(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Fc(e,"Injector")}var jD={},Ur=jD,VD="__NG_DI_FLAG__",gf=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=Br(n)||0;try{return this.injector.get(t,r&8?null:Ur,r)}catch(i){if(zi(i))return i;throw i}}};function UD(e,t=0){let n=Mc();if(n===void 0)throw new S(-203,!1);if(n===null)return Ff(e,void 0,t);{let r=BD(t),i=n.retrieve(e,r);if(zi(i)){if(r.optional)return null;throw i}return i}}function k(e,t=0){return(Wv()||UD)(Ye(e),t)}function w(e,t){return k(e,Br(t))}function Br(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function BD(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function mf(e){let t=[];for(let n=0;n<e.length;n++){let r=Ye(e[n]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=$D(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(k(i,o))}else t.push(k(r))}return t}function $D(e){return e[VD]}function sr(e,t){let n=e.hasOwnProperty(os);return n?e[os]:null}function Kv(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Yv(e){return e.flat(Number.POSITIVE_INFINITY)}function Lc(e,t){e.forEach(n=>Array.isArray(n)?Lc(n,t):t(n))}function Lf(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function us(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Zv(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function jc(e,t,n){let r=qi(e,t);return r>=0?e[r|1]=n:(r=~r,Zv(e,r,t,n)),r}function Vc(e,t){let n=qi(e,t);if(n>=0)return e[n|1]}function qi(e,t){return HD(e,t,1)}function HD(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var ur={},ht=[],jn=new x(""),jf=new x("",-1),Vf=new x(""),ss=class{get(t,n=Ur){if(n===Ur){let i=qv("",-201);throw i.name="\u0275NotFound",i}return n}};function Vn(e){return{\u0275providers:e}}function Jv(...e){return{\u0275providers:Uf(!0,e),\u0275fromNgModule:!0}}function Uf(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return Lc(t,s=>{let a=s;Rc(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Qv(i,o),n}function Qv(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Bf(i,o=>{t(o,r)})}}function Rc(e,t,n,r){if(e=Ye(e),!e)return!1;let i=null,o=hf(e),s=!o&&lr(e);if(!o&&!s){let c=e.ngModule;if(o=hf(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Rc(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Lc(o.imports,u=>{Rc(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Qv(l,t)}if(!a){let l=sr(i)||(()=>new i);t({provide:i,useFactory:l,deps:ht},i),t({provide:Vf,useValue:i,multi:!0},i),t({provide:jn,useValue:()=>k(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;Bf(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function Bf(e,t){for(let n of e)Mf(n)&&(n=n.\u0275providers),Array.isArray(n)?Bf(n,t):t(n)}var zD=ce({provide:String,useValue:ce});function Xv(e){return e!==null&&typeof e=="object"&&zD in e}function GD(e){return!!(e&&e.useExisting)}function qD(e){return!!(e&&e.useFactory)}function $r(e){return typeof e=="function"}function ey(e){return!!e.useClass}var ds=new x(""),xc={},Vv={},ff;function fs(){return ff===void 0&&(ff=new ss),ff}var Me=class{},Hr=class extends Me{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,yf(t,s=>this.processProvider(s)),this.records.set(jf,Gi(void 0,this)),i.has("environment")&&this.records.set(Me,Gi(void 0,this));let o=this.records.get(ds);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Vf,ht,{self:!0}))}retrieve(t,n){let r=Br(n)||0;try{return this.get(t,Ur,r)}catch(i){if(zi(i))return i;throw i}}destroy(){is(this),this._destroyed=!0;let t=U(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),U(t)}}onDestroy(t){return is(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){is(this);let n=gn(this),r=ft(void 0),i;try{return t()}finally{gn(n),ft(r)}}get(t,n=Ur,r){if(is(this),t.hasOwnProperty(jv))return t[jv](this);let i=Br(r),o,s=gn(this),a=ft(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let u=JD(t)&&ls(t);u&&this.injectableDefInScope(u)?l=Gi(vf(t),xc):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?fs():this.parent;return n=i&8&&n===Ur?null:n,c.get(t,n)}catch(c){let l=LD(c);throw l===-200||l===-201?new S(l,null):c}finally{ft(a),gn(s)}}resolveInjectorInitializers(){let t=U(null),n=gn(this),r=ft(void 0),i;try{let o=this.get(jn,ht,{self:!0});for(let s of o)s()}finally{gn(n),ft(r),U(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Pn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Ye(t);let n=$r(t)?t:Ye(t&&t.provide),r=KD(t);if(!$r(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Gi(void 0,xc,!0),i.factory=()=>mf(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=U(null);try{if(n.value===Vv)throw Pf(Pn(t));return n.value===xc&&(n.value=Vv,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&ZD(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{U(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Ye(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function vf(e){let t=ls(e),n=t!==null?t.factory:sr(e);if(n!==null)return n;if(e instanceof x)throw new S(204,!1);if(e instanceof Function)return WD(e);throw new S(204,!1)}function WD(e){if(e.length>0)throw new S(204,!1);let n=kD(e);return n!==null?()=>n.factory(e):()=>new e}function KD(e){if(Xv(e))return Gi(void 0,e.useValue);{let t=$f(e);return Gi(t,xc)}}function $f(e,t,n){let r;if($r(e)){let i=Ye(e);return sr(i)||vf(i)}else if(Xv(e))r=()=>Ye(e.useValue);else if(qD(e))r=()=>e.useFactory(...mf(e.deps||[]));else if(GD(e))r=(i,o)=>k(Ye(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ye(e&&(e.useClass||e.provide));if(YD(e))r=()=>new i(...mf(e.deps));else return sr(i)||vf(i)}return r}function is(e){if(e.destroyed)throw new S(205,!1)}function Gi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function YD(e){return!!e.deps}function ZD(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function JD(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function yf(e,t){for(let n of e)Array.isArray(n)?yf(n,t):n&&Mf(n)?yf(n.\u0275providers,t):t(n)}function Ze(e,t){let n;e instanceof Hr?(is(e),n=e):n=new gf(e);let r,i=gn(n),o=ft(void 0);try{return t()}finally{gn(i),ft(o)}}function ty(){return Wv()!==void 0||Mc()!=null}var Qt=0,F=1,H=2,$e=3,Pt=4,Ft=5,Wi=6,Ki=7,Pe=8,Un=9,vn=10,fe=11,Yi=12,Hf=13,Gr=14,Dt=15,dr=16,qr=17,yn=18,hs=19,zf=20,kn=21,Uc=22,ps=23,It=24,Bc=25,Wr=26,xe=27,ny=1,Gf=6,fr=7,gs=8,Kr=9,Ie=10;function _n(e){return Array.isArray(e)&&typeof e[ny]=="object"}function Xt(e){return Array.isArray(e)&&e[ny]===!0}function qf(e){return(e.flags&4)!==0}function Bn(e){return e.componentOffset>-1}function Zi(e){return(e.flags&1)===1}function bn(e){return!!e.template}function Ji(e){return(e[H]&512)!==0}function Yr(e){return(e[H]&256)===256}var Wf="svg",ry="math";function Lt(e){for(;Array.isArray(e);)e=e[Qt];return e}function Kf(e,t){return Lt(t[e])}function jt(e,t){return Lt(t[e.index])}function ms(e,t){return e.data[t]}function $c(e,t){return e[t]}function Yf(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function Vt(e,t){let n=t[e];return _n(n)?n:n[Qt]}function iy(e){return(e[H]&4)===4}function Hc(e){return(e[H]&128)===128}function oy(e){return Xt(e[$e])}function wn(e,t){return t==null?null:e[t]}function Zf(e){e[qr]=0}function Jf(e){e[H]&1024||(e[H]|=1024,Hc(e)&&ys(e))}function sy(e,t){for(;e>0;)t=t[Gr],e--;return t}function vs(e){return!!(e[H]&9216||e[It]?.dirty)}function zc(e){e[vn].changeDetectionScheduler?.notify(8),e[H]&64&&(e[H]|=1024),vs(e)&&ys(e)}function ys(e){e[vn].changeDetectionScheduler?.notify(0);let t=ar(e);for(;t!==null&&!(t[H]&8192||(t[H]|=8192,!Hc(t)));)t=ar(t)}function Qf(e,t){if(Yr(e))throw new S(911,!1);e[kn]===null&&(e[kn]=[]),e[kn].push(t)}function ay(e,t){if(e[kn]===null)return;let n=e[kn].indexOf(t);n!==-1&&e[kn].splice(n,1)}function ar(e){let t=e[$e];return Xt(t)?t[$e]:t}function Xf(e){return e[Ki]??=[]}function eh(e){return e.cleanup??=[]}function cy(e,t,n,r){let i=Xf(t);i.push(n),e.firstCreatePass&&eh(e).push(r,i.length-1)}var W={lFrame:wy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var _f=!1;function ly(){return W.lFrame.elementDepthCount}function uy(){W.lFrame.elementDepthCount++}function th(){W.lFrame.elementDepthCount--}function Gc(){return W.bindingsEnabled}function dy(){return W.skipHydrationRootTNode!==null}function nh(e){return W.skipHydrationRootTNode===e}function rh(){W.skipHydrationRootTNode=null}function B(){return W.lFrame.lView}function Ae(){return W.lFrame.tView}function he(e){return W.lFrame.contextLView=e,e[Pe]}function pe(e){return W.lFrame.contextLView=null,e}function Je(){let e=ih();for(;e!==null&&e.type===64;)e=e.parent;return e}function ih(){return W.lFrame.currentTNode}function fy(){let e=W.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Qi(e,t){let n=W.lFrame;n.currentTNode=e,n.isParent=t}function oh(){return W.lFrame.isParent}function hy(){W.lFrame.isParent=!1}function py(){return W.lFrame.contextLView}function sh(){return _f}function ah(e){let t=_f;return _f=e,t}function _s(){let e=W.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ch(){return W.lFrame.bindingIndex}function gy(e){return W.lFrame.bindingIndex=e}function hr(){return W.lFrame.bindingIndex++}function bs(e){let t=W.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function my(){return W.lFrame.inI18n}function vy(e,t){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=e,qc(t)}function yy(){return W.lFrame.currentDirectiveIndex}function qc(e){W.lFrame.currentDirectiveIndex=e}function _y(e){let t=W.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function lh(){return W.lFrame.currentQueryIndex}function Wc(e){W.lFrame.currentQueryIndex=e}function QD(e){let t=e[F];return t.type===2?t.declTNode:t.type===1?e[Ft]:null}function uh(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=QD(o),i===null||(o=o[Gr],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=W.lFrame=by();return r.currentTNode=t,r.lView=e,!0}function Kc(e){let t=by(),n=e[F];W.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function by(){let e=W.lFrame,t=e===null?null:e.child;return t===null?wy(e):t}function wy(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Ey(){let e=W.lFrame;return W.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var dh=Ey;function Yc(){let e=Ey();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Cy(e){return(W.lFrame.contextLView=sy(e,W.lFrame.contextLView))[Pe]}function en(){return W.lFrame.selectedIndex}function pr(e){W.lFrame.selectedIndex=e}function ws(){let e=W.lFrame;return ms(e.tView,e.selectedIndex)}function Zc(){W.lFrame.currentNamespace=Wf}function Dy(){return W.lFrame.currentNamespace}var Iy=!0;function Jc(){return Iy}function Es(e){Iy=e}function bf(e,t=null,n=null,r){let i=fh(e,t,n,r);return i.resolveInjectorInitializers(),i}function fh(e,t=null,n=null,r,i=new Set){let o=[n||ht,Jv(e)];return r=r||(typeof e=="object"?void 0:Pn(e)),new Hr(o,t||fs(),r||null,i)}var Ct=class e{static THROW_IF_NOT_FOUND=Ur;static NULL=new ss;static create(t,n){if(Array.isArray(t))return bf({name:""},n,t,"");{let r=t.name??"";return bf({name:r},t.parent,t.providers,r)}}static \u0275prov=T({token:e,providedIn:"any",factory:()=>k(jf)});static __NG_ELEMENT_ID__=-1},be=new x(""),$n=(()=>{class e{static __NG_ELEMENT_ID__=XD;static __NG_ENV_ID__=n=>n}return e})(),wf=class extends $n{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Yr(this._lView)}onDestroy(t){let n=this._lView;return Qf(n,t),()=>ay(n,t)}};function XD(){return new wf(B())}var hh=!1,En=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ue(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new J(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),Ef=class extends Ce{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,ty()&&(this.destroyRef=w($n,{optional:!0})??void 0,this.pendingTasks=w(En,{optional:!0})??void 0)}emit(t){let n=U(null);try{super.next(t)}finally{U(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Te&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},le=Ef;function Oc(...e){}function ph(e){let t,n;function r(){e=Oc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function gh(e){return queueMicrotask(()=>e()),()=>{e=Oc}}var mh="isAngularZone",as=mh+"_ID",eI=0,De=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new le(!1);onMicrotaskEmpty=new le(!1);onStable=new le(!1);onError=new le(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=hh}=t;if(typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,rI(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(mh)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new S(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,tI,Oc,Oc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},tI={};function vh(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function nI(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){ph(()=>{e.callbackScheduled=!1,Cf(e),e.isCheckStableRunning=!0,vh(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Cf(e)}function rI(e){let t=()=>{nI(e)},n=eI++;e._inner=e._inner.fork({name:"angular",properties:{[mh]:!0,[as]:n,[as+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(iI(c))return r.invokeTask(o,s,a,c);try{return Uv(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Bv(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Uv(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!oI(c)&&t(),Bv(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Cf(e),vh(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Cf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Uv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Bv(e){e._nesting--,vh(e)}var cs=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new le;onMicrotaskEmpty=new le;onStable=new le;onError=new le;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function iI(e){return Sy(e,"__ignore_ng_zone__")}function oI(e){return Sy(e,"__scheduler_tick__")}function Sy(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Fn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},_t=new x("",{factory:()=>{let e=w(De),t=w(Me),n;return r=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(Fn),n.handleError(r))})}}}),Ty={provide:jn,useValue:()=>{let e=w(Fn,{optional:!0})},multi:!0};function Ut(e,t){let[n,r,i]=Kd(e,t?.equal),o=n,s=o[lt];return o.set=r,o.update=i,o.asReadonly=My.bind(o),o}function My(){let e=this[lt];if(e.readonlyFn===void 0){let t=()=>this();t[lt]=e,e.readonlyFn=t}return e.readonlyFn}var cr=class{},Xi=new x("",{factory:()=>!0});var Qc=new x(""),Xc=(()=>{class e{internalPendingTasks=w(En);scheduler=w(cr);errorHandler=w(_t);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),yh=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:()=>new Df})}return e})(),Df=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},If=class{[lt];constructor(t){this[lt]=t}destroy(){this[lt].destroy()}};function Re(e){return Yd(e)}function Rs(e){return{toString:e}.toString()}function hI(e){return typeof e=="function"}function u_(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var ll=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},In=(()=>{let e=()=>d_;return e.ngInherit=!0,e})();function d_(e){return e.type.prototype.ngOnChanges&&(e.setInput=gI),pI}function pI(){let e=h_(this),t=e?.current;if(t){let n=e.previous;if(n===ur)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function gI(e,t,n,r,i){let o=this.declaredInputs[r],s=h_(e)||mI(e,{previous:ur,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new ll(l&&l.currentValue,n,c===ur),u_(e,t,i,n)}var f_="__ngSimpleChanges__";function h_(e){return e[f_]||null}function mI(e,t){return e[f_]=t}var xy=[];var ue=function(e,t=null,n){for(let r=0;r<xy.length;r++){let i=xy[r];i(e,t,n)}},ie=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(ie||{});function vI(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=d_(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function p_(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function il(e,t,n){g_(e,t,3,n)}function ol(e,t,n,r){(e[H]&3)===n&&g_(e,t,n,r)}function _h(e,t){let n=e[H];(n&3)===t&&(n&=16383,n+=1,e[H]=n)}function g_(e,t,n,r){let i=r!==void 0?e[qr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[qr]+=65536),(a<o||o==-1)&&(yI(e,n,t,c),e[qr]=(e[qr]&4294901760)+c+2),c++}function Ay(e,t){ue(ie.LifecycleHookStart,e,t);let n=U(null);try{t.call(e)}finally{U(n),ue(ie.LifecycleHookEnd,e,t)}}function yI(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[H]>>14<e[qr]>>16&&(e[H]&3)===t&&(e[H]+=16384,Ay(a,o)):Ay(a,o)}var to=-1,Jr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function _I(e){return(e.flags&8)!==0}function bI(e){return(e.flags&16)!==0}function wI(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];EI(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function m_(e){return e===3||e===4||e===6}function EI(e){return e.charCodeAt(0)===64}function no(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Ry(e,n,i,null,t[++r]):Ry(e,n,i,null,null))}}return e}function Ry(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function v_(e){return e!==to}function ul(e){return e&32767}function CI(e){return e>>16}function dl(e,t){let n=CI(e),r=t;for(;n>0;)r=r[Gr],n--;return r}var Ah=!0;function fl(e){let t=Ah;return Ah=e,t}var DI=256,y_=DI-1,__=5,II=0,Cn={};function SI(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(zr)&&(r=n[zr]),r==null&&(r=n[zr]=II++);let i=r&y_,o=1<<i;t.data[e+(i>>__)]|=o}function hl(e,t){let n=b_(e,t);if(n!==-1)return n;let r=t[F];r.firstCreatePass&&(e.injectorIndex=t.length,bh(r.data,e),bh(t,null),bh(r.blueprint,null));let i=dp(e,t),o=e.injectorIndex;if(v_(i)){let s=ul(i),a=dl(i,t),c=a[F].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function bh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function b_(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function dp(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=I_(i),r===null)return to;if(n++,i=i[Gr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return to}function Rh(e,t,n){SI(e,t,n)}function TI(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(m_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function w_(e,t,n){if(n&8||e!==void 0)return e;Fc(t,"NodeInjector")}function E_(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[Un],o=ft(void 0);try{return i?i.get(t,r,n&8):Ff(t,r,n&8)}finally{ft(o)}}return w_(r,t,n)}function C_(e,t,n,r=0,i){if(e!==null){if(t[H]&2048&&!(r&2)){let s=RI(e,t,n,r,Cn);if(s!==Cn)return s}let o=D_(e,t,n,r,Cn);if(o!==Cn)return o}return E_(t,n,r,i)}function D_(e,t,n,r,i){let o=xI(n);if(typeof o=="function"){if(!uh(t,e,r))return r&1?w_(i,n,r):E_(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Fc(n);else return s}finally{dh()}}else if(typeof o=="number"){let s=null,a=b_(e,t),c=to,l=r&1?t[Dt][Ft]:null;for((a===-1||r&4)&&(c=a===-1?dp(e,t):t[a+8],c===to||!Ny(r,!1)?a=-1:(s=t[F],a=ul(c),t=dl(c,t)));a!==-1;){let u=t[F];if(Oy(o,a,u.data)){let d=MI(a,t,n,s,r,l);if(d!==Cn)return d}c=t[a+8],c!==to&&Ny(r,t[F].data[a+8]===l)&&Oy(o,a,t)?(s=u,a=ul(c),t=dl(c,t)):a=-1}}return i}function MI(e,t,n,r,i,o){let s=t[F],a=s.data[e+8],c=r==null?Bn(a)&&Ah:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=sl(a,s,n,c,l);return u!==null?Ss(t,s,u,a,i):Cn}function sl(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,p=i?a+u:l;for(let f=d;f<p;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=s[c];if(f&&bn(f)&&f.type===n)return c}return null}function Ss(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof Jr){let a=o;if(a.resolving){let f=zv(s[n]);throw Pf(f)}let c=fl(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?ft(a.injectImpl):null,p=uh(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&vI(n,s[n],t)}finally{d!==null&&ft(d),fl(c),a.resolving=!1,dh()}}return o}function xI(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(zr)?e[zr]:void 0;return typeof t=="number"?t>=0?t&y_:AI:t}function Oy(e,t,n){let r=1<<e;return!!(n[t+(e>>__)]&r)}function Ny(e,t){return!(e&2)&&!(e&1&&t)}var Zr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return C_(this._tNode,this._lView,t,Br(r),n)}};function AI(){return new Zr(Je(),B())}function vr(e){return Rs(()=>{let t=e.prototype.constructor,n=t[os]||Oh(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[os]||Oh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Oh(e){return Sf(e)?()=>{let t=Oh(Ye(e));return t&&t()}:sr(e)}function RI(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[H]&2048&&!Ji(s);){let a=D_(o,s,n,r|2,Cn);if(a!==Cn)return a;let c=o.parent;if(!c){let l=s[zf];if(l){let u=l.get(n,Cn,r);if(u!==Cn)return u}c=I_(s),s=s[Gr]}o=c}return i}function I_(e){let t=e[F],n=t.type;return n===2?t.declTNode:n===1?e[Ft]:null}function Os(e){return TI(Je(),e)}function OI(){return so(Je(),B())}function so(e,t){return new Qe(jt(e,t))}var Qe=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=OI}return e})();function NI(e){return e instanceof Qe?e.nativeElement:e}function kI(){return this._results[Symbol.iterator]()}var pl=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ce}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=Yv(t);(this._changesDetected=!Kv(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=kI};function S_(e){return(e.flags&128)===128}var fp=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(fp||{}),T_=new Map,PI=0;function FI(){return PI++}function LI(e){T_.set(e[hs],e)}function Nh(e){T_.delete(e[hs])}var ky="__ngContext__";function ro(e,t){_n(t)?(e[ky]=t[hs],LI(t)):e[ky]=t}function M_(e){return A_(e[Yi])}function x_(e){return A_(e[Pt])}function A_(e){for(;e!==null&&!Xt(e);)e=e[Pt];return e}var jI;function hp(e){jI=e}var Il=new x("",{factory:()=>VI}),VI="ng";var Sl=new x(""),Ns=new x("",{providedIn:"platform",factory:()=>"unknown"});var Tl=new x("",{factory:()=>w(be).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var R_="r";var O_="di";var N_=!1,k_=new x("",{factory:()=>N_});var UI=(e,t,n,r)=>{};function BI(e,t,n,r){UI(e,t,n,r)}function pp(e){return(e.flags&32)===32}var $I=()=>null;function P_(e,t,n=!1){return $I(e,t,n)}function F_(e,t){let n=e.contentQueries;if(n!==null){let r=U(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];Wc(o),a.contentQueries(2,t[s],s)}}}finally{U(r)}}}function kh(e,t,n){Wc(0);let r=U(null);try{t(e,n)}finally{U(r)}}function gp(e,t,n){if(qf(t)){let r=U(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{U(r)}}}var rn=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(rn||{});var el;function L_(){if(el===void 0&&(el=null,Nt.trustedTypes))try{el=Nt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return el}function Ml(e){return L_()?.createHTML(e)||e}function HI(e){return L_()?.createScriptURL(e)||e}var tl;function zI(){if(tl===void 0&&(tl=null,Nt.trustedTypes))try{tl=Nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return tl}function Py(e){return zI()?.createScriptURL(e)||e}var Hn=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nc})`}},Ph=class extends Hn{getTypeName(){return"HTML"}},Fh=class extends Hn{getTypeName(){return"Style"}},Lh=class extends Hn{getTypeName(){return"Script"}},jh=class extends Hn{getTypeName(){return"URL"}},Vh=class extends Hn{getTypeName(){return"ResourceURL"}};function Bt(e){return e instanceof Hn?e.changingThisBreaksApplicationSecurity:e}function zn(e,t){let n=j_(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Nc})`)}return n===t}function j_(e){return e instanceof Hn&&e.getTypeName()||null}function mp(e){return new Ph(e)}function vp(e){return new Fh(e)}function yp(e){return new Lh(e)}function _p(e){return new jh(e)}function bp(e){return new Vh(e)}function GI(e){let t=new Bh(e);return qI()?new Uh(t):t}var Uh=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(Ml(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},Bh=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=Ml(t),n}};function qI(){try{return!!new window.DOMParser().parseFromString(Ml(""),"text/html")}catch{return!1}}var WI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ks(e){return e=String(e),e.match(WI)?e:"unsafe:"+e}function Gn(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function Ps(...e){let t={};for(let n of e)for(let r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}var V_=Gn("area,br,col,hr,img,wbr"),U_=Gn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),B_=Gn("rp,rt"),KI=Ps(B_,U_),YI=Ps(U_,Gn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ZI=Ps(B_,Gn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fy=Ps(V_,YI,ZI,KI),$_=Gn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),JI=Gn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),QI=Gn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),XI=Ps($_,JI,QI),eS=Gn("script,style,template"),$h=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=rS(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=nS(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(t){let n=Ly(t).toLowerCase();if(!Fy.hasOwnProperty(n))return this.sanitizedSomething=!0,!eS.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=t.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!XI.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;$_[a]&&(c=ks(c)),this.buf.push(" ",s,'="',jy(c),'"')}return this.buf.push(">"),!0}endElement(t){let n=Ly(t).toLowerCase();Fy.hasOwnProperty(n)&&!V_.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(jy(t))}};function tS(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function nS(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw H_(t);return t}function rS(e){let t=e.firstChild;if(t&&tS(e,t))throw H_(t);return t}function Ly(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function H_(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var iS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oS=/([^\#-~ |!])/g;function jy(e){return e.replace(/&/g,"&amp;").replace(iS,function(t){let n=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(oS,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var nl;function wp(e,t){let n=null;try{nl=nl||GI(e);let r=t?String(t):"";n=nl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=nl.getInertBodyElement(r)}while(r!==o);let a=new $h().sanitizeChildren(Vy(n)||n);return Ml(a)}finally{if(n){let r=Vy(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function Vy(e){return"content"in e&&sS(e)?e.content:null}function sS(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var aS=/^>|^->|<!--|-->|--!>|<!-$/g,cS=/(<|>)/g,lS="\u200B$1\u200B";function uS(e){return e.replace(aS,t=>t.replace(cS,lS))}function dS(e,t){return e.createText(t)}function fS(e,t,n){e.setValue(t,n)}function hS(e,t){return e.createComment(uS(t))}function z_(e,t,n){return e.createElement(t,n)}function gl(e,t,n,r,i){e.insertBefore(t,n,r,i)}function G_(e,t,n){e.appendChild(t,n)}function Uy(e,t,n,r,i){r!==null?gl(e,t,n,r,i):G_(e,t,n)}function q_(e,t,n,r){e.removeChild(null,t,n,r)}function pS(e,t,n){e.setAttribute(t,"style",n)}function gS(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function W_(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&wI(e,t,r),i!==null&&gS(e,t,i),o!==null&&pS(e,t,o)}var on=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(on||{});function sn(e){let t=Y_();return t?t.sanitize(on.URL,e)||"":zn(e,"URL")?Bt(e):ks(Jt(e))}function K_(e){let t=Y_();if(t)return Py(t.sanitize(on.RESOURCE_URL,e)||"");if(zn(e,"ResourceURL"))return Py(Bt(e));throw new S(904,!1)}function Ep(e){return HI(e[0])}function mS(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?K_:sn}function Cp(e,t,n){return mS(t,n)(e)}function Y_(){let e=B();return e&&e[vn].sanitizer}function Fs(e){return e.ownerDocument.defaultView}function Z_(e){return e instanceof Function?e():e}function vS(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var J_="ng-template";function yS(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&vS(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Dp(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Dp(e){return e.type===4&&e.value!==J_}function _S(e,t,n){let r=e.type===4&&!n?J_:e.value;return t===r}function bS(e,t,n){let r=4,i=e.attrs,o=i!==null?CS(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!tn(r)&&!tn(c))return!1;if(s&&tn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!_S(e,c,n)||c===""&&t.length===1){if(tn(r))return!1;s=!0}}else if(r&8){if(i===null||!yS(e,i,c,n)){if(tn(r))return!1;s=!0}}else{let l=t[++a],u=wS(c,i,Dp(e),n);if(u===-1){if(tn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(tn(r))return!1;s=!0}}}}return tn(r)||s}function tn(e){return(e&1)===0}function wS(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return DS(t,e)}function ES(e,t,n=!1){for(let r=0;r<t.length;r++)if(bS(e,t[r],n))return!0;return!1}function CS(e){for(let t=0;t<e.length;t++){let n=e[t];if(m_(n))return t}return e.length}function DS(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function By(e,t){return e?":not("+t.trim()+")":t}function IS(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!tn(s)&&(t+=By(o,i),i=""),r=s,o=o||!tn(r);n++}return i!==""&&(t+=By(o,i)),t}function SS(e){return e.map(IS).join(",")}function TS(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!tn(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var it={};function Ip(e,t,n,r,i,o,s,a,c,l,u){let d=xe+r,p=d+i,f=MS(d,p),g=typeof l=="function"?l():l;return f[F]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function MS(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:it);return n}function xS(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Ip(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Sp(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[Qt]=i,d[H]=r|4|128|8|64|1024,(l!==null||e&&e[H]&2048)&&(d[H]|=2048),Zf(d),d[$e]=d[Gr]=e,d[Pe]=n,d[vn]=s||e&&e[vn],d[fe]=a||e&&e[fe],d[Un]=c||e&&e[Un]||null,d[Ft]=o,d[hs]=FI(),d[Wi]=u,d[zf]=l,d[Dt]=t.type==2?e[Dt]:d,d}function AS(e,t,n){let r=jt(t,e),i=xS(n),o=e[vn].rendererFactory,s=Tp(e,Sp(e,i,null,Q_(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function Q_(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function X_(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Tp(e,t){return e[Yi]?e[Hf][Pt]=t:e[Yi]=t,e[Hf]=t,t}function D(e=1){eb(Ae(),B(),en()+e,!1)}function eb(e,t,n,r){if(!r)if((t[H]&3)===3){let o=e.preOrderCheckHooks;o!==null&&il(t,o,n)}else{let o=e.preOrderHooks;o!==null&&ol(t,o,0,n)}pr(n)}var xl=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(xl||{});function Hh(e,t,n,r){let i=U(null);try{let[o,s,a]=e.inputs[n],c=null;(s&xl.SignalBased)!==0&&(c=t[o][lt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):u_(t,c,o,r)}finally{U(i)}}var Dn=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(Dn||{}),RS;function Mp(e,t){return RS(e,t)}var Qr=new Set,xp=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(xp||{}),ni=new x(""),$y=new Set;function ao(e){$y.has(e)||($y.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var tb=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})();var nb=new x("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:w(Me)})});function rb(e,t,n){let r=e.get(nb);if(Array.isArray(t))for(let i of t)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function OS(e,t){let n=e.get(nb);if(t.detachedLeaveAnimationFns){for(let r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}function NS(e,t){for(let[n,r]of t)rb(e,r.animateFns)}function Hy(e,t,n,r){let i=e?.[Wr]?.enter;t!==null&&i&&i.has(n.index)&&NS(r,i)}function eo(e,t,n,r,i,o,s,a){if(i!=null){let c,l=!1;Xt(i)?c=i:_n(i)&&(l=!0,i=i[Qt]);let u=Lt(i);e===0&&r!==null?(Hy(a,r,o,n),s==null?G_(t,r,u):gl(t,r,u,s||null,!0)):e===1&&r!==null?(Hy(a,r,o,n),gl(t,r,u,s||null,!0)):e===2?zy(a,o,n,d=>{q_(t,u,l,d)}):e===3&&zy(a,o,n,()=>{t.destroyNode(u)}),c!=null&&qS(t,e,n,c,o,r,s)}}function kS(e,t){ib(e,t),t[Qt]=null,t[Ft]=null}function PS(e,t,n,r,i,o){r[Qt]=i,r[Ft]=t,Rl(e,r,n,1,i,o)}function ib(e,t){t[vn].changeDetectionScheduler?.notify(9),Rl(e,t,t[fe],2,null,null)}function FS(e){let t=e[Yi];if(!t)return wh(e[F],e);for(;t;){let n=null;if(_n(t))n=t[Yi];else{let r=t[Ie];r&&(n=r)}if(!n){for(;t&&!t[Pt]&&t!==e;)_n(t)&&wh(t[F],t),t=t[$e];t===null&&(t=e),_n(t)&&wh(t[F],t),n=t&&t[Pt]}t=n}}function Ap(e,t){let n=e[Kr],r=n.indexOf(t);n.splice(r,1)}function Al(e,t){if(Yr(t))return;let n=t[fe];n.destroyNode&&Rl(e,t,n,3,null,null),FS(t)}function wh(e,t){if(Yr(t))return;let n=U(null);try{t[H]&=-129,t[H]|=256,t[It]&&Jo(t[It]),VS(e,t),jS(e,t),t[F].type===1&&t[fe].destroy();let r=t[dr];if(r!==null&&Xt(t[$e])){r!==t[$e]&&Ap(r,t);let i=t[yn];i!==null&&i.detachView(e)}Nh(t)}finally{U(n)}}function zy(e,t,n,r){let i=e?.[Wr];if(i==null||i.leave==null||!i.leave.has(t.index))return r(!1);e&&Qr.add(e),rb(n,()=>{if(i.leave&&i.leave.has(t.index)){let s=i.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),LS(e,r)}else e&&Qr.delete(e),r(!1)},i)}function LS(e,t){let n=e[Wr]?.running;if(n){n.then(()=>{e[Wr].running=void 0,Qr.delete(e),t(!0)});return}t(!1)}function jS(e,t){let n=e.cleanup,r=t[Ki];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Ki]=null);let i=t[kn];if(i!==null){t[kn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[ps];if(o!==null){t[ps]=null;for(let s of o)s.destroy()}}function VS(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Jr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ue(ie.LifecycleHookStart,a,c);try{c.call(a)}finally{ue(ie.LifecycleHookEnd,a,c)}}else{ue(ie.LifecycleHookStart,i,o);try{o.call(i)}finally{ue(ie.LifecycleHookEnd,i,o)}}}}}function US(e,t,n){return BS(e,t.parent,n)}function BS(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Qt];if(Bn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===rn.None||i===rn.Emulated)return null}return jt(r,n)}function $S(e,t,n){return zS(e,t,n)}function HS(e,t,n){return e.type&40?jt(e,n):null}var zS=HS,Gy;function Rp(e,t,n,r){let i=US(e,r,t),o=t[fe],s=r.parent||t[Ft],a=$S(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Uy(o,i,n[c],a,!1);else Uy(o,i,n,a,!1);Gy!==void 0&&Gy(o,r,t,n,i)}function Ds(e,t){if(t!==null){let n=t.type;if(n&3)return jt(t,e);if(n&4)return zh(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Ds(e,r);{let i=e[t.index];return Xt(i)?zh(-1,i):Lt(i)}}else{if(n&128)return Ds(e,t.next);if(n&32)return Mp(t,e)()||Lt(e[t.index]);{let r=ob(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=ar(e[Dt]);return Ds(i,r)}else return Ds(e,t.next)}}}return null}function ob(e,t){if(t!==null){let r=e[Dt][Ft],i=t.projection;return r.projection[i]}return null}function zh(e,t){let n=Ie+e+1;if(n<t.length){let r=t[n],i=r[F].firstChild;if(i!==null)return Ds(r,i)}return t[fr]}function Op(e,t,n,r,i,o,s){for(;n!=null;){let a=r[Un];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&t===0&&(c&&ro(Lt(c),r),n.flags|=2),!pp(n))if(l&8)Op(e,t,n.child,r,i,o,!1),eo(t,e,a,i,c,n,o,r);else if(l&32){let u=Mp(n,r),d;for(;d=u();)eo(t,e,a,i,d,n,o,r);eo(t,e,a,i,c,n,o,r)}else l&16?GS(e,t,r,n,i,o):eo(t,e,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function Rl(e,t,n,r,i,o){Op(n,r,e.firstChild,t,i,o,!1)}function GS(e,t,n,r,i,o){let s=n[Dt],c=s[Ft].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];eo(t,e,n[Un],i,u,r,o,n)}else{let l=c,u=s[$e];S_(r)&&(l.flags|=128),Op(e,t,l,u,i,o,!0)}}function qS(e,t,n,r,i,o,s){let a=r[fr],c=Lt(r);a!==c&&eo(t,e,n,o,a,i,s);for(let l=Ie;l<r.length;l++){let u=r[l];Rl(u[F],u,e,t,o,a)}}function WS(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Dn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Dn.Important),e.setStyle(n,r,i,o))}}function sb(e,t,n,r,i){let o=en(),s=r&2;try{pr(-1),s&&t.length>xe&&eb(e,t,xe,!1);let a=s?ie.TemplateUpdateStart:ie.TemplateCreateStart;ue(a,i,n),n(r,i)}finally{pr(o);let a=s?ie.TemplateUpdateEnd:ie.TemplateCreateEnd;ue(a,i,n)}}function Ol(e,t,n){XS(e,t,n),(n.flags&64)===64&&eT(e,t,n)}function Ls(e,t,n=jt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function KS(e,t,n,r){let o=r.get(k_,N_)||n===rn.ShadowDom||n===rn.ExperimentalIsolatedShadowDom,s=e.selectRootElement(t,o);return YS(s),s}function YS(e){ZS(e)}var ZS=()=>null;function JS(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function ab(e,t,n,r,i,o){let s=t[F];if(Nl(e,s,t,n,r)){Bn(e)&&cb(t,e.index);return}e.type&3&&(n=JS(n)),QS(e,t,n,r,i,o)}function QS(e,t,n,r,i,o){if(e.type&3){let s=jt(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function cb(e,t){let n=Vt(t,e);n[H]&16||(n[H]|=64)}function XS(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Bn(n)&&AS(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||hl(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=Ss(t,e,s,n);if(ro(c,t),o!==null&&rT(t,s-r,c,a,n,o),bn(a)){let l=Vt(n.index,t);l[Pe]=Ss(t,e,s,n)}}}function eT(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=yy();try{pr(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];qc(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&tT(c,l)}}finally{pr(-1),qc(s)}}function tT(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Np(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];ES(t,o.selectors,!1)&&(r??=[],bn(o)?r.unshift(o):r.push(o))}return r}function nT(e,t,n,r,i,o){let s=jt(e,t);lb(t[fe],s,o,e.value,n,r,i)}function lb(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Jt(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function rT(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Hh(r,n,c,l)}}function kp(e,t,n,r,i){let o=xe+n,s=t[F],a=i(s,t,e,r,n);t[o]=a,Qi(e,!0);let c=e.type===2;return c?(W_(t[fe],a,e),(ly()===0||Zi(e))&&ro(a,t),uy()):ro(a,t),Jc()&&(!c||!pp(e))&&Rp(s,t,a,e),e}function Pp(e){let t=e;return oh()?hy():(t=t.parent,Qi(t,!1)),t}function iT(e,t){let n=e[Un];if(!n)return;let r;try{r=n.get(_t,null)}catch{r=null}r?.(t)}function Nl(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Hh(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];Hh(u,l,r,i),a=!0}return a}function oT(e,t){let n=Vt(t,e),r=n[F];sT(r,n);let i=n[Qt];i!==null&&n[Wi]===null&&(n[Wi]=P_(i,n[Un])),ue(ie.ComponentStart);try{Fp(r,n,n[Pe])}finally{ue(ie.ComponentEnd,n[Pe])}}function sT(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Fp(e,t,n){Kc(t);try{let r=e.viewQuery;r!==null&&kh(1,r,n);let i=e.template;i!==null&&sb(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[yn]?.finishViewCreation(e),e.staticContentQueries&&F_(e,t),e.staticViewQueries&&kh(2,e.viewQuery,n);let o=e.components;o!==null&&aT(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[H]&=-5,Yc()}}function aT(e,t){for(let n=0;n<t.length;n++)oT(e,t[n])}function Lp(e,t,n,r){let i=U(null);try{let o=t.tView,a=e[H]&4096?4096:16,c=Sp(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[dr]=l;let u=e[yn];return u!==null&&(c[yn]=u.createEmbeddedView(o)),Fp(o,c,n),c}finally{U(i)}}function ml(e,t){return!t||t.firstChild===null||S_(e)}function Ts(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Lt(o)),Xt(o)&&ub(o,r);let s=n.type;if(s&8)Ts(e,t,n.child,r);else if(s&32){let a=Mp(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=ob(t,n);if(Array.isArray(a))r.push(...a);else{let c=ar(t[Dt]);Ts(c[F],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ub(e,t){for(let n=Ie;n<e.length;n++){let r=e[n],i=r[F].firstChild;i!==null&&Ts(r[F],r,i,t)}e[fr]!==e[Qt]&&t.push(e[fr])}function db(e){if(e[Bc]!==null){for(let t of e[Bc])t.impl.addSequence(t);e[Bc].length=0}}var fb=[];function cT(e){return e[It]??lT(e)}function lT(e){let t=fb.pop()??Object.create(dT);return t.lView=e,t}function uT(e){e.lView[It]!==e&&(e.lView=null,fb.push(e))}var dT=q(C({},Ko),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ys(e.lView)},consumerOnSignalRead(){this.lView[It]=this}});function fT(e){let t=e[It]??Object.create(hT);return t.lView=e,t}var hT=q(C({},Ko),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=ar(e.lView);for(;t&&!hb(t[F]);)t=ar(t);t&&Jf(t)},consumerOnSignalRead(){this.lView[It]=this}});function hb(e){return e.type!==2}function pb(e){if(e[ps]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[ps])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[H]&8192)}}var pT=100;function gb(e,t=0){let r=e[vn].rendererFactory,i=!1;i||r.begin?.();try{gT(e,t)}finally{i||r.end?.()}}function gT(e,t){let n=sh();try{ah(!0),Gh(e,t);let r=0;for(;vs(e);){if(r===pT)throw new S(103,!1);r++,Gh(e,1)}}finally{ah(n)}}function mT(e,t,n,r){if(Yr(t))return;let i=t[H],o=!1,s=!1;Kc(t);let a=!0,c=null,l=null;o||(hb(e)?(l=cT(t),c=Zo(l)):Ya()===null?(a=!1,l=fT(t),c=Zo(l)):t[It]&&(Jo(t[It]),t[It]=null));try{Zf(t),gy(e.bindingStartIndex),n!==null&&sb(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&il(t,f,null)}else{let f=e.preOrderHooks;f!==null&&ol(t,f,0,null),_h(t,0)}if(s||vT(t),pb(t),mb(t,0),e.contentQueries!==null&&F_(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&il(t,f)}else{let f=e.contentHooks;f!==null&&ol(t,f,1),_h(t,1)}_T(e,t);let d=e.components;d!==null&&yb(t,d,0);let p=e.viewQuery;if(p!==null&&kh(2,p,r),!o)if(u){let f=e.viewCheckHooks;f!==null&&il(t,f)}else{let f=e.viewHooks;f!==null&&ol(t,f,2),_h(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Uc]){for(let f of t[Uc])f();t[Uc]=null}o||(db(t),t[H]&=-73)}catch(u){throw o||ys(t),u}finally{l!==null&&(Za(l,c),a&&uT(l)),Yc()}}function mb(e,t){for(let n=M_(e);n!==null;n=x_(n))for(let r=Ie;r<n.length;r++){let i=n[r];vb(i,t)}}function vT(e){for(let t=M_(e);t!==null;t=x_(t)){if(!(t[H]&2))continue;let n=t[Kr];for(let r=0;r<n.length;r++){let i=n[r];Jf(i)}}}function yT(e,t,n){ue(ie.ComponentStart);let r=Vt(t,e);try{vb(r,n)}finally{ue(ie.ComponentEnd,r[Pe])}}function vb(e,t){Hc(e)&&Gh(e,t)}function Gh(e,t){let r=e[F],i=e[H],o=e[It],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ja(o)),s||=!1,o&&(o.dirty=!1),e[H]&=-9217,s)mT(r,e,r.template,e[Pe]);else if(i&8192){let a=U(null);try{pb(e),mb(e,1);let c=r.components;c!==null&&yb(e,c,1),db(e)}finally{U(a)}}}function yb(e,t,n){for(let r=0;r<t.length;r++)yT(e,t[r],n)}function _T(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)pr(~i);else{let o=i,s=n[++r],a=n[++r];vy(s,o);let c=t[o];ue(ie.HostBindingsUpdateStart,c);try{a(2,c)}finally{ue(ie.HostBindingsUpdateEnd,c)}}}}finally{pr(-1)}}function jp(e,t){let n=sh()?64:1088;for(e[vn].changeDetectionScheduler?.notify(t);e;){e[H]|=n;let r=ar(e);if(Ji(e)&&!r)return e;e=r}return null}function _b(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function bT(e,t){let n=Ie+t;if(n<e.length)return e[n]}function Vp(e,t,n,r=!0){let i=t[F];if(ET(i,t,e,n),r){let s=zh(n,e),a=t[fe],c=a.parentNode(e[fr]);c!==null&&PS(i,e[Ft],a,t,c,s)}let o=t[Wi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function wT(e,t){let n=Ms(e,t);return n!==void 0&&Al(n[F],n),n}function Ms(e,t){if(e.length<=Ie)return;let n=Ie+t,r=e[n];if(r){let i=r[dr];i!==null&&i!==e&&Ap(i,r),t>0&&(e[n-1][Pt]=r[Pt]);let o=us(e,Ie+t);kS(r[F],r);let s=o[yn];s!==null&&s.detachView(o[F]),r[$e]=null,r[Pt]=null,r[H]&=-129}return r}function ET(e,t,n,r){let i=Ie+r,o=n.length;r>0&&(n[i-1][Pt]=t),r<o-Ie?(t[Pt]=n[i],Lf(n,Ie+r,t)):(n.push(t),t[Pt]=null),t[$e]=n;let s=t[dr];s!==null&&n!==s&&bb(s,t);let a=t[yn];a!==null&&a.insertView(e),zc(t),t[H]|=128}function bb(e,t){let n=e[Kr],r=t[$e];if(_n(r))e[H]|=2;else{let i=r[$e][Dt];t[Dt]!==i&&(e[H]|=2)}n===null?e[Kr]=[t]:n.push(t)}var gr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[F];return Ts(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[Pe]}set context(t){this._lView[Pe]=t}get destroyed(){return Yr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[$e];if(Xt(t)){let n=t[gs],r=n?n.indexOf(this):-1;r>-1&&(Ms(t,r),us(n,r))}this._attachedToViewContainer=!1}Al(this._lView[F],this._lView)}onDestroy(t){Qf(this._lView,t)}markForCheck(){jp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[H]&=-129}reattach(){zc(this._lView),this._lView[H]|=128}detectChanges(){this._lView[H]|=1024,gb(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Ji(this._lView),n=this._lView[dr];n!==null&&!t&&Ap(n,this._lView),ib(this._lView[F],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=t;let n=Ji(this._lView),r=this._lView[dr];r!==null&&!n&&bb(r,this._lView),zc(this._lView)}};var mr=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=CT;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Lp(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new gr(o)}}return e})();function CT(){return kl(Je(),B())}function kl(e,t){return e.type&4?new mr(t,e,so(e,t)):null}function js(e,t,n,r,i){let o=e.data[t];if(o===null)o=DT(e,t,n,r,i),my()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=fy();o.injectorIndex=s===null?-1:s.injectorIndex}return Qi(o,!0),o}function DT(e,t,n,r,i){let o=ih(),s=oh(),a=s?o:o&&o.parent,c=e.data[t]=ST(e,a,n,t,r,i);return IT(e,c,o,s),c}function IT(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function ST(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return dy()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function TT(e){let t=e[Gf]??[],r=e[$e][fe],i=[];for(let o of t)o.data[O_]!==void 0?i.push(o):MT(o,r);e[Gf]=i}function MT(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[R_];for(;n<i;){let o=r.nextSibling;q_(t,r,!1),r=o,n++}}}var xT=()=>null,AT=()=>null;function qh(e,t){return xT(e,t)}function RT(e,t,n){return AT(e,t,n)}var wb=class{},Pl=class{},Wh=class{resolveComponentFactory(t){throw new S(917,!1)}},Vs=class{static NULL=new Wh},Xr=class{},qn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>OT()}return e})();function OT(){let e=B(),t=Je(),n=Vt(t.index,e);return(_n(n)?n:e)[fe]}var Eb=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:()=>null})}return e})();var al={},Kh=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,al,r);return i!==al||n===al?i:this.parentInjector.get(t,n,r)}};function vl(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=kc(i,a);else if(o==2){let c=a,l=t[++s];r=kc(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function A(e,t=0){let n=B();if(n===null)return k(e,t);let r=Je();return C_(r,n,Ye(e),t)}function Up(){let e="invalid";throw new Error(e)}function Cb(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}PT(e,t,n,a,o,c,l)}o!==null&&r!==null&&NT(n,r,o)}function NT(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new S(-301,!1);r.push(t[i],o)}}function kT(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function PT(e,t,n,r,i,o,s){let a=r.length,c=null;for(let p=0;p<a;p++){let f=r[p];c===null&&bn(f)&&(c=f,kT(e,n,p)),Rh(hl(n,t),e,f.type)}BT(n,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=X_(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(n.mergedAttrs=no(n.mergedAttrs,f.hostAttrs),LT(e,n,t,d,f),UT(d,f,i),s!==null&&s.has(f)){let[m,v]=s.get(f);n.directiveToIndex.set(f.type,[d,m+n.directiveStart,v+n.directiveStart])}else(o===null||!o.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}FT(e,n,o)}function FT(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))qy(0,t,i,r),qy(1,t,i,r),Ky(t,r,!1);else{let o=n.get(i);Wy(0,t,o,r),Wy(1,t,o,r),Ky(t,r,!0)}}}function qy(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),Db(t,o)}}function Wy(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Db(t,s)}}function Db(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Ky(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Dp(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function LT(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=sr(i.type,!0)),s=new Jr(o,bn(i),A,null);e.blueprint[r]=s,n[r]=s,jT(e,t,r,X_(e,n,i.hostVars,it),i)}function jT(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;VT(s)!=a&&s.push(a),s.push(n,r,o)}}function VT(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function UT(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;bn(t)&&(n[""]=e)}}function BT(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Bp(e,t,n,r,i,o,s,a){let c=t[F],l=c.consts,u=wn(l,s),d=js(c,e,n,r,u);return o&&Cb(c,t,d,wn(l,a),i),d.mergedAttrs=no(d.mergedAttrs,d.attrs),d.attrs!==null&&vl(d,d.attrs,!1),d.mergedAttrs!==null&&vl(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function $p(e,t){p_(e,t),qf(t)&&e.queries.elementEnd(t)}function $T(e,t,n,r,i,o){let s=t.consts,a=wn(s,i),c=js(t,e,n,r,a);if(c.mergedAttrs=no(c.mergedAttrs,c.attrs),o!=null){let l=wn(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&vl(c,c.attrs,!1),c.mergedAttrs!==null&&vl(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Hp(e){return Sb(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Ib(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function Sb(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Tb(e,t,n){return e[t]=n}function St(e,t,n){if(n===it)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function zp(e,t,n,r){let i=St(e,t,n);return St(e,t+1,r)||i}function HT(e,t,n,r,i){let o=zp(e,t,n,r);return St(e,t+2,i)||o}function cl(e,t,n){return function r(i){let o=Bn(e)?Vt(e.index,t):t;jp(o,5);let s=t[Pe],a=Yy(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=Yy(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Yy(e,t,n,r){let i=U(null);try{return ue(ie.OutputStart,t,n),n(r)!==!1}catch(o){return iT(e,o),!1}finally{ue(ie.OutputEnd,t,n),U(i)}}function Mb(e,t,n,r,i,o,s,a){let c=Zi(e),l=!1,u=null;if(!r&&c&&(u=GT(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=jt(e,n),p=r?r(d):d;BI(n,p,o,a);let f=i.listen(p,o,a);if(!zT(o)){let g=r?m=>r(Lt(m[e.index])):e.index;xb(g,t,n,o,a,f,!1)}}return l}function zT(e){return e.startsWith("animation")||e.startsWith("transition")}function GT(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Ki],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function xb(e,t,n,r,i,o,s){let a=t.firstCreatePass?eh(t):null,c=Xf(n),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function Zy(e,t,n,r,i,o){let s=t[n],a=t[F],l=a.data[n].outputs[r],d=s[l].subscribe(o);xb(e.index,a,t,i,o,d,!0)}var Yh=Symbol("BINDING");var yl=class extends Vs{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=lr(t);return new io(n,this.ngModule)}};function qT(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&xl.SignalBased)!==0};return i&&(o.transform=i),o})}function WT(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function KT(e,t,n){let r=t instanceof Me?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Kh(n,r):n}function YT(e){let t=e.get(Xr,null);if(t===null)throw new S(407,!1);let n=e.get(Eb,null),r=e.get(cr,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function ZT(e,t){let n=Ab(e);return z_(t,n,n==="svg"?Wf:n==="math"?ry:null)}function Ab(e){return(e.selectors[0][0]||"div").toLowerCase()}var io=class extends Pl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=qT(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=WT(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=SS(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){ue(ie.DynamicComponentStart);let a=U(null);try{let c=this.componentDef,l=JT(r,c,s,o),u=KT(c,i||this.ngModule,t),d=YT(u),p=d.rendererFactory.createRenderer(null,c),f=r?KS(p,r,c.encapsulation,u):ZT(c,p),g=s?.some(Jy)||o?.some(y=>typeof y!="function"&&y.bindings.some(Jy)),m=Sp(null,l,null,512|Q_(c),null,null,d,p,u,null,P_(f,u,!0));m[xe]=f,Kc(m);let v=null;try{let y=Bp(xe,m,2,"#host",()=>l.directiveRegistry,!0,0);W_(p,f,y),ro(f,m),Ol(l,m,y),gp(l,y,m),$p(l,y),n!==void 0&&XT(y,this.ngContentSelectors,n),v=Vt(y.index,m),m[Pe]=v[Pe],Fp(l,m,null)}catch(y){throw v!==null&&Nh(v),Nh(m),y}finally{ue(ie.DynamicComponentEnd),Yc()}return new _l(this.componentType,m,!!g)}finally{U(a)}}};function JT(e,t,n,r){let i=e?["ng-version","21.0.4"]:TS(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[Yh].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let p of d.bindings){a+=p[Yh].requiredVars;let f=u+1;p.create&&(p.targetIdx=f,(o??=[]).push(p)),p.update&&(p.targetIdx=f,(s??=[]).push(p))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,p=kf(d);c.push(p)}return Ip(0,null,QT(o,s),1,a,c,null,null,null,[i],null)}function QT(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function Jy(e){let t=e[Yh].kind;return t==="input"||t==="twoWay"}var _l=class extends wb{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=ms(n[F],xe),this.location=so(this._tNode,n),this.instance=Vt(this._tNode.index,n)[Pe],this.hostView=this.changeDetectorRef=new gr(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Nl(r,i[F],i,t,n);this.previousInputValues.set(t,n);let s=Vt(r.index,i);jp(s,1)}get injector(){return new Zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function XT(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Wn=(()=>{class e{static __NG_ELEMENT_ID__=eM}return e})();function eM(){let e=Je();return Ob(e,B())}var tM=Wn,Rb=class extends tM{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return so(this._hostTNode,this._hostLView)}get injector(){return new Zr(this._hostTNode,this._hostLView)}get parentInjector(){let t=dp(this._hostTNode,this._hostLView);if(v_(t)){let n=dl(t,this._hostLView),r=ul(t),i=n[F].data[r+8];return new Zr(i,n)}else return new Zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Qy(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Ie}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=qh(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ml(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!hI(t),l;if(c)l=n;else{let v=n||{};l=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef,s=v.directives,a=v.bindings}let u=c?t:new io(lr(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let y=(c?d:this.parentInjector).get(Me,null);y&&(o=y)}let p=lr(u.componentType??{}),f=qh(this._lContainer,p?.id??null),g=f?.firstChild??null,m=u.create(d,i,g,o,s,a);return this.insertImpl(m.hostView,l,ml(this._hostTNode,f)),m}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(oy(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[$e],l=new Rb(c,c[Ft],c[$e]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Vp(s,i,o,r),t.attachToViewContainerRef(),Lf(Eh(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Qy(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Ms(this._lContainer,n);r&&(us(Eh(this._lContainer),n),Al(r[F],r))}detach(t){let n=this._adjustIndex(t,-1),r=Ms(this._lContainer,n);return r&&us(Eh(this._lContainer),n)!=null?new gr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Qy(e){return e[gs]}function Eh(e){return e[gs]||(e[gs]=[])}function Ob(e,t){let n,r=t[e.index];return Xt(r)?n=r:(n=_b(r,t,null,e),t[e.index]=n,Tp(t,n)),rM(n,t,e,r),new Rb(n,e,t)}function nM(e,t){let n=e[fe],r=n.createComment(""),i=jt(t,e),o=n.parentNode(i);return gl(n,o,r,n.nextSibling(i),!1),r}var rM=sM,iM=()=>!1;function oM(e,t,n){return iM(e,t,n)}function sM(e,t,n,r){if(e[fr])return;let i;n.type&8?i=Lt(r):i=nM(t,n),e[fr]=i}var Zh=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Jh=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Gp(t,n).matches!==null&&this.queries[n].setDirty()}},Qh=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=pM(t):this.predicate=t}},Xh=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},ep=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,aM(n,o)),this.matchTNodeWithReadOption(t,n,sl(n,t,o,!1,!1))}else r===mr?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,sl(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Qe||i===Wn||i===mr&&n.type&4)this.addMatch(n.index,-2);else{let o=sl(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function aM(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function cM(e,t){return e.type&11?so(e,t):e.type&4?kl(e,t):null}function lM(e,t,n,r){return n===-1?cM(t,e):n===-2?uM(e,t,r):Ss(e,e[F],n,t)}function uM(e,t,n){if(n===Qe)return so(t,e);if(n===mr)return kl(t,e);if(n===Wn)return Ob(t,e)}function Nb(e,t,n,r){let i=t[yn].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(lM(t,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function tp(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Nb(e,t,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=t[-c];for(let d=Ie;d<u.length;d++){let p=u[d];p[dr]===p[$e]&&tp(p[F],p,l,r)}if(u[Kr]!==null){let d=u[Kr];for(let p=0;p<d.length;p++){let f=d[p];tp(f[F],f,l,r)}}}}}return r}function dM(e,t){return e[yn].queries[t].queryList}function fM(e,t,n){let r=new pl((n&4)===4);return cy(e,t,r,r.destroy),(t[yn]??=new Jh).queries.push(new Zh(r))-1}function hM(e,t,n){let r=Ae();return r.firstCreatePass&&(gM(r,new Qh(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),fM(r,B(),t)}function pM(e){return e.split(",").map(t=>t.trim())}function gM(e,t,n){e.queries===null&&(e.queries=new Xh),e.queries.track(new ep(t,n))}function Gp(e,t){return e.queries.getByIndex(t)}function mM(e,t){let n=e[F],r=Gp(n,t);return r.crossesNgTemplate?tp(n,e,t,[]):Nb(n,e,r,t)}var ei=class{},Fl=class{};var bl=class extends ei{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new yl(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Nf(t);this._bootstrapComponents=Z_(o.bootstrap),this._r3Injector=fh(t,n,[{provide:ei,useValue:this},{provide:Vs,useValue:this.componentFactoryResolver},...r],Pn(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},wl=class extends Fl{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new bl(this.moduleType,t,[])}};var xs=class extends ei{injector;componentFactoryResolver=new yl(this);instance=null;constructor(t){super();let n=new Hr([...t.providers,{provide:ei,useValue:this},{provide:Vs,useValue:this.componentFactoryResolver}],t.parent||fs(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Us(e,t,n=null){return new xs({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var vM=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Uf(!1,n.type),i=r.length>0?Us([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=T({token:e,providedIn:"environment",factory:()=>new e(k(Me))})}return e})();function Y(e){return Rs(()=>{let t=kb(e),n=q(C({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===fp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(vM).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||rn.Emulated,styles:e.styles||ht,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&ao("NgStandalone"),Pb(n);let r=e.dependencies;return n.directiveDefs=Xy(r,yM),n.pipeDefs=Xy(r,Hv),n.id=wM(n),n})}function yM(e){return lr(e)||kf(e)}function an(e){return Rs(()=>({type:e.type,bootstrap:e.bootstrap||ht,declarations:e.declarations||ht,imports:e.imports||ht,exports:e.exports||ht,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function _M(e,t){if(e==null)return ur;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=xl.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function bM(e){if(e==null)return ur;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ye(e){return Rs(()=>{let t=kb(e);return Pb(t),t})}function Ll(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function kb(e){let t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||ur,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||ht,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:_M(e.inputs,t),outputs:bM(e.outputs),debugInfo:null}}function Pb(e){e.features?.forEach(t=>t(e))}function Xy(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function wM(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function EM(e){return Object.getPrototypeOf(e.prototype).constructor}function cn(e){let t=EM(e.type),n=!0,r=[e];for(;t;){let i;if(bn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new S(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Ch(e.inputs),s.declaredInputs=Ch(e.declaredInputs),s.outputs=Ch(e.outputs);let a=i.hostBindings;a&&TM(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&IM(e,c),l&&SM(e,l),CM(e,i),$v(e.outputs,i.outputs),bn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===cn&&(n=!1)}}t=Object.getPrototypeOf(t)}DM(r)}function CM(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function DM(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=no(i.hostAttrs,n=no(n,i.hostAttrs))}}function Ch(e){return e===ur?{}:e===ht?[]:e}function IM(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function SM(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function TM(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function Fb(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=no(e.mergedAttrs,e.attrs);let u=e.tView=Ip(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Qi(e,!1);let c=xM(n,t,e,r);Jc()&&Rp(n,t,c,e),ro(c,t);let l=_b(c,t,c,e);t[r+xe]=l,Tp(t,l),oM(l,e,t)}function MM(e,t,n,r,i,o,s,a,c,l,u){let d=n+xe,p;return t.firstCreatePass?(p=js(t,d,4,s||null,a||null),Gc()&&Cb(t,e,p,wn(t.consts,l),Np),p_(t,p)):p=t.data[d],Fb(p,e,t,n,r,i,o,c),Zi(p)&&Ol(t,e,p),l!=null&&Ls(e,p,u),p}function e_(e,t,n,r,i,o,s,a,c,l,u){let d=n+xe,p;if(t.firstCreatePass){if(p=js(t,d,4,s||null,a||null),l!=null){let f=wn(t.consts,l);p.localNames=[];for(let g=0;g<f.length;g+=2)p.localNames.push(f[g],-1)}}else p=t.data[d];return Fb(p,e,t,n,r,i,o,c),l!=null&&Ls(e,p,u),p}function ne(e,t,n,r,i,o,s,a){let c=B(),l=Ae(),u=wn(l.consts,o);return MM(c,l,e,t,n,r,i,u,void 0,s,a),ne}var xM=AM;function AM(e,t,n,r){return Es(!0),t[fe].createComment("")}var jl=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Lb(e){return typeof e=="function"&&e[lt]!==void 0}function qp(e){return Lb(e)&&typeof e.set=="function"}var Wp=new x("");function Kn(e){return!!e&&typeof e.then=="function"}function Vl(e){return!!e&&typeof e.subscribe=="function"}var jb=new x("");var Kp=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=w(jb,{optional:!0})??[];injector=w(Ct);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ze(this.injector,i);if(Kn(o))n.push(o);else if(Vl(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ul=new x("");function Vb(){Wd(()=>{let e="";throw new S(600,e)})}function Ub(e){return e.isBoundToModule}var RM=10;var Yn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=w(_t);afterRenderManager=w(tb);zonelessEnabled=w(Xi);rootEffectScheduler=w(yh);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ce;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=w(En);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(te(n=>!n))}constructor(){w(ni,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=w(Me);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ct.NULL){return this._injector.get(De).run(()=>{ue(ie.BootstrapComponentStart);let s=n instanceof Pl;if(!this._injector.get(Kp).done){let g="";throw new S(405,g)}let c;s?c=n:c=this._injector.get(Vs).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=Ub(c)?void 0:this._injector.get(ei),u=r||c.selector,d=c.create(i,[],u,l),p=d.location.nativeElement,f=d.injector.get(Wp,null);return f?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Is(this.components,d),f?.unregisterApplication(p)}),this._loadComponent(d),ue(ie.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ue(ie.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(xp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ue(ie.ChangeDetectionEnd),new S(101,!1);let n=U(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,U(n),this.afterTick.next(),ue(ie.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<RM;){ue(ie.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ue(ie.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!vs(i))continue;let o=r&&!this.zonelessEnabled?0:1;gb(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>vs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Is(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Ul,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Is(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Is(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function co(e,t){let n=B(),r=hr();if(St(n,r,t)){let i=Ae(),o=ws();if(Nl(o,i,n,e,t))Bn(o)&&cb(n,o.index);else{let a=jt(o,n);lb(n[fe],a,null,o.value,e,t,null)}}return co}function Bs(e,t,n,r){let i=B(),o=hr();if(St(i,o,t)){let s=Ae(),a=ws();nT(a,i,e,t,n,r)}return Bs}var iB=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var np=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function Dh(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function OM(e,t,n,r){let i,o,s=0,a=e.length-1,c=void 0;if(Array.isArray(t)){U(r);let l=t.length-1;for(U(null);s<=a&&s<=l;){let u=e.at(s),d=t[s],p=Dh(s,u,s,d,n);if(p!==0){p<0&&e.updateValue(s,d),s++;continue}let f=e.at(a),g=t[l],m=Dh(a,f,l,g,n);if(m!==0){m<0&&e.updateValue(a,g),a--,l--;continue}let v=n(s,u),y=n(a,f),V=n(s,d);if(Object.is(V,y)){let M=n(l,g);Object.is(M,v)?(e.swap(s,a),e.updateValue(a,g),l--,a--):e.move(a,s),e.updateValue(s,d),s++;continue}if(i??=new El,o??=n_(e,s,a,n),rp(e,i,s,V))e.updateValue(s,d),s++,a++;else if(o.has(V))i.set(v,e.detach(s)),a--;else{let M=e.create(s,t[s]);e.attach(s,M),s++,a++}}for(;s<=l;)t_(e,i,n,s,t[s]),s++}else if(t!=null){U(r);let l=t[Symbol.iterator]();U(null);let u=l.next();for(;!u.done&&s<=a;){let d=e.at(s),p=u.value,f=Dh(s,d,s,p,n);if(f!==0)f<0&&e.updateValue(s,p),s++,u=l.next();else{i??=new El,o??=n_(e,s,a,n);let g=n(s,p);if(rp(e,i,s,g))e.updateValue(s,p),s++,a++,u=l.next();else if(!o.has(g))e.attach(s,e.create(s,p)),s++,a++,u=l.next();else{let m=n(s,d);i.set(m,e.detach(s)),a--}}}for(;!u.done;)t_(e,i,n,e.length,u.value),u=l.next()}for(;s<=a;)e.destroy(e.detach(a--));i?.forEach(l=>{e.destroy(l)})}function rp(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function t_(e,t,n,r,i){if(rp(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function n_(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var El=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};var ip=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ie}};function ri(e,t){return t}var op=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function ii(e,t,n,r,i,o,s,a,c,l,u,d,p){ao("NgControlFlow");let f=B(),g=Ae(),m=c!==void 0,v=B(),y=a?s.bind(v[Dt][Pe]):s,V=new op(m,y);v[xe+e]=V,e_(f,g,e+1,t,n,r,i,wn(g.consts,o),256),m&&e_(f,g,e+2,c,l,u,d,wn(g.consts,p),512)}var sp=class extends np{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Ie}at(t){return this.getLView(t)[Pe].$implicit}attach(t,n){let r=n[Wi];this.needsIndexUpdate||=t!==this.length,Vp(this.lContainer,n,t,ml(this.templateTNode,r)),NM(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,kM(this.lContainer,t),PM(this.lContainer,t)}create(t,n){let r=qh(this.lContainer,this.templateTNode.tView.ssrId);return Lp(this.hostLView,this.templateTNode,new ip(this.lContainer,n,t),{dehydratedView:r})}destroy(t){Al(t[F],t)}updateValue(t,n){this.getLView(t)[Pe].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Pe].$index=t}getLView(t){return FM(this.lContainer,t)}};function oi(e){let t=U(null),n=en();try{let r=B(),i=r[F],o=r[n],s=n+1,a=r_(r,s);if(o.liveCollection===void 0){let l=i_(i,s);o.liveCollection=new sp(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(OM(c,e,o.trackByFn,t),c.updateIndexes(),o.hasEmptyBlock){let l=hr(),u=c.length===0;if(St(r,l,u)){let d=n+2,p=r_(r,d);if(u){let f=i_(i,d),g=RT(p,f,r),m=Lp(r,f,void 0,{dehydratedView:g});Vp(p,m,0,ml(f,g))}else i.firstUpdatePass&&TT(p),wT(p,0)}}}finally{U(t)}}function r_(e,t){return e[t]}function NM(e,t){if(e.length<=Ie)return;let n=Ie+t,r=e[n],i=r?r[Wr]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[Un];OS(o,i),Qr.delete(r),i.detachedLeaveAnimationFns=void 0}}function kM(e,t){if(e.length<=Ie)return;let n=Ie+t,r=e[n],i=r?r[Wr]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function PM(e,t){return Ms(e,t)}function FM(e,t){return bT(e,t)}function i_(e,t){return ms(e,t)}function N(e,t,n){let r=B(),i=hr();if(St(r,i,t)){let o=Ae(),s=ws();ab(s,r,e,t,r[fe],n)}return N}function ap(e,t,n,r,i){Nl(t,e,n,i?"class":"style",r)}function E(e,t,n,r){let i=B(),o=i[F],s=e+xe,a=o.firstCreatePass?Bp(s,i,2,t,Np,Gc(),n,r):o.data[s];if(kp(a,i,e,t,Bb),Zi(a)){let c=i[F];Ol(c,i,a),gp(c,a,i)}return r!=null&&Ls(i,a),E}function b(){let e=Ae(),t=Je(),n=Pp(t);return e.firstCreatePass&&$p(e,n),nh(n)&&rh(),th(),n.classesWithoutHost!=null&&_I(n)&&ap(e,n,B(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&bI(n)&&ap(e,n,B(),n.stylesWithoutHost,!1),b}function X(e,t,n,r){return E(e,t,n,r),b(),X}function R(e,t,n,r){let i=B(),o=i[F],s=e+xe,a=o.firstCreatePass?$T(s,o,2,t,n,r):o.data[s];return kp(a,i,e,t,Bb),r!=null&&Ls(i,a),R}function P(){let e=Je(),t=Pp(e);return nh(t)&&rh(),th(),P}function ge(e,t,n,r){return R(e,t,n,r),P(),ge}var Bb=(e,t,n,r,i)=>(Es(!0),z_(t[fe],r,Dy()));function lo(e,t,n){let r=B(),i=r[F],o=e+xe,s=i.firstCreatePass?Bp(o,r,8,"ng-container",Np,Gc(),t,n):i.data[o];if(kp(s,r,e,"ng-container",LM),Zi(s)){let a=r[F];Ol(a,r,s),gp(a,s,r)}return n!=null&&Ls(r,s),lo}function uo(){let e=Ae(),t=Je(),n=Pp(t);return e.firstCreatePass&&$p(e,n),uo}var LM=(e,t,n,r,i)=>(Es(!0),hS(t[fe],""));function He(){return B()}var Cs=void 0;function jM(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var VM=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Cs,Cs,Cs],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",jM],Ih={};function Tt(e){let t=UM(e),n=o_(t);if(n)return n;let r=t.split("-")[0];if(n=o_(r),n)return n;if(r==="en")return VM;throw new S(701,!1)}function o_(e){return e in Ih||(Ih[e]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[e]),Ih[e]}var Oe=(function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e})(Oe||{});function UM(e){return e.toLowerCase().replace(/_/g,"-")}var $s="en-US";var BM=$s;function $b(e){typeof e=="string"&&(BM=e.toLowerCase().replace(/_/g,"-"))}function K(e,t,n){let r=B(),i=Ae(),o=Je();return Hb(i,r,r[fe],o,e,t,n),K}function Bl(e,t,n){let r=B(),i=Ae(),o=Je();return(o.type&3||n)&&Mb(o,i,r,n,r[fe],e,t,cl(o,r,t)),Bl}function Hb(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=cl(r,t,o),Mb(r,e,t,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let p=u[d],f=u[d+1];c??=cl(r,t,o),Zy(r,t,p,f,i,c)}if(l&&l.length)for(let d of l)c??=cl(r,t,o),Zy(r,t,d,i,i,c)}}function Z(e=1){return Cy(e)}function $t(e,t,n){return hM(e,t,n),$t}function ot(e){let t=B(),n=Ae(),r=lh();Wc(r+1);let i=Gp(n,r);if(e.dirty&&iy(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=mM(t,r);e.reset(o,NI),e.notifyOnChanges()}return!0}return!1}function st(){return dM(B(),lh())}function at(e){let t=py();return $c(t,xe+e)}function rl(e,t){return e<<17|t<<2}function ti(e){return e>>17&32767}function $M(e){return(e&2)==2}function HM(e,t){return e&131071|t<<17}function cp(e){return e|2}function oo(e){return(e&131068)>>2}function Sh(e,t){return e&-131069|t<<2}function zM(e){return(e&1)===1}function lp(e){return e|1}function GM(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=ti(s),c=oo(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||qi(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let p=ti(e[a+1]);e[r+1]=rl(p,a),p!==0&&(e[p+1]=Sh(e[p+1],r)),e[a+1]=HM(e[a+1],r)}else e[r+1]=rl(a,0),a!==0&&(e[a+1]=Sh(e[a+1],r)),a=r;else e[r+1]=rl(c,0),a===0?a=r:e[c+1]=Sh(e[c+1],r),c=r;l&&(e[r+1]=cp(e[r+1])),s_(e,u,r,!0),s_(e,u,r,!1),qM(t,u,e,r,o),s=rl(a,c),o?t.classBindings=s:t.styleBindings=s}function qM(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&qi(o,t)>=0&&(n[r+1]=lp(n[r+1]))}function s_(e,t,n,r){let i=e[n+1],o=t===null,s=r?ti(i):oo(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];WM(c,t)&&(a=!0,e[s+1]=r?lp(l):cp(l)),s=r?ti(l):oo(l)}a&&(e[n+1]=r?cp(i):lp(i))}function WM(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?qi(e,t)>=0:!1}var nn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function KM(e){return e.substring(nn.key,nn.keyEnd)}function YM(e){return ZM(e),zb(e,Gb(e,0,nn.textEnd))}function zb(e,t){let n=nn.textEnd;return n===t?-1:(t=nn.keyEnd=JM(e,nn.key=t,n),Gb(e,t,n))}function ZM(e){nn.key=0,nn.keyEnd=0,nn.value=0,nn.valueEnd=0,nn.textEnd=e.length}function Gb(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function JM(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Hs(e,t,n){return qb(e,t,n,!1),Hs}function Fe(e,t){return qb(e,t,null,!0),Fe}function Yp(e){XM(ox,QM,e,!0)}function QM(e,t){for(let n=YM(t);n>=0;n=zb(t,n))jc(e,KM(t),!0)}function qb(e,t,n,r){let i=B(),o=Ae(),s=bs(2);if(o.firstUpdatePass&&Kb(o,e,s,r),t!==it&&St(i,s,t)){let a=o.data[en()];Yb(o,a,i,i[fe],e,i[s+1]=ax(t,n),r,s)}}function XM(e,t,n,r){let i=Ae(),o=bs(2);i.firstUpdatePass&&Kb(i,null,o,r);let s=B();if(n!==it&&St(s,o,n)){let a=i.data[en()];if(Zb(a,r)&&!Wb(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=kc(c,n||"")),ap(i,a,s,n,r)}else sx(i,a,s,s[fe],s[o+1],s[o+1]=ix(e,t,n),r,o)}}function Wb(e,t){return t>=e.expandoStartIndex}function Kb(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[en()],s=Wb(e,n);Zb(o,r)&&t===null&&!s&&(t=!1),t=ex(i,o,t,r),GM(i,o,t,n,s,r)}}function ex(e,t,n,r){let i=_y(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Th(null,e,t,n,r),n=As(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Th(i,e,t,n,r),o===null){let c=tx(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Th(null,e,t,c[1],r),c=As(c,t.attrs,r),nx(e,t,r,c))}else o=rx(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function tx(e,t,n){let r=n?t.classBindings:t.styleBindings;if(oo(r)!==0)return e[ti(r)]}function nx(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[ti(i)]=r}function rx(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=As(r,s,n)}return As(r,t.attrs,n)}function Th(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=As(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function As(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),jc(e,s,n?!0:t[++o]))}return e===void 0?null:e}function ix(e,t,n){if(n==null||n==="")return ht;let r=[],i=Bt(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function ox(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&jc(e,r,n)}function sx(e,t,n,r,i,o,s,a){i===it&&(i=ht);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let p=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0,g=null,m;u===d?(c+=2,l+=2,p!==f&&(g=d,m=f)):d===null||u!==null&&u<d?(c+=2,g=u):(l+=2,g=d,m=f),g!==null&&Yb(e,t,n,r,g,m,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function Yb(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=zM(l)?a_(c,t,n,i,oo(l),s):void 0;if(!Cl(u)){Cl(o)||$M(l)&&(o=a_(c,null,n,i,a,s));let d=Kf(en(),n);WS(r,s,d,i,o)}}function a_(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=n[i+1];p===it&&(p=d?ht:void 0);let f=d?Vc(p,r):u===r?p:void 0;if(l&&!Cl(f)&&(f=Vc(c,r)),Cl(f)&&(a=f,s))return a;let g=e[i+1];i=s?ti(g):oo(g)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=Vc(c,r))}return a}function Cl(e){return e!==void 0}function ax(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Pn(Bt(e)))),e}function Zb(e,t){return(e.flags&(t?8:16))!==0}function _(e,t=""){let n=B(),r=Ae(),i=e+xe,o=r.firstCreatePass?js(r,i,1,t,null):r.data[i],s=cx(r,n,o,t,e);n[i]=s,Jc()&&Rp(r,n,s,o),Qi(o,!1)}var cx=(e,t,n,r,i)=>(Es(!0),dS(t[fe],r));function Jb(e,t,n,r=""){return St(e,hr(),n)?t+Jt(n)+r:it}function lx(e,t,n,r,i,o=""){let s=ch(),a=zp(e,s,n,i);return bs(2),a?t+Jt(n)+r+Jt(i)+o:it}function ux(e,t,n,r,i,o,s,a=""){let c=ch(),l=HT(e,c,n,i,s);return bs(3),l?t+Jt(n)+r+Jt(i)+o+Jt(s)+a:it}function Xe(e){return bt("",e),Xe}function bt(e,t,n){let r=B(),i=Jb(r,e,t,n);return i!==it&&Zp(r,en(),i),bt}function zs(e,t,n,r,i){let o=B(),s=lx(o,e,t,n,r,i);return s!==it&&Zp(o,en(),s),zs}function Gs(e,t,n,r,i,o,s){let a=B(),c=ux(a,e,t,n,r,i,o,s);return c!==it&&Zp(a,en(),c),Gs}function Zp(e,t,n){let r=Kf(t,e);fS(e[fe],r,n)}function $l(e,t,n){qp(t)&&(t=t());let r=B(),i=hr();if(St(r,i,t)){let o=Ae(),s=ws();ab(s,r,e,t,r[fe],n)}return $l}function Jp(e,t){let n=qp(e);return n&&e.set(t),n}function Hl(e,t){let n=B(),r=Ae(),i=Je();return Hb(r,n,n[fe],i,e,t),Hl}function Qp(e){return St(B(),hr(),e)?Jt(e):it}function qs(e,t,n=""){return Jb(B(),e,t,n)}function c_(e,t,n){let r=Ae();r.firstCreatePass&&Qb(t,r.data,r.blueprint,bn(e),n)}function Qb(e,t,n,r,i){if(e=Ye(e),Array.isArray(e))for(let o=0;o<e.length;o++)Qb(e[o],t,n,r,i);else{let o=Ae(),s=B(),a=Je(),c=$r(e)?e:Ye(e.provide),l=$f(e),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if($r(e)||!e.multi){let f=new Jr(l,i,A,null),g=xh(c,t,i?u:u+p,d);g===-1?(Rh(hl(a,s),o,c),Mh(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{let f=xh(c,t,u+p,d),g=xh(c,t,u,u+p),m=f>=0&&n[f],v=g>=0&&n[g];if(i&&!v||!i&&!m){Rh(hl(a,s),o,c);let y=hx(i?fx:dx,n.length,i,r,l,e);!i&&v&&(n[g].providerFactory=y),Mh(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else{let y=Xb(n[i?g:f],l,!i&&r);Mh(o,e,f>-1?f:g,y)}!i&&r&&v&&n[g].componentProviders++}}}function Mh(e,t,n,r){let i=$r(t),o=ey(t);if(i||o){let c=(o?Ye(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Xb(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function xh(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function dx(e,t,n,r,i){return up(this.multi,[])}function fx(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Ss(r,r[F],this.providerFactory.index,i);s=c.slice(0,a),up(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],up(o,s);return s}function up(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function hx(e,t,n,r,i,o){let s=new Jr(e,n,A,null);return s.multi=[],s.index=t,s.componentProviders=0,Xb(s,i,r&&!n),s}function yr(e,t){return n=>{n.providersResolver=(r,i)=>c_(r,i?i(e):e,!1),t&&(n.viewProvidersResolver=(r,i)=>c_(r,i?i(t):t,!0))}}function Xp(e,t,n,r){return tw(B(),_s(),e,t,n,r)}function Ws(e,t,n,r,i){return nw(B(),_s(),e,t,n,r,i)}function ew(e,t){let n=e[t];return n===it?void 0:n}function tw(e,t,n,r,i,o){let s=t+n;return St(e,s,i)?Tb(e,s+1,o?r.call(o,i):r(i)):ew(e,s+1)}function nw(e,t,n,r,i,o,s){let a=t+n;return zp(e,a,i,o)?Tb(e,a+2,s?r.call(s,i,o):r(i,o)):ew(e,a+2)}function Ks(e,t){let n=Ae(),r,i=e+xe;n.firstCreatePass?(r=px(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=sr(r.type,!0)),s,a=ft(A);try{let c=fl(!1),l=o();return fl(c),Yf(n,B(),i,l),l}finally{ft(a)}}function px(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function eg(e,t,n){let r=e+xe,i=B(),o=$c(i,r);return rw(i,r)?tw(i,_s(),t,o.transform,n,o):o.transform(n)}function tg(e,t,n,r){let i=e+xe,o=B(),s=$c(o,i);return rw(o,i)?nw(o,_s(),t,s.transform,n,r,s):s.transform(n,r)}function rw(e,t){return e[F].data[t].pure}function ng(e,t){return kl(e,t)}var Dl=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},rg=(()=>{class e{compileModuleSync(n){return new wl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Nf(n),o=Z_(i.declarations).reduce((s,a)=>{let c=lr(a);return c&&s.push(new io(c)),s},[]);return new Dl(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var iw=(()=>{class e{applicationErrorHandler=w(_t);appRef=w(Yn);taskService=w(En);ngZone=w(De);zonelessEnabled=w(Xi);tracing=w(ni,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Te;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(as):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(w(Qc,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?gh:ph;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(as+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,gh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ow(){return[{provide:cr,useExisting:iw},{provide:De,useClass:cs},{provide:Xi,useValue:!0}]}function gx(){return typeof $localize<"u"&&$localize.locale||$s}var Ys=new x("",{factory:()=>w(Ys,{optional:!0,skipSelf:!0})||gx()});function fo(e,t){return Qa(e,t?.equal)}var fw=Symbol("InputSignalNode#UNSET"),xx=q(C({},Xa),{transformFn:void 0,applyValueToInputSignal(e,t){Qo(e,t)}});function hw(e,t){let n=Object.create(xx);n.value=e,n.transformFn=t?.transform;function r(){if(Yo(n),n.value===fw){let i=null;throw new S(-950,i)}return n.value}return r[lt]=n,r}var Gl=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Os(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function sw(e,t){return hw(e,t)}function Ax(e){return hw(fw,e)}var pw=(sw.required=Ax,sw);var Rx=(()=>{class e{zone=w(De);changeDetectionScheduler=w(cr);applicationRef=w(Yn);applicationErrorHandler=w(_t);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ox=new x("",{factory:()=>!1});function Nx({ngZoneFactory:e,scheduleInRootZone:t}){return e??=()=>new De(q(C({},mw()),{scheduleInRootZone:t})),[{provide:Xi,useValue:!1},{provide:De,useFactory:e},{provide:jn,multi:!0,useFactory:()=>{let n=w(Rx,{optional:!0});return()=>n.initialize()}},{provide:jn,multi:!0,useFactory:()=>{let n=w(kx);return()=>{n.initialize()}}},{provide:Qc,useValue:t??hh}]}function gw(e){let t=e?.scheduleInRootZone,n=Nx({ngZoneFactory:()=>{let r=mw(e);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&ao("NgZone_CoalesceEvent"),new De(r)},scheduleInRootZone:t});return Vn([{provide:Ox,useValue:!0},n])}function mw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var kx=(()=>{class e{subscription=new Te;initialized=!1;zone=w(De);pendingTasks=w(En);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ig=new x(""),Px=new x("");function Zs(e){return!e.moduleRef}function Fx(e){let t=Zs(e)?e.r3Injector:e.moduleRef.injector,n=t.get(De);return n.run(()=>{Zs(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(_t),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Zs(e)){let o=()=>t.destroy(),s=e.platformInjector.get(ig);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(ig);s.add(o),e.moduleRef.onDestroy(()=>{Is(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return jx(r,n,()=>{let o=t.get(En),s=o.add(),a=t.get(Kp);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Ys,$s);if($b(c||$s),!t.get(Px,!0))return Zs(e)?t.get(Yn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Zs(e)){let u=t.get(Yn);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return Lx?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var Lx;function jx(e,t,n){try{let r=n();return Kn(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var zl=null;function Vx(e=[],t){return Ct.create({name:t,providers:[{provide:ds,useValue:"platform"},{provide:ig,useValue:new Set([()=>zl=null])},...e]})}function Ux(e=[]){if(zl)return zl;let t=Vx(e);return zl=t,Vb(),Bx(t),t}function Bx(e){let t=e.get(Sl,null);Ze(e,()=>{t?.forEach(n=>n())})}var _r=(()=>{class e{static __NG_ELEMENT_ID__=$x}return e})();function $x(e){return Hx(Je(),B(),(e&16)===16)}function Hx(e,t,n){if(Bn(e)&&!n){let r=Vt(e.index,t);return new gr(r,r)}else if(e.type&175){let r=t[Dt];return new gr(r,t)}return null}var og=class{constructor(){}supports(t){return Hp(t)}create(t){return new sg(t)}},zx=(e,t)=>t,sg=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||zx}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<aw(r,i,o)?n:r,a=aw(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let p=0;p<l;p++){let f=p<o.length?o[p]:o[p]=0,g=f+p;u<=g&&g<l&&(o[p]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Hp(t))throw new S(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Ib(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new ag(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new ql),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ql),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},ag=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},cg=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ql=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new cg,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function aw(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function cw(){return new ug([new og])}var ug=(()=>{class e{factories;static \u0275prov=T({token:e,providedIn:"root",factory:cw});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:()=>{let r=w(e,{optional:!0,skipSelf:!0});return e.create(n,r||cw())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new S(901,!1)}}return e})();function vw(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;ue(ie.BootstrapApplicationStart);try{let o=i?.injector??Ux(r),s=[ow(),Ty,...n||[]],a=new xs({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return Fx({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{ue(ie.BootstrapApplicationEnd)}}function si(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var yw=null;function Ht(){return yw}function dg(e){yw??=e}var Js=class{},ho=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>w(_w),providedIn:"platform"})}return e})();var _w=(()=>{class e extends ho{_location;_history;_doc=w(be);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ht().getBaseHref(this._doc)}onPopState(n){let r=Ht().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ht().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Ew(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function bw(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function br(e){return e&&e[0]!=="?"?`?${e}`:e}var ai=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>w(Cw),providedIn:"root"})}return e})(),Gx=new x(""),Cw=(()=>{class e extends ai{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??w(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ew(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+br(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+br(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+br(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(k(ho),k(Gx,8))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ci=(()=>{class e{_subject=new Ce;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Kx(bw(ww(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+br(r))}normalize(n){return e.stripTrailingSlash(Wx(this._basePath,ww(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+br(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+br(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=br;static joinWithSlash=Ew;static stripTrailingSlash=bw;static \u0275fac=function(r){return new(r||e)(k(ai))};static \u0275prov=T({token:e,factory:()=>qx(),providedIn:"root"})}return e})();function qx(){return new ci(k(ai))}function Wx(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function ww(e){return e.replace(/\/index.html$/,"")}function Kx(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var ct=(function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e})(ct||{}),de=(function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e})(de||{}),wt=(function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e})(wt||{}),Jn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Mw(e){return Tt(e)[Oe.LocaleId]}function xw(e,t,n){let r=Tt(e),i=[r[Oe.DayPeriodsFormat],r[Oe.DayPeriodsStandalone]],o=zt(i,t);return zt(o,n)}function Aw(e,t,n){let r=Tt(e),i=[r[Oe.DaysFormat],r[Oe.DaysStandalone]],o=zt(i,t);return zt(o,n)}function Rw(e,t,n){let r=Tt(e),i=[r[Oe.MonthsFormat],r[Oe.MonthsStandalone]],o=zt(i,t);return zt(o,n)}function Ow(e,t){let r=Tt(e)[Oe.Eras];return zt(r,t)}function Qs(e,t){let n=Tt(e);return zt(n[Oe.DateFormat],t)}function Xs(e,t){let n=Tt(e);return zt(n[Oe.TimeFormat],t)}function ea(e,t){let r=Tt(e)[Oe.DateTimeFormat];return zt(r,t)}function ta(e,t){let n=Tt(e),r=n[Oe.NumberSymbols][t];if(typeof r>"u"){if(t===Jn.CurrencyDecimal)return n[Oe.NumberSymbols][Jn.Decimal];if(t===Jn.CurrencyGroup)return n[Oe.NumberSymbols][Jn.Group]}return r}function Nw(e){if(!e[Oe.ExtraData])throw new S(2303,!1)}function kw(e){let t=Tt(e);return Nw(t),(t[Oe.ExtraData][2]||[]).map(r=>typeof r=="string"?fg(r):[fg(r[0]),fg(r[1])])}function Pw(e,t,n){let r=Tt(e);Nw(r);let i=[r[Oe.ExtraData][0],r[Oe.ExtraData][1]],o=zt(i,t)||[];return zt(o,n)||[]}function zt(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new S(2304,!1)}function fg(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var Yx=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Wl={},Zx=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Fw(e,t,n,r){let i=oA(e);t=Zn(n,t)||t;let s=[],a;for(;t;)if(a=Zx.exec(t),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;t=u}else{s.push(t);break}let c=i.getTimezoneOffset();r&&(c=jw(r,c),i=iA(i,r));let l="";return s.forEach(u=>{let d=nA(u);l+=d?d(i,n,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Ql(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Zn(e,t){let n=Mw(e);if(Wl[n]??={},Wl[n][t])return Wl[n][t];let r="";switch(t){case"shortDate":r=Qs(e,wt.Short);break;case"mediumDate":r=Qs(e,wt.Medium);break;case"longDate":r=Qs(e,wt.Long);break;case"fullDate":r=Qs(e,wt.Full);break;case"shortTime":r=Xs(e,wt.Short);break;case"mediumTime":r=Xs(e,wt.Medium);break;case"longTime":r=Xs(e,wt.Long);break;case"fullTime":r=Xs(e,wt.Full);break;case"short":let i=Zn(e,"shortTime"),o=Zn(e,"shortDate");r=Kl(ea(e,wt.Short),[i,o]);break;case"medium":let s=Zn(e,"mediumTime"),a=Zn(e,"mediumDate");r=Kl(ea(e,wt.Medium),[s,a]);break;case"long":let c=Zn(e,"longTime"),l=Zn(e,"longDate");r=Kl(ea(e,wt.Long),[c,l]);break;case"full":let u=Zn(e,"fullTime"),d=Zn(e,"fullDate");r=Kl(ea(e,wt.Full),[u,d]);break}return r&&(Wl[n][t]=r),r}function Kl(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function ln(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function Jx(e,t){return ln(e,3).substring(0,t)}function Le(e,t,n=0,r=!1,i=!1){return function(o,s){let a=Qx(e,o);if((n>0||a>-n)&&(a+=n),e===3)a===0&&n===-12&&(a=12);else if(e===6)return Jx(a,t);let c=ta(s,Jn.MinusSign);return ln(a,t,c,r,i)}}function Qx(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new S(2301,!1)}}function me(e,t,n=ct.Format,r=!1){return function(i,o){return Xx(i,o,e,t,n,r)}}function Xx(e,t,n,r,i,o){switch(n){case 2:return Rw(t,i,r)[e.getMonth()];case 1:return Aw(t,i,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let l=kw(t),u=Pw(t,i,r),d=l.findIndex(p=>{if(Array.isArray(p)){let[f,g]=p,m=s>=f.hours&&a>=f.minutes,v=s<g.hours||s===g.hours&&a<g.minutes;if(f.hours<g.hours){if(m&&v)return!0}else if(m||v)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return xw(t,i,r)[s<12?0:1];case 3:return Ow(t,r)[e.getFullYear()<=0?0:1];default:let c=n;throw new S(2302,!1)}}function Yl(e){return function(t,n,r){let i=-1*r,o=ta(n,Jn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+ln(s,2,o)+ln(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+ln(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+ln(s,2,o)+":"+ln(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+ln(s,2,o)+":"+ln(Math.abs(i%60),2,o);default:throw new S(2310,!1)}}}var eA=0,Jl=4;function tA(e){let t=Ql(e,eA,1).getDay();return Ql(e,0,1+(t<=Jl?Jl:Jl+7)-t)}function Lw(e){let t=e.getDay(),n=t===0?-3:Jl-t;return Ql(e.getFullYear(),e.getMonth(),e.getDate()+n)}function hg(e,t=!1){return function(n,r){let i;if(t){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=Lw(n),s=tA(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return ln(i,e,ta(r,Jn.MinusSign))}}function Zl(e,t=!1){return function(n,r){let o=Lw(n).getFullYear();return ln(o,e,ta(r,Jn.MinusSign),t)}}var pg={};function nA(e){if(pg[e])return pg[e];let t;switch(e){case"G":case"GG":case"GGG":t=me(3,de.Abbreviated);break;case"GGGG":t=me(3,de.Wide);break;case"GGGGG":t=me(3,de.Narrow);break;case"y":t=Le(0,1,0,!1,!0);break;case"yy":t=Le(0,2,0,!0,!0);break;case"yyy":t=Le(0,3,0,!1,!0);break;case"yyyy":t=Le(0,4,0,!1,!0);break;case"Y":t=Zl(1);break;case"YY":t=Zl(2,!0);break;case"YYY":t=Zl(3);break;case"YYYY":t=Zl(4);break;case"M":case"L":t=Le(1,1,1);break;case"MM":case"LL":t=Le(1,2,1);break;case"MMM":t=me(2,de.Abbreviated);break;case"MMMM":t=me(2,de.Wide);break;case"MMMMM":t=me(2,de.Narrow);break;case"LLL":t=me(2,de.Abbreviated,ct.Standalone);break;case"LLLL":t=me(2,de.Wide,ct.Standalone);break;case"LLLLL":t=me(2,de.Narrow,ct.Standalone);break;case"w":t=hg(1);break;case"ww":t=hg(2);break;case"W":t=hg(1,!0);break;case"d":t=Le(2,1);break;case"dd":t=Le(2,2);break;case"c":case"cc":t=Le(7,1);break;case"ccc":t=me(1,de.Abbreviated,ct.Standalone);break;case"cccc":t=me(1,de.Wide,ct.Standalone);break;case"ccccc":t=me(1,de.Narrow,ct.Standalone);break;case"cccccc":t=me(1,de.Short,ct.Standalone);break;case"E":case"EE":case"EEE":t=me(1,de.Abbreviated);break;case"EEEE":t=me(1,de.Wide);break;case"EEEEE":t=me(1,de.Narrow);break;case"EEEEEE":t=me(1,de.Short);break;case"a":case"aa":case"aaa":t=me(0,de.Abbreviated);break;case"aaaa":t=me(0,de.Wide);break;case"aaaaa":t=me(0,de.Narrow);break;case"b":case"bb":case"bbb":t=me(0,de.Abbreviated,ct.Standalone,!0);break;case"bbbb":t=me(0,de.Wide,ct.Standalone,!0);break;case"bbbbb":t=me(0,de.Narrow,ct.Standalone,!0);break;case"B":case"BB":case"BBB":t=me(0,de.Abbreviated,ct.Format,!0);break;case"BBBB":t=me(0,de.Wide,ct.Format,!0);break;case"BBBBB":t=me(0,de.Narrow,ct.Format,!0);break;case"h":t=Le(3,1,-12);break;case"hh":t=Le(3,2,-12);break;case"H":t=Le(3,1);break;case"HH":t=Le(3,2);break;case"m":t=Le(4,1);break;case"mm":t=Le(4,2);break;case"s":t=Le(5,1);break;case"ss":t=Le(5,2);break;case"S":t=Le(6,1);break;case"SS":t=Le(6,2);break;case"SSS":t=Le(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Yl(0);break;case"ZZZZZ":t=Yl(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Yl(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Yl(2);break;default:return null}return pg[e]=t,t}function jw(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function rA(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function iA(e,t,n){let i=e.getTimezoneOffset(),o=jw(t,i);return rA(e,-1*(o-i))}function oA(e){if(Dw(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return Ql(i,o-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(Yx))return sA(r)}let t=new Date(e);if(!Dw(t))throw new S(2311,!1);return t}function sA(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,s,a,c,l),t}function Dw(e){return e instanceof Date&&!isNaN(e.valueOf())}var gg=/\s+/,Iw=[],li=(()=>{class e{_ngEl;_renderer;initialClasses=Iw;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(gg):Iw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(gg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(gg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(A(Qe),A(qn))};static \u0275dir=ye({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Xl=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},wr=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Xl(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Sw(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Sw(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(A(Wn),A(mr),A(ug))};static \u0275dir=ye({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function Sw(e,t){e.context.$implicit=t.item}var pt=(()=>{class e{_viewContainer;_context=new eu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Tw(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Tw(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(A(Wn),A(mr))};static \u0275dir=ye({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),eu=class{$implicit=null;ngIf=null};function Tw(e,t){if(e&&!e.createEmbeddedView)throw new S(2020,!1)}function Vw(e,t){return new S(2100,!1)}var mg=class{createSubscription(t,n,r){return Re(()=>t.subscribe({next:n,error:r}))}dispose(t){Re(()=>t.unsubscribe())}},vg=class{createSubscription(t,n,r){return t.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(t){t.unsubscribe()}},aA=new vg,cA=new mg,yg=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=w(_t);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(Kn(n))return aA;if(Vl(n))return cA;throw Vw(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(A(_r,16))};static \u0275pipe=Ll({name:"async",type:e,pure:!1})}return e})();var lA="mediumDate",Uw=new x(""),Bw=new x(""),_g=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??lA,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Fw(n,s,o||this.locale,a)}catch(s){throw Vw(e,s.message)}}static \u0275fac=function(r){return new(r||e)(A(Ys,16),A(Uw,24),A(Bw,24))};static \u0275pipe=Ll({name:"date",type:e,pure:!0})}return e})();var je=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=an({type:e});static \u0275inj=kt({})}return e})();function na(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var ui=class{};var $w="browser";var tu=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:()=>new bg(w(be),window)})}return e})(),bg=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo(q(C({},n),{left:t[0],top:t[1]}))}scrollToAnchor(t,n){let r=fA(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(mn(2400,!1))}}scrollToElement(t,n){let r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(q(C({},n),{left:i-s[0],top:o-s[1]}))}};function fA(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var ra=class{_doc;constructor(t){this._doc=t}manager},nu=(()=>{class e extends ra{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(k(be))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),ou=new x(""),Dg=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof nu));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof nu);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(k(ou),k(De))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),wg="ng-app-id";function Hw(e){for(let t of e)t.remove()}function zw(e,t){let n=t.createElement("style");return n.textContent=e,n}function hA(e,t,n,r){let i=e.head?.querySelectorAll(`style[${wg}="${t}"],link[${wg}="${t}"]`);if(i)for(let o of i)o.removeAttribute(wg),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Cg(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Ig=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,hA(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,zw);r?.forEach(i=>this.addUsage(i,this.external,Cg))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Hw(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Hw(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,zw(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Cg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(k(be),k(Il),k(Tl,8),k(Ns))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Eg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Sg=/%COMP%/g;var qw="%COMP%",pA=`_nghost-${qw}`,gA=`_ngcontent-${qw}`,mA=!0,vA=new x("",{factory:()=>mA});function yA(e){return gA.replace(Sg,e)}function _A(e){return pA.replace(Sg,e)}function Ww(e,t){return t.map(n=>n.replace(Sg,e))}var Tg=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new ia(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof iu?i.applyToHost(n):i instanceof oa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case rn.Emulated:o=new iu(c,l,r,this.appId,u,s,a,d,p);break;case rn.ShadowDom:return new ru(c,n,r,s,a,this.nonce,d,p,l);case rn.ExperimentalIsolatedShadowDom:return new ru(c,n,r,s,a,this.nonce,d,p);default:o=new oa(c,l,r,u,s,a,d,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(k(Dg),k(Ig),k(Il),k(vA),k(be),k(De),k(Tl),k(ni,8))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),ia=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Eg[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Gw(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Gw(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Eg[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Eg[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Dn.DashCase|Dn.Important)?t.style.setProperty(n,r,i&Dn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Dn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Ht().getGlobalEventTarget(this.doc,t),!t))throw new S(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Gw(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var ru=class extends ia{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,r,i,o,s,a,c,l){super(t,i,o,a,c),this.hostEl=n,this.sharedStylesHost=l,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=Ww(r.id,u);for(let p of u){let f=document.createElement("style");s&&f.setAttribute("nonce",s),f.textContent=p,this.shadowRoot.appendChild(f)}let d=r.getExternalStyles?.();if(d)for(let p of d){let f=Cg(p,i);s&&f.setAttribute("nonce",s),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},oa=class extends ia{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?Ww(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Qr.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},iu=class extends oa{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(t,n,r,o,s,a,c,l,u),this.contentAttr=yA(u),this.hostAttr=_A(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var su=class e extends Js{supportsDOMEvents=!0;static makeCurrent(){dg(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=bA();return n==null?null:wA(n)}resetBaseElement(){sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return na(document.cookie,t)}},sa=null;function bA(){return sa=sa||document.head.querySelector("base"),sa?sa.getAttribute("href"):null}function wA(e){return new URL(e,document.baseURI).pathname}var EA=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Kw=["alt","control","meta","shift"],CA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DA={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Yw=(()=>{class e extends ra{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ht().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Kw.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=CA[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Kw.forEach(s=>{if(s!==i){let a=DA[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(k(be))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();function Mg(e,t,n){let r=C({rootComponent:e,platformRef:n?.platformRef},IA(t));return vw(r)}function IA(e){return{appProviders:[...AA,...e?.providers??[]],platformProviders:xA}}function SA(){su.makeCurrent()}function TA(){return new Fn}function MA(){return hp(document),document}var xA=[{provide:Ns,useValue:$w},{provide:Sl,useValue:SA,multi:!0},{provide:be,useFactory:MA}];var AA=[{provide:ds,useValue:"root"},{provide:Fn,useFactory:TA},{provide:ou,useClass:nu,multi:!0},{provide:ou,useClass:Yw,multi:!0},Tg,Ig,Dg,{provide:Xr,useExisting:Tg},{provide:ui,useClass:EA},[]];var Mt=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var cu=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},lu=class{encodeKey(t){return Zw(t)}encodeValue(t){return Zw(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function RA(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var OA=/%(\d[a-f0-9])/gi,NA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Zw(e){return encodeURIComponent(e).replace(OA,(t,n)=>NA[n]??t)}function au(e){return`${e}`}var Qn=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new lu,t.fromString){if(t.fromObject)throw new S(2805,!1);this.map=RA(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(au):[au(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(au(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(au(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function kA(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Jw(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Qw(e){return typeof Blob<"u"&&e instanceof Blob}function Xw(e){return typeof FormData<"u"&&e instanceof FormData}function PA(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var e0="Content-Type",t0="Accept",n0="text/plain",r0="application/json",FA=`${r0}, ${n0}, */*`,po=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(kA(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new S(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Mt,this.context??=new cu,!this.params)this.params=new Qn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Jw(this.body)||Qw(this.body)||Xw(this.body)||PA(this.body)?this.body:this.body instanceof Qn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Xw(this.body)?null:Qw(this.body)?this.body.type||null:Jw(this.body)?null:typeof this.body=="string"?n0:this.body instanceof Qn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?r0:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,l=t.redirect||this.redirect,u=t.credentials||this.credentials,d=t.referrer||this.referrer,p=t.integrity||this.integrity,f=t.referrerPolicy||this.referrerPolicy,g=t.transferCache??this.transferCache,m=t.timeout??this.timeout,v=t.body!==void 0?t.body:this.body,y=t.withCredentials??this.withCredentials,V=t.reportProgress??this.reportProgress,M=t.headers||this.headers,I=t.params||this.params,Q=t.context??this.context;return t.setHeaders!==void 0&&(M=Object.keys(t.setHeaders).reduce((tt,ee)=>tt.set(ee,t.setHeaders[ee]),M)),t.setParams&&(I=Object.keys(t.setParams).reduce((tt,ee)=>tt.set(ee,t.setParams[ee]),I)),new e(n,r,v,{params:I,headers:M,context:Q,reportProgress:V,responseType:i,withCredentials:y,transferCache:g,keepalive:o,cache:a,priority:s,timeout:m,mode:c,redirect:l,credentials:u,referrer:d,integrity:p,referrerPolicy:f})}},Sn=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(Sn||{}),mo=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,n=200,r="OK"){this.headers=t.headers||new Mt,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},uu=class e extends mo{constructor(t={}){super(t)}type=Sn.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},aa=class e extends mo{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Sn.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},go=class extends mo{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},LA=200,jA=204;var VA=new x("");var UA=/^\)\]\}',?\n/;var Ag=(()=>{class e{xhrFactory;tracingService=w(ni,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if(n.method==="JSONP")throw new S(-2800,!1);let r=this.xhrFactory;return $(null).pipe(rt(()=>new J(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((v,y)=>s.setRequestHeader(v,y.join(","))),n.headers.has(t0)||s.setRequestHeader(t0,FA),!n.headers.has(e0)){let v=n.detectContentTypeHeader();v!==null&&s.setRequestHeader(e0,v)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let v=n.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let v=s.statusText||"OK",y=new Mt(s.getAllResponseHeaders()),V=s.responseURL||n.url;return c=new uu({headers:y,status:s.status,statusText:v,url:V}),c},u=this.maybePropagateTrace(()=>{let{headers:v,status:y,statusText:V,url:M}=l(),I=null;y!==jA&&(I=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=I?LA:0);let Q=y>=200&&y<300;if(n.responseType==="json"&&typeof I=="string"){let tt=I;I=I.replace(UA,"");try{I=I!==""?JSON.parse(I):null}catch(ee){I=tt,Q&&(Q=!1,I={error:ee,text:I})}}Q?(o.next(new aa({body:I,headers:v,status:y,statusText:V,url:M||void 0})),o.complete()):o.error(new go({error:I,headers:v,status:y,statusText:V,url:M||void 0}))}),d=this.maybePropagateTrace(v=>{let{url:y}=l(),V=new go({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});o.error(V)}),p=d;n.timeout&&(p=this.maybePropagateTrace(v=>{let{url:y}=l(),V=new go({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:y||void 0});o.error(V)}));let f=!1,g=this.maybePropagateTrace(v=>{f||(o.next(l()),f=!0);let y={type:Sn.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),n.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),o.next(y)}),m=this.maybePropagateTrace(v=>{let y={type:Sn.UploadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),o.next(y)});return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",p),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",m)),s.send(a),o.next({type:Sn.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",m)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(k(ui))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function BA(e,t){return t(e)}function $A(e,t,n){return(r,i)=>Ze(n,()=>t(r,o=>e(o,i)))}var i0=new x("",{factory:()=>[]}),o0=new x(""),s0=new x("",{providedIn:"root",factory:()=>!0});var Rg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=k(Ag),i},providedIn:"root"})}return e})();var du=(()=>{class e{backend;injector;chain=null;pendingTasks=w(Xc);contributeToStability=w(s0);constructor(n,r){this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(i0),...this.injector.get(o0,[])]));this.chain=r.reduceRight((i,o)=>$A(i,o,this.injector),BA)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(or(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(k(Rg),k(Me))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Og=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=k(du),i},providedIn:"root"})}return e})();function xg(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var Cr=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof po)o=n;else{let c;i.headers instanceof Mt?c=i.headers:c=new Mt(i.headers);let l;i.params&&(i.params instanceof Qn?l=i.params:l=new Qn({fromObject:i.params})),o=new po(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let s=$(o).pipe($i(c=>this.handler.handle(c)));if(n instanceof po||i.observe==="events")return s;let a=s.pipe(dt(c=>c instanceof aa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(te(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new S(2806,!1);return c.body}));case"blob":return a.pipe(te(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new S(2807,!1);return c.body}));case"text":return a.pipe(te(c=>{if(c.body!==null&&typeof c.body!="string")throw new S(2808,!1);return c.body}));case"json":default:return a.pipe(te(c=>c.body))}case"response":return a;default:throw new S(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Qn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,xg(i,r))}post(n,r,i={}){return this.request("POST",n,xg(i,r))}put(n,r,i={}){return this.request("PUT",n,xg(i,r))}static \u0275fac=function(r){return new(r||e)(k(Og))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var HA=new x("",{factory:()=>!0}),zA="XSRF-TOKEN",GA=new x("",{providedIn:"root",factory:()=>zA}),qA="X-XSRF-TOKEN",WA=new x("",{providedIn:"root",factory:()=>qA}),KA=(()=>{class e{cookieName=w(GA);doc=w(be);lastCookieString="";lastToken=null;parseCount=0;getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=na(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),a0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=k(KA),i},providedIn:"root"})}return e})();function YA(e,t){if(!w(HA)||e.method==="GET"||e.method==="HEAD")return t(e);try{let i=w(ho).href,{origin:o}=new URL(i),{origin:s}=new URL(e.url,o);if(o!==s)return t(e)}catch{return t(e)}let n=w(a0).getToken(),r=w(WA);return n!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),t(e)}function Ng(...e){let t=[Cr,du,{provide:Og,useExisting:du},{provide:Rg,useFactory:()=>w(VA,{optional:!0})??w(Ag)},{provide:i0,useValue:YA,multi:!0}];for(let n of e)t.push(...n.\u0275providers);return Vn(t)}var c0=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(k(be))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Pg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=k(ZA),i},providedIn:"root"})}return e})(),ZA=(()=>{class e extends Pg{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case on.NONE:return r;case on.HTML:return zn(r,"HTML")?Bt(r):wp(this._doc,String(r)).toString();case on.STYLE:return zn(r,"Style")?Bt(r):r;case on.SCRIPT:if(zn(r,"Script"))return Bt(r);throw new S(5200,!1);case on.URL:return zn(r,"URL")?Bt(r):ks(String(r));case on.RESOURCE_URL:if(zn(r,"ResourceURL"))return Bt(r);throw new S(5201,!1);default:throw new S(5202,!1)}}bypassSecurityTrustHtml(n){return mp(n)}bypassSecurityTrustStyle(n){return vp(n)}bypassSecurityTrustScript(n){return yp(n)}bypassSecurityTrustUrl(n){return _p(n)}bypassSecurityTrustResourceUrl(n){return bp(n)}static \u0275fac=function(r){return new(r||e)(k(be))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var z="primary",ya=Symbol("RouteTitle"),Ug=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function pi(e){return new Ug(e)}function y0(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function vu(e){return new Promise((t,n)=>{e.pipe(Nn()).subscribe({next:r=>t(r),error:r=>n(r)})})}function JA(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Tn(e[n],t[n]))return!1;return!0}function Tn(e,t){let n=e?Bg(e):void 0,r=t?Bg(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!_0(e[i],t[i]))return!1;return!0}function Bg(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function _0(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function b0(e){return e.length>0?e[e.length-1]:null}function gi(e){return Cc(e)?e:Kn(e)?_e(Promise.resolve(e)):$(e)}function w0(e){return Cc(e)?vu(e):Promise.resolve(e)}var QA={exact:C0,subset:D0},E0={exact:XA,subset:eR,ignored:()=>!0};function u0(e,t,n){return QA[n.paths](e.root,t.root,n.matrixParams)&&E0[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function XA(e,t){return Tn(e,t)}function C0(e,t,n){if(!fi(e.segments,t.segments)||!pu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!C0(e.children[r],t.children[r],n))return!1;return!0}function eR(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>_0(e[n],t[n]))}function D0(e,t,n){return I0(e,t,t.segments,n)}function I0(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!fi(i,n)||t.hasChildren()||!pu(i,n,r))}else if(e.segments.length===n.length){if(!fi(e.segments,n)||!pu(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!D0(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!fi(e.segments,i)||!pu(e.segments,i,r)||!e.children[z]?!1:I0(e.children[z],t,o,r)}}function pu(e,t,n){return t.every((r,i)=>E0[n](e[i].parameters,r.parameters))}var dn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new oe([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=pi(this.queryParams),this._queryParamMap}toString(){return rR.serialize(this)}},oe=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gu(this)}},Dr=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=pi(this.parameters),this._parameterMap}toString(){return T0(this)}};function tR(e,t){return fi(e,t)&&e.every((n,r)=>Tn(n.parameters,t[r].parameters))}function fi(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function nR(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===z&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==z&&(n=n.concat(t(i,r)))}),n}var To=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>new Ir,providedIn:"root"})}return e})(),Ir=class{parse(t){let n=new Hg(t);return new dn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ca(t.root,!0)}`,r=sR(t.queryParams),i=typeof t.fragment=="string"?`#${iR(t.fragment)}`:"";return`${n}${r}${i}`}},rR=new Ir;function gu(e){return e.segments.map(t=>T0(t)).join("/")}function ca(e,t){if(!e.hasChildren())return gu(e);if(t){let n=e.children[z]?ca(e.children[z],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${ca(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=nR(e,(r,i)=>i===z?[ca(e.children[z],!1)]:[`${i}:${ca(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[z]!=null?`${gu(e)}/${n[0]}`:`${gu(e)}/(${n.join("//")})`}}function S0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fu(e){return S0(e).replace(/%3B/gi,";")}function iR(e){return encodeURI(e)}function $g(e){return S0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mu(e){return decodeURIComponent(e)}function d0(e){return mu(e.replace(/\+/g,"%20"))}function T0(e){return`${$g(e.path)}${oR(e.parameters)}`}function oR(e){return Object.entries(e).map(([t,n])=>`;${$g(t)}=${$g(n)}`).join("")}function sR(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${fu(n)}=${fu(i)}`).join("&"):`${fu(n)}=${fu(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var aR=/^[^\/()?;#]+/;function Fg(e){let t=e.match(aR);return t?t[0]:""}var cR=/^[^\/()?;=#]+/;function lR(e){let t=e.match(cR);return t?t[0]:""}var uR=/^[^=?&#]+/;function dR(e){let t=e.match(uR);return t?t[0]:""}var fR=/^[^&#]+/;function hR(e){let t=e.match(fR);return t?t[0]:""}var Hg=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[z]=new oe(t,n)),r}parseSegment(){let t=Fg(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(t),new Dr(mu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=lR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Fg(this.remaining);i&&(r=i,this.capture(r))}t[mu(n)]=mu(r)}parseQueryParam(t){let n=dR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=hR(this.remaining);s&&(r=s,this.capture(r))}let i=d0(n),o=d0(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Fg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=z);let s=this.parseChildren();n[o??z]=Object.keys(s).length===1&&s[z]?s[z]:new oe([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new S(4011,!1)}};function M0(e){return e.segments.length>0?new oe([],{[z]:e}):e}function x0(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=x0(i);if(r===z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new oe(e.segments,t);return pR(n)}function pR(e){if(e.numberOfChildren===1&&e.children[z]){let t=e.children[z];return new oe(e.segments.concat(t.segments),t.children)}return e}function Sr(e){return e instanceof dn}function A0(e,t,n=null,r=null,i=new Ir){let o=R0(e);return O0(o,t,n,r,i)}function R0(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new oe(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=M0(r);return t??i}function O0(e,t,n,r,i){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return Lg(o,o,o,n,r,i);let s=gR(t);if(s.toRoot())return Lg(o,o,new oe([],{}),n,r,i);let a=mR(s,o,e),c=a.processChildren?ua(a.segmentGroup,a.index,s.commands):k0(a.segmentGroup,a.index,s.commands);return Lg(o,a.segmentGroup,c,n,r,i)}function yu(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function fa(e){return typeof e=="object"&&e!=null&&e.outlets}function f0(e,t,n){e||="\u0275";let r=new dn;return r.queryParams={[e]:t},n.parse(n.serialize(r)).queryParams[e]}function Lg(e,t,n,r,i,o){let s={};for(let[l,u]of Object.entries(r??{}))s[l]=Array.isArray(u)?u.map(d=>f0(l,d,o)):f0(l,u,o);let a;e===t?a=n:a=N0(e,t,n);let c=M0(x0(a));return new dn(c,s,i)}function N0(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=N0(o,t,n)}),new oe(e.segments,r)}var _u=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&yu(r[0]))throw new S(4003,!1);let i=r.find(fa);if(i&&i!==b0(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gR(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new _u(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new _u(n,t,r)}var yo=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function mR(e,t,n){if(e.isAbsolute)return new yo(t,!0,0);if(!n)return new yo(t,!1,NaN);if(n.parent===null)return new yo(n,!0,0);let r=yu(e.commands[0])?0:1,i=n.segments.length-1+r;return vR(n,i,e.numberOfDoubleDots)}function vR(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new yo(r,!1,i-o)}function yR(e){return fa(e[0])?e[0].outlets:{[z]:e}}function k0(e,t,n){if(e??=new oe([],{}),e.segments.length===0&&e.hasChildren())return ua(e,t,n);let r=_R(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new oe(e.segments.slice(0,r.pathIndex),{});return o.children[z]=new oe(e.segments.slice(r.pathIndex),e.children),ua(o,0,i)}else return r.match&&i.length===0?new oe(e.segments,{}):r.match&&!e.hasChildren()?zg(e,t,n):r.match?ua(e,0,i):zg(e,t,n)}function ua(e,t,n){if(n.length===0)return new oe(e.segments,{});{let r=yR(n),i={};if(Object.keys(r).some(o=>o!==z)&&e.children[z]&&e.numberOfChildren===1&&e.children[z].segments.length===0){let o=ua(e.children[z],t,n);return new oe(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=k0(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new oe(e.segments,i)}}function _R(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(fa(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!p0(c,l,s))return o;r+=2}else{if(!p0(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function zg(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(fa(o)){let c=bR(o.outlets);return new oe(r,c)}if(i===0&&yu(n[0])){let c=e.segments[t];r.push(new Dr(c.path,h0(n[0]))),i++;continue}let s=fa(o)?o.outlets[z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&yu(a)?(r.push(new Dr(s,h0(a))),i+=2):(r.push(new Dr(s,{})),i++)}return new oe(r,{})}function bR(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=zg(new oe([],{}),0,r))}),t}function h0(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function p0(e,t,n){return e==n.path&&Tn(t,n.parameters)}var _o="imperative",ze=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(ze||{}),At=class{id;url;constructor(t,n){this.id=t,this.url=n}},Tr=class extends At{type=ze.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Et=class extends At{urlAfterRedirects;type=ze.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},gt=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(gt||{}),wo=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(wo||{}),Mn=class extends At{reason;code;type=ze.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xn=class extends At{reason;code;type=ze.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Eo=class extends At{error;target;type=ze.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ha=class extends At{urlAfterRedirects;state;type=ze.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bu=class extends At{urlAfterRedirects;state;type=ze.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wu=class extends At{urlAfterRedirects;state;shouldActivate;type=ze.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Eu=class extends At{urlAfterRedirects;state;type=ze.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cu=class extends At{urlAfterRedirects;state;type=ze.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Du=class{route;type=ze.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Iu=class{route;type=ze.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Su=class{snapshot;type=ze.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tu=class{snapshot;type=ze.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mu=class{snapshot;type=ze.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xu=class{snapshot;type=ze.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Co=class{routerEvent;position;anchor;type=ze.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},pa=class{},Do=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function wR(e){return!(e instanceof pa)&&!(e instanceof Do)}function ER(e,t){return e.providers&&!e._injector&&(e._injector=Us(e.providers,t,`Route: ${e.path}`)),e._injector??t}function un(e){return e.outlet||z}function CR(e,t){let n=e.filter(r=>un(r)===t);return n.push(...e.filter(r=>un(r)!==t)),n}function Mo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Au=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Mo(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new xo(this.rootInjector)}},xo=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Au(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(k(Me))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ru=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Gg(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Gg(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=qg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return qg(t,this._root).map(n=>n.value)}};function Gg(e,t){if(e===t.value)return t;for(let n of t.children){let r=Gg(e,n);if(r)return r}return null}function qg(e,t){if(e===t.value)return[t];for(let n of t.children){let r=qg(e,n);if(r.length)return r.unshift(t),r}return[]}var xt=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function vo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var ga=class extends Ru{snapshot;constructor(t,n){super(t),this.snapshot=n,Qg(this,t)}toString(){return this.snapshot.toString()}};function P0(e){let t=DR(e),n=new Ue([new Dr("",{})]),r=new Ue({}),i=new Ue({}),o=new Ue({}),s=new Ue(""),a=new fn(n,r,o,s,i,z,e,t.root);return a.snapshot=t.root,new ga(new xt(a,[]),t)}function DR(e){let t={},n={},r={},o=new hi([],t,r,"",n,z,e,null,{});return new ma("",new xt(o,[]))}var fn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(te(l=>l[ya]))??$(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(t=>pi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(t=>pi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ou(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:C(C({},t.params),e.params),data:C(C({},t.data),e.data),resolve:C(C(C(C({},e.data),t.data),i?.data),e._resolvedData)}:r={params:C({},e.params),data:C({},e.data),resolve:C(C({},e.data),e._resolvedData??{})},i&&L0(i)&&(r.resolve[ya]=i.title),r}var hi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ya]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=pi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=pi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},ma=class extends Ru{url;constructor(t,n){super(n),this.url=t,Qg(this,n)}toString(){return F0(this._root)}};function Qg(e,t){t.value._routerState=e,t.children.forEach(n=>Qg(e,n))}function F0(e){let t=e.children.length>0?` { ${e.children.map(F0).join(", ")} } `:"";return`${e.value}${t}`}function jg(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Tn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Tn(t.params,n.params)||e.paramsSubject.next(n.params),JA(t.url,n.url)||e.urlSubject.next(n.url),Tn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Wg(e,t){let n=Tn(e.params,t.params)&&tR(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Wg(e.parent,t.parent))}function L0(e){return typeof e.title=="string"||e.title===null}var j0=new x(""),_a=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=z;activateEvents=new le;deactivateEvents=new le;attachEvents=new le;detachEvents=new le;routerOutletData=pw();parentContexts=w(xo);location=w(Wn);changeDetector=w(_r);inputBinder=w(Fu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Kg(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ye({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[In]})}return e})(),Kg=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===fn?this.route:t===xo?this.childContexts:t===j0?this.outletData:this.parent.get(t,n)}},Fu=new x("");var Xg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Y({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&X(0,"router-outlet")},dependencies:[_a],encapsulation:2})}return e})();function em(e){let t=e.children&&e.children.map(em),n=t?q(C({},e),{children:t}):C({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==z&&(n.component=Xg),n}function IR(e,t,n){let r=va(e,t._root,n?n._root:void 0);return new ga(r,t)}function va(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=SR(e,t,n);return new xt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>va(e,a)),s}}let r=TR(t.value),i=t.children.map(o=>va(e,o));return new xt(r,i)}}function SR(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return va(e,r,i);return va(e,r)})}function TR(e){return new fn(new Ue(e.url),new Ue(e.params),new Ue(e.queryParams),new Ue(e.fragment),new Ue(e.data),e.outlet,e.component,e)}var Io=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},V0="ngNavigationCancelingError";function Nu(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Sr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=U0(!1,gt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function U0(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[V0]=!0,n.cancellationCode=t,n}function MR(e){return B0(e)&&Sr(e.url)}function B0(e){return!!e&&e[V0]}var xR=(e,t,n,r)=>te(i=>(new Yg(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Yg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),jg(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=vo(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=vo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=vo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=vo(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new xu(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Tu(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(jg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),jg(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},ku=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},bo=class{component;route;constructor(t,n){this.component=t,this.route=n}};function AR(e,t,n){let r=e._root,i=t?t._root:null;return la(r,i,n,[r.value])}function RR(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Ao(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Tf(e)?e:t.get(e):r}function la(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=vo(t);return e.children.forEach(s=>{OR(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>da(a,n.getContext(s),i)),i}function OR(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=NR(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ku(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?la(e,t,a?a.children:null,r,i):la(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bo(a.outlet.component,s))}else s&&da(t,a,i),i.canActivateChecks.push(new ku(r)),o.component?la(e,null,a?a.children:null,r,i):la(e,null,n,r,i);return i}function NR(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!fi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!fi(e.url,t.url)||!Tn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wg(e,t)||!Tn(e.queryParams,t.queryParams);case"paramsChange":default:return!Wg(e,t)}}function da(e,t,n){let r=vo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?da(s,t.children.getContext(o),n):da(s,null,n):da(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new bo(t.outlet.component,i)):n.canDeactivateChecks.push(new bo(null,i)):n.canDeactivateChecks.push(new bo(null,i))}function ba(e){return typeof e=="function"}function kR(e){return typeof e=="boolean"}function PR(e){return e&&ba(e.canLoad)}function FR(e){return e&&ba(e.canActivate)}function LR(e){return e&&ba(e.canActivateChild)}function jR(e){return e&&ba(e.canDeactivate)}function VR(e){return e&&ba(e.canMatch)}function $0(e){return e instanceof Vr||e?.name==="EmptyError"}var hu=Symbol("INITIAL_VALUE");function So(){return rt(e=>ts(e.map(t=>t.pipe(On(1),Hi(hu)))).pipe(te(t=>{for(let n of t)if(n!==!0){if(n===hu)return hu;if(n===!1||UR(n))return n}return!0}),dt(t=>t!==hu),On(1)))}function UR(e){return Sr(e)||e instanceof Io}function H0(e){return e.aborted?$(void 0).pipe(On(1)):new J(t=>{let n=()=>{t.next(),t.complete()};return e.addEventListener("abort",n),()=>e.removeEventListener("abort",n)})}function z0(e){return rs(H0(e))}function BR(e,t){return ut(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?$(q(C({},n),{guardsResult:!0})):$R(s,r,i,e).pipe(ut(a=>a&&kR(a)?HR(r,o,e,t):$(a)),te(a=>q(C({},n),{guardsResult:a})))})}function $R(e,t,n,r){return _e(e).pipe(ut(i=>KR(i.component,i.route,n,t,r)),Nn(i=>i!==!0,!0))}function HR(e,t,n,r){return _e(t).pipe($i(i=>Bi(GR(i.route.parent,r),zR(i.route,r),WR(e,i.path,n),qR(e,i.route,n))),Nn(i=>i!==!0,!0))}function zR(e,t){return e!==null&&t&&t(new Mu(e)),$(!0)}function GR(e,t){return e!==null&&t&&t(new Su(e)),$(!0)}function qR(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return $(!0);let i=r.map(o=>ns(()=>{let s=Mo(t)??n,a=Ao(o,s),c=FR(a)?a.canActivate(t,e):Ze(s,()=>a(t,e));return gi(c).pipe(Nn())}));return $(i).pipe(So())}function WR(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>RR(s)).filter(s=>s!==null).map(s=>ns(()=>{let a=s.guards.map(c=>{let l=Mo(s.node)??n,u=Ao(c,l),d=LR(u)?u.canActivateChild(r,e):Ze(l,()=>u(r,e));return gi(d).pipe(Nn())});return $(a).pipe(So())}));return $(o).pipe(So())}function KR(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return $(!0);let s=o.map(a=>{let c=Mo(t)??i,l=Ao(a,c),u=jR(l)?l.canDeactivate(e,t,n,r):Ze(c,()=>l(e,t,n,r));return gi(u).pipe(Nn())});return $(s).pipe(So())}function YR(e,t,n,r,i){let o=t.canLoad;if(o===void 0||o.length===0)return $(!0);let s=o.map(a=>{let c=Ao(a,e),l=PR(c)?c.canLoad(t,n):Ze(e,()=>c(t,n)),u=gi(l);return i?u.pipe(z0(i)):u});return $(s).pipe(So(),G0(r))}function G0(e){return tf(ke(t=>{if(typeof t!="boolean")throw Nu(e,t)}),te(t=>t===!0))}function ZR(e,t,n,r,i){let o=t.canMatch;if(!o||o.length===0)return $(!0);let s=o.map(a=>{let c=Ao(a,e),l=VR(c)?c.canMatch(t,n):Ze(e,()=>c(t,n)),u=gi(l);return i?u.pipe(z0(i)):u});return $(s).pipe(So(),G0(r))}var di=class q0 extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,q0.prototype)}},Zg=class W0 extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,W0.prototype)}};function JR(e){throw new S(4e3,!1)}function QR(e){throw U0(!1,gt.GuardRejected)}var XR=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){return h(this,null,function*(){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[z])throw JR(`${t.redirectTo}`);i=i.children[z]}})}applyRedirectCommands(t,n,r,i,o){return h(this,null,function*(){let s=yield eO(n,i,o);if(s instanceof dn)throw new Zg(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Zg(a);return a})}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new dn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new oe(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function eO(e,t,n){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=t;return vu(gi(Ze(n,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d}))))}var Jg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tO(e,t,n,r,i,o){let s=K0(e,t,n);return s.matched?(r=ER(t,r),ZR(r,t,n,i,o).pipe(te(a=>a===!0?s:C({},Jg)))):$(s)}function K0(e,t,n){if(t.path==="**")return nO(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?C({},Jg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||y0)(n,e,t);if(!i)return C({},Jg);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?C(C({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function nO(e){return{matched:!0,parameters:e.length>0?b0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function g0(e,t,n,r){return n.length>0&&oO(e,n,r)?{segmentGroup:new oe(t,iO(r,new oe(n,e.children))),slicedSegments:[]}:n.length===0&&sO(e,n,r)?{segmentGroup:new oe(e.segments,rO(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new oe(e.segments,e.children),slicedSegments:n}}function rO(e,t,n,r){let i={};for(let o of n)if(Lu(e,t,o)&&!r[un(o)]){let s=new oe([],{});i[un(o)]=s}return C(C({},r),i)}function iO(e,t){let n={};n[z]=t;for(let r of e)if(r.path===""&&un(r)!==z){let i=new oe([],{});n[un(r)]=i}return n}function oO(e,t,n){return n.some(r=>Lu(e,t,r)&&un(r)!==z)}function sO(e,t,n){return n.some(r=>Lu(e,t,r))}function Lu(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function aO(e,t,n){return t.length===0&&!e.children[n]}var cO=class{};function lO(e,t,n,r,i,o,s="emptyOnly",a){return h(this,null,function*(){return new dO(e,t,n,r,i,s,o,a).recognize()})}var uO=31,dO=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a,c){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new XR(this.urlSerializer,this.urlTree)}noMatchError(t){return new S(4002,`'${t.segmentGroup}'`)}recognize(){return h(this,null,function*(){let t=g0(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=yield this.match(t),i=new xt(r,n),o=new ma("",i),s=A0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}})}match(t){return h(this,null,function*(){let n=new hi([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{});try{return{children:yield this.processSegmentGroup(this.injector,this.config,t,z,n),rootSnapshot:n}}catch(r){if(r instanceof Zg)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof di?this.noMatchError(r):r}})}processSegmentGroup(t,n,r,i,o){return h(this,null,function*(){if(r.segments.length===0&&r.hasChildren())return this.processChildren(t,n,r,o);let s=yield this.processSegment(t,n,r,r.segments,i,!0,o);return s instanceof xt?[s]:[]})}processChildren(t,n,r,i){return h(this,null,function*(){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let l=r.children[c],u=CR(n,c),d=yield this.processSegmentGroup(t,u,l,c,i);s.push(...d)}let a=Y0(s);return fO(a),a})}processSegment(t,n,r,i,o,s,a){return h(this,null,function*(){for(let c of n)try{return yield this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a)}catch(l){if(l instanceof di||$0(l))continue;throw l}if(aO(r,i,o))return new cO;throw new di(r)})}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return h(this,null,function*(){if(un(r)!==s&&(s===z||!Lu(i,o,r)))throw new di(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c);throw new di(i)})}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){return h(this,null,function*(){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=K0(n,i,o);if(!c)throw new di(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uO&&(this.allowRedirects=!1));let f=new hi(o,l,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,m0(i),un(i),i.component??i._loadedComponent??null,i,v0(i)),g=Ou(f,a,this.paramsInheritanceStrategy);if(f.params=Object.freeze(g.params),f.data=Object.freeze(g.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let m=yield this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,t),v=yield this.applyRedirects.lineralizeSegments(i,m);return this.processSegment(t,r,n,v.concat(p),s,!1,a)})}matchSegmentAgainstRoute(t,n,r,i,o,s){return h(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=yield vu(tO(n,r,i,t,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new di(n);t=r._injector??t;let{routes:c}=yield this.getChildConfig(t,r,i),l=r._loadedInjector??t,{parameters:u,consumedSegments:d,remainingSegments:p}=a,f=new hi(d,u,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,m0(r),un(r),r.component??r._loadedComponent??null,r,v0(r)),g=Ou(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let{segmentGroup:m,slicedSegments:v}=g0(n,d,p,c);if(v.length===0&&m.hasChildren()){let M=yield this.processChildren(l,c,m,f);return new xt(f,M)}if(c.length===0&&v.length===0)return new xt(f,[]);let y=un(r)===o,V=yield this.processSegment(l,c,m,v,y?z:o,!0,f);return new xt(f,V instanceof xt?[V]:[])})}getChildConfig(t,n,r){return h(this,null,function*(){if(n.children)return{routes:n.children,injector:t};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield vu(YR(t,n,r,this.urlSerializer,this.abortSignal))){let o=yield this.configLoader.loadChildren(t,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}throw QR(n)}return{routes:[],injector:t}})}};function fO(e){e.sort((t,n)=>t.value.outlet===z?-1:n.value.outlet===z?1:t.value.outlet.localeCompare(n.value.outlet))}function hO(e){let t=e.value.routeConfig;return t&&t.path===""}function Y0(e){let t=[],n=new Set;for(let r of e){if(!hO(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=Y0(r.children);t.push(new xt(r.value,i))}return t.filter(r=>!n.has(r))}function m0(e){return e.data||{}}function v0(e){return e.resolve||{}}var pO=new x("",{factory:()=>lO});function gO(e,t,n,r,i,o,s){let a=e.get(pO);return ut(c=>$(c).pipe(rt(l=>a(e,t,n,r,l.extractedUrl,i,o,s)),te(({state:l,tree:u})=>q(C({},c),{targetSnapshot:l,urlAfterRedirects:u}))))}function mO(e,t){return ut(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Z0(c))s.add(l);let a=0;return _e(s).pipe($i(c=>o.has(c)?vO(c,r,e,t):(c.data=Ou(c,c.parent,e).resolve,$(void 0))),ke(()=>a++),Tc(1),ut(c=>a===s.size?$(n):Be))})}function Z0(e){let t=e.children.map(n=>Z0(n)).flat();return[e,...t]}function vO(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!L0(i)&&(o[ya]=i.title),ns(()=>(e.data=Ou(e,e.parent,n).resolve,yO(o,e,t,r).pipe(te(s=>(e._resolvedData=s,e.data=C(C({},e.data),s),null)))))}function yO(e,t,n,r){let i=Bg(e);if(i.length===0)return $({});let o={};return _e(i).pipe(ut(s=>_O(e[s],t,n,r).pipe(Nn(),ke(a=>{if(a instanceof Io)throw Nu(new Ir,a);o[s]=a}))),Tc(1),te(()=>o),yt(s=>$0(s)?Be:af(s)))}function _O(e,t,n,r){let i=Mo(t)??r,o=Ao(e,i),s=o.resolve?o.resolve(t,n):Ze(i,()=>o(t,n));return gi(s)}function Vg(e){return rt(t=>{let n=e(t);return n?_e(n).pipe(te(()=>t)):$(t)})}var tm=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===z);return r}getResolvedTitleForRoute(n){return n.data[ya]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>w(J0),providedIn:"root"})}return e})(),J0=(()=>{class e extends tm{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(k(c0))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ro=new x("",{factory:()=>({})}),wa=new x(""),Q0=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=w(rg);loadComponent(n,r){return h(this,null,function*(){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=h(this,null,function*(){try{let o=yield w0(Ze(n,()=>r.loadComponent())),s=yield tE(eE(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}});return this.componentLoaders.set(r,i),i})}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=h(this,null,function*(){try{let o=yield X0(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}});return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function X0(e,t,n,r){return h(this,null,function*(){let i=yield w0(Ze(n,()=>e.loadChildren())),o=yield tE(eE(i)),s;o instanceof Fl||Array.isArray(o)?s=o:s=yield t.compileModuleAsync(o),r&&r(e);let a,c,l=!1;return Array.isArray(s)?(c=s,l=!0):(a=s.create(n).injector,c=a.get(wa,[],{optional:!0,self:!0}).flat()),{routes:c.map(em),injector:a}})}function bO(e){return e&&typeof e=="object"&&"default"in e}function eE(e){return bO(e)?e.default:e}function tE(e){return h(this,null,function*(){return e})}var ju=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>w(wO),providedIn:"root"})}return e})(),wO=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nE=new x("");var EO=()=>{},rE=new x(""),nm=(()=>{class e{currentNavigation=Ut(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Ut(null);events=new Ce;transitionAbortWithErrorSubject=new Ce;configLoader=w(Q0);environmentInjector=w(Me);destroyRef=w($n);urlSerializer=w(To);rootContexts=w(xo);location=w(ci);inputBindingEnabled=w(Fu,{optional:!0})!==null;titleStrategy=w(tm);options=w(Ro,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=w(ju);createViewTransition=w(nE,{optional:!0});navigationErrorHandler=w(rE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>$(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Du(i)),r=i=>this.events.next(new Iu(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Re(()=>{this.transitions?.next(q(C({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new Ue(null),this.transitions.pipe(dt(r=>r!==null),rt(r=>{let i=!1,o=new AbortController;return $(r).pipe(rt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",gt.SupersededByNewNavigation),Be;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?q(C({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&l!=="reload")return this.events.next(new xn(s.id,this.urlSerializer.serialize(s.rawUrl),"",wo.IgnoredSameUrlNavigation)),s.resolve(!1),Be;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return $(s).pipe(rt(u=>(this.events.next(new Tr(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Be:Promise.resolve(u))),gO(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),ke(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(p=>(p.finalUrl=u.urlAfterRedirects,p));let d=new ha(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:p,restoredState:f,extras:g}=s,m=new Tr(u,this.urlSerializer.serialize(d),p,f);this.events.next(m);let v=P0(this.rootComponentType).snapshot;return this.currentTransition=r=q(C({},s),{targetSnapshot:v,urlAfterRedirects:d,extras:q(C({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(y=>(y.finalUrl=d,y)),$(r)}else return this.events.next(new xn(s.id,this.urlSerializer.serialize(s.extractedUrl),"",wo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Be}),ke(s=>{let a=new bu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),te(s=>(this.currentTransition=r=q(C({},s),{guards:AR(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),BR(this.environmentInjector,s=>this.events.next(s)),ke(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Nu(this.urlSerializer,s.guardsResult);let a=new wu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),dt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",gt.GuardRejected),!1)),Vg(s=>{if(s.guards.canActivateChecks.length!==0)return $(s).pipe(ke(a=>{let c=new Eu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),rt(a=>{let c=!1;return $(a).pipe(mO(this.paramsInheritanceStrategy,this.environmentInjector),ke({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",gt.NoDataFromResolver)}}))}),ke(a=>{let c=new Cu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Vg(s=>{let a=l=>{let u=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let d=Mo(l)??this.environmentInjector;u.push(this.configLoader.loadComponent(d,l.routeConfig).then(p=>{l.component=p}))}for(let d of l.children)u.push(...a(d));return u},c=a(s.targetSnapshot.root);return c.length===0?$(s):_e(Promise.all(c).then(()=>s))}),Vg(()=>this.afterPreactivation()),rt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?_e(c).pipe(te(()=>r)):$(r)}),te(s=>{let a=IR(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=q(C({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),ke(()=>{this.events.next(new pa)}),xR(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),On(1),rs(H0(o.signal).pipe(dt(()=>!i&&!r.targetRouterState),ke(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",gt.Aborted)}))),ke({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=EO,a)),this.lastSuccessfulNavigation.set(Re(this.currentNavigation)),this.events.next(new Et(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),rs(this.transitionAbortWithErrorSubject.pipe(ke(s=>{throw s}))),or(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",gt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),yt(s=>{if(this.destroyed)return r.resolve(!1),Be;if(i=!0,B0(s))this.events.next(new Mn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),MR(s)?this.events.next(new Do(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Eo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Ze(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Io){let{message:l,cancellationCode:u}=Nu(this.urlSerializer,c);this.events.next(new Mn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Do(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Be}))}))}cancelNavigationTransition(n,r,i){let o=new Mn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Re(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function CO(e){return e!==_o}var iE=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>w(DO),providedIn:"root"})}return e})(),Pu=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},DO=(()=>{class e extends Pu{static \u0275fac=(()=>{let n;return function(i){return(n||(n=vr(e)))(i||e)}})();static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rm=(()=>{class e{urlSerializer=w(To);options=w(Ro,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=w(ci);urlHandlingStrategy=w(ju);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new dn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof dn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=P0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>w(oE),providedIn:"root"})}return e})(),oE=(()=>{class e extends rm{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Tr?this.updateStateMemento():n instanceof xn?this.commitTransition(r):n instanceof ha?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof pa?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Mn&&n.code!==gt.SupersededByNewNavigation&&n.code!==gt.Redirect?this.restoreHistory(r):n instanceof Eo?this.restoreHistory(r,!0):n instanceof Et&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=C(C({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=C(C({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=vr(e)))(i||e)}})();static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function im(e,t){e.events.pipe(dt(n=>n instanceof Et||n instanceof Mn||n instanceof Eo||n instanceof xn),te(n=>n instanceof Et||n instanceof xn?0:(n instanceof Mn?n.code===gt.Redirect||n.code===gt.SupersededByNewNavigation:!1)?2:1),dt(n=>n!==2),On(1)).subscribe(()=>{t()})}var IO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},SO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mi=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=w(jl);stateManager=w(rm);options=w(Ro,{optional:!0})||{};pendingTasks=w(En);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=w(nm);urlSerializer=w(To);location=w(ci);urlHandlingStrategy=w(ju);injector=w(Me);_events=new Ce;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=w(iE);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=w(wa,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!w(Fu,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Te;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Re(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Mn&&r.code!==gt.Redirect&&r.code!==gt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Et)this.navigated=!0;else if(r instanceof Do){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=C({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||CO(i.source)},s);this.scheduleNavigation(a,_o,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}wR(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_o,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=C({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(_t)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Re(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(em),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=C(C({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=R0(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return O0(d,n,u,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Sr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,_o,null,r)}navigate(n,r={skipLocationChange:!1}){return TO(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(mn(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=C({},IO):r===!1?i=C({},SO):i=r,Sr(n))return u0(this.currentUrlTree,n,i);let o=this.parseUrl(n);return u0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,p)=>{a=d,c=p});let u=this.pendingTasks.add();return im(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function TO(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new S(4008,!1)}var Vu=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ut(null);get href(){return Re(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ce;applicationErrorHandler=w(_t);options=w(Ro,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(w(new Gl("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Et&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Sr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Sr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(A(mi),A(fn),Os("tabindex"),A(qn),A(Qe),A(ai))};static \u0275dir=ye({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&K("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Bs("href",i.reactiveHref(),Cp)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",si],skipLocationChange:[2,"skipLocationChange","skipLocationChange",si],replaceUrl:[2,"replaceUrl","replaceUrl",si],routerLink:"routerLink"},features:[In]})}return e})();var sE=new x(""),MO=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=_o;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Tr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Et?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof xn&&n.code===wo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{if(!(n instanceof Co))return;let r={behavior:"instant"};n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position,r):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>h(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Co(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Up()};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();function om(e,...t){return Vn([{provide:wa,multi:!0,useValue:e},[],{provide:fn,useFactory:xO},{provide:Ul,multi:!0,useFactory:RO},t.map(n=>n.\u0275providers)])}function xO(){return w(mi).routerState.root}function AO(e,t){return{\u0275kind:e,\u0275providers:t}}function sm(e={}){return AO(4,[{provide:sE,useFactory:()=>{let n=w(tu),r=w(De),i=w(nm),o=w(To);return new MO(o,i,n,r,e)}}])}function RO(){let e=w(Ct);return t=>{let n=e.get(Yn);if(t!==n.components[0])return;let r=e.get(mi),i=e.get(OO);e.get(NO)===1&&r.initialNavigation(),e.get(kO,null,{optional:!0})?.setUpPreloading(),e.get(sE,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var OO=new x("",{factory:()=>new Ce}),NO=new x("",{factory:()=>1});var kO=new x("");var vi=class e{elementRef=w(Qe);scrollIntoView(){this.elementRef.nativeElement.scrollIntoView({behavior:"smooth"})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Y({type:e,selectors:[["app-lead-form"]],decls:5,vars:0,consts:[["id","lead-form",1,"lead-form-section","py-5"],[1,"container"],[1,"row"],[1,"col-lg-10","mx-auto","text-center"],["src",Ep`https://form.finalform.so/forms/5XrNDeIE`,"width","100%","height","600px","frameborder","0","marginheight","0","marginwidth","0"]],template:function(n,r){n&1&&(R(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ge(4,"iframe",4),P()()()())},encapsulation:2})};var Oo=class e{constructor(t){this.el=t}observer;ngOnInit(){this.observer=new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting&&(this.el.nativeElement.classList.add("in-view"),this.observer.unobserve(this.el.nativeElement))})}),this.observer.observe(this.el.nativeElement)}ngOnDestroy(){this.observer.disconnect()}static \u0275fac=function(n){return new(n||e)(A(Qe))};static \u0275dir=ye({type:e,selectors:[["","appScrollAnimation",""]]})};function FO(e,t){if(e&1&&(E(0,"a",9),Zc(),E(1,"svg",10),X(2,"path",11),b()()),e&2){let n=Z().$implicit;N("href",n.linkedin,sn)}}function LO(e,t){if(e&1&&(E(0,"div",6),X(1,"img",7),E(2,"h2"),_(3),b(),E(4,"h3"),_(5),b(),ne(6,FO,3,1,"a",8),b()),e&2){let n=t.$implicit;D(),N("alt",Qp(n.name))("src",n.image,sn),D(2),Xe(n.name),D(2),Xe(n.title),D(),N("ngIf",n.linkedin)}}var Uu=class e{cofounders=[{name:"Suja Kunwar",title:"Co-Founder",image:"../../suja.png",linkedin:"https://www.linkedin.com/in/suja-kunwar-4569aa112"},{name:"Tushar Dev Sharma",title:"Co-Founder",image:"../../tushar.png",linkedin:"https://www.linkedin.com/in/tushardevsharma"}];static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Y({type:e,selectors:[["app-about-us"]],decls:16,vars:1,consts:[[1,"about-us-wrapper"],[1,"about-us-main-content"],[1,"intro-text"],[1,"cofounders-section"],["class","cofounder-card",4,"ngFor","ngForOf"],["appScrollAnimation","",1,"scroll-animation"],[1,"cofounder-card"],[1,"cofounder-image",3,"src","alt"],["target","_blank","class","linkedin-link",3,"href",4,"ngIf"],["target","_blank",1,"linkedin-link",3,"href"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"linkedin-icon"],["d","M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.227 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.456c.98 0 1.772-.773 1.772-1.729V1.729C24 .774 23.207 0 22.227 0z"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div",1)(2,"h1"),_(3,"About Us"),b(),E(4,"p",2),_(5," We hated moving. And our movers made it worse. "),X(6,"br"),_(7," So, we built Zeeroni. "),X(8,"br"),_(9," The moving experience we wished existed: clean, careful and predictable. "),X(10,"br")(11,"br"),_(12," Mission: To make moving as easy as ordering food. "),b(),E(13,"div",3),ne(14,LO,7,6,"div",4),b()(),X(15,"app-lead-form",5),b()),n&2&&(D(14),N("ngForOf",r.cofounders))},dependencies:[je,wr,pt,vi,Oo],styles:['.about-us-wrapper[_ngcontent-%COMP%]{margin-top:50px;padding:80px 20px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;color:#333}.about-us-main-content[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;text-align:left}h1[_ngcontent-%COMP%]{font-size:40px;font-weight:600;margin-bottom:40px;color:#333;text-align:left}.intro-text[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;margin-bottom:60px;color:#555}.cofounders-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:40px}.cofounder-card[_ngcontent-%COMP%]{padding:20px 0;text-align:left}.cofounder-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;margin-bottom:15px}.cofounder-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-bottom:5px;color:#333}.cofounder-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#777}.linkedin-link[_ngcontent-%COMP%]{display:inline-block;margin-top:10px;text-decoration:none;font-weight:500}.linkedin-icon[_ngcontent-%COMP%]{width:24px;height:24px;fill:#007bff;vertical-align:middle}.linkedin-link[_ngcontent-%COMP%]:hover   .linkedin-icon[_ngcontent-%COMP%]{fill:#0056b3}']})};var jO=["typewriterText"],VO=["typedCursor"],Bu=class e{getConsultation=new le;typewriterTextRef;typedCursorRef;textArray=["Experience the future of relocation.","The new standard in moving.","Seamless, stress-free relocation.","Powered by technology, designed for your peace of mind.","Your personal home settling partners."];textArrayIndex=0;typedText="";charIndex=0;typingSpeed=100;deletingSpeed=50;pauseBetweenTexts=1500;isDeleting=!1;typingTimeout;cursorBlinkInterval;constructor(){}ngOnInit(){}ngAfterViewInit(){this.typingTimeout=setTimeout(()=>{this.handleTypeWriter()},500),this.blinkCursor()}ngOnDestroy(){this.typingTimeout&&clearTimeout(this.typingTimeout),this.cursorBlinkInterval&&clearInterval(this.cursorBlinkInterval)}onGetConsultationClick(){this.getConsultation.emit()}handleTypeWriter=()=>{let t=this.textArray[this.textArrayIndex];this.isDeleting?(this.typedText=t.substring(0,this.charIndex-1),this.charIndex--):(this.typedText=t.substring(0,this.charIndex+1),this.charIndex++),this.typewriterTextRef&&this.typewriterTextRef.nativeElement&&(this.typewriterTextRef.nativeElement.textContent=this.typedText);let n=this.typingSpeed;this.isDeleting&&(n=this.deletingSpeed),!this.isDeleting&&this.typedText===t?(n=this.pauseBetweenTexts,this.isDeleting=!0):this.isDeleting&&this.typedText===""&&(this.isDeleting=!1,this.textArrayIndex=(this.textArrayIndex+1)%this.textArray.length,n=this.typingSpeed),this.typingTimeout=setTimeout(this.handleTypeWriter,n)};blinkCursor=()=>{this.cursorBlinkInterval=setInterval(()=>{this.typedCursorRef&&this.typedCursorRef.nativeElement&&(this.typedCursorRef.nativeElement.style.opacity=this.typedCursorRef.nativeElement.style.opacity==="0"?"1":"0")},500)};static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Y({type:e,selectors:[["app-hero"]],viewQuery:function(n,r){if(n&1&&$t(jO,5)(VO,5),n&2){let i;ot(i=st())&&(r.typewriterTextRef=i.first),ot(i=st())&&(r.typedCursorRef=i.first)}},outputs:{getConsultation:"getConsultation"},decls:12,vars:0,consts:[["typewriterText",""],["typedCursor",""],[1,"hero-section","d-flex","align-items-center"],[1,"container","text-center"],[1,"display-3","text-white"],[1,"typewriter-text"],[1,"typed-cursor"],[1,"lead","text-white-50"],[1,"btn","btn-primary","btn-lg","mt-3",3,"click"]],template:function(n,r){if(n&1){let i=He();R(0,"section",2)(1,"div",3)(2,"h1",4),ge(3,"span",5,0),R(5,"span",6,1),_(7,"|"),P()(),R(8,"p",7),_(9,"Intelligent moving, re-imagined for your peace of mind."),P(),R(10,"a",8),Bl("click",function(){return he(i),pe(r.onGetConsultationClick())}),_(11,"Get a Free Consultation"),P()()()}},styles:[".hero-section[_ngcontent-%COMP%]{height:100vh;background:linear-gradient(#00000080,#00000080),url(https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?q=80&w=1200&auto=format&fit=crop);background-size:cover;background-position:center;background-attachment:fixed}.typed-cursor[_ngcontent-%COMP%]{opacity:1;animation:_ngcontent-%COMP%_blink .7s infinite}@keyframes _ngcontent-%COMP%_blink{0%{opacity:1}50%{opacity:0}to{opacity:1}}"]})};var $u=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Y({type:e,selectors:[["app-problem"]],decls:33,vars:0,consts:[["id","problem",1,"problem-section","py-5"],[1,"container"],[1,"row","text-center","mb-5"],[1,"col-lg-8","mx-auto"],[1,"display-5"],[1,"lead","text-muted"],[1,"row"],[1,"col-md-4","mb-4"],[1,"card","h-100","text-center","p-4"],[1,"card-body"],[1,"bi","bi-box-seam-fill","themed-icon","mb-3"],[1,"card-title"],[1,"card-text"],[1,"bi","bi-currency-dollar","themed-icon","mb-3"],[1,"bi","bi-calendar-x-fill","themed-icon","mb-3"]],template:function(n,r){n&1&&(R(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),_(5,"The Relocation Rollercoaster"),P(),R(6,"p",5),_(7,"Moving is stressful enough. Your moving company shouldn't add to it."),P()()(),R(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),ge(12,"i",10),R(13,"h5",11),_(14,"Damaged Belongings"),P(),R(15,"p",12),_(16,"Unskilled movers and poor packing lead to broken valuables and heartache."),P()()()(),R(17,"div",7)(18,"div",8)(19,"div",9),ge(20,"i",13),R(21,"h5",11),_(22,"Hidden Costs"),P(),R(23,"p",12),_(24,"The price you're quoted is rarely the price you pay. Your experience is plagued by last-minute fees."),P()()()(),R(25,"div",7)(26,"div",8)(27,"div",9),ge(28,"i",14),R(29,"h5",11),_(30,"Weeks of Chaos"),P(),R(31,"p",12),_(32,"Your home remains a mess of boxes for weeks, preventing you from truly settling in."),P()()()()()()())},styles:[".problem-section[_ngcontent-%COMP%]{background-color:var(--bs-body-bg)}"]})};var yi=class e{items=[];slideInterval=3500;slideChange=new le;currentIndex=0;previousIndex=null;intervalId;touchStartX=0;touchEndX=0;swipeThreshold=50;slideDirection="next";ngOnInit(){this.startAutoSlide()}ngOnDestroy(){this.stopAutoSlide()}startAutoSlide(){!this.intervalId&&this.items.length>1&&(this.intervalId=setInterval(()=>{this.nextSlide()},this.slideInterval))}stopAutoSlide(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}nextSlide(){this.slideDirection="next",this.previousIndex=this.currentIndex,this.currentIndex=(this.currentIndex+1)%this.items.length,this.slideChange.emit({currentIndex:this.currentIndex,direction:this.slideDirection})}prevSlide(){this.slideDirection="prev",this.previousIndex=this.currentIndex,this.currentIndex=(this.currentIndex-1+this.items.length)%this.items.length,this.slideChange.emit({currentIndex:this.currentIndex,direction:this.slideDirection})}goToSlide(t){t===this.currentIndex||t<0||t>=this.items.length||(this.previousIndex=this.currentIndex,t>this.currentIndex?this.slideDirection="next":this.slideDirection="prev",this.currentIndex=t,this.stopAutoSlide(),this.startAutoSlide(),this.slideChange.emit({currentIndex:this.currentIndex,direction:this.slideDirection}))}isLeaving(t){return t===this.previousIndex&&t!==this.currentIndex}onTouchStart(t){this.touchStartX=t.touches[0].clientX,this.stopAutoSlide()}onTouchMove(t){this.touchEndX=t.touches[0].clientX}onTouchEnd(t){let n=this.touchStartX-this.touchEndX;n>this.swipeThreshold?this.nextSlide():n<-this.swipeThreshold&&this.prevSlide(),this.startAutoSlide()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=ye({type:e,selectors:[["","appCarousel",""]],hostBindings:function(n,r){n&1&&K("touchstart",function(o){return r.onTouchStart(o)})("touchmove",function(o){return r.onTouchMove(o)})("touchend",function(o){return r.onTouchEnd(o)})},inputs:{items:"items",slideInterval:"slideInterval"},outputs:{slideChange:"slideChange"},exportAs:["appCarousel"]})};function UO(e,t){if(e&1&&(E(0,"div",11)(1,"div",12)(2,"div",13),X(3,"img",14),b(),E(4,"div",15)(5,"h3",16),X(6,"i"),_(7),b(),E(8,"p",17),_(9),b()()()()),e&2){let n=t.$implicit,r=t.$index;Z();let i=at(11);Fe("active",r===i.currentIndex)("leaving",i.isLeaving(r)),D(2),Fe("order-md-2",n.imageRight),D(),N("src",n.image,sn)("alt",n.title),D(),Fe("order-md-1",n.imageRight),D(2),Yp(n.icon),D(),bt(" ",n.title," "),D(2),Xe(n.description)}}function BO(e,t){if(e&1){let n=He();E(0,"button",18),K("click",function(){let i=he(n).$index;Z();let o=at(11);return pe(o.goToSlide(i))}),b()}if(e&2){let n=t.$index;Z();let r=at(11);Fe("active",n===r.currentIndex),co("aria-label",qs("Slide ",n+1))}}var Hu=class e{features=[{image:"https://images.unsplash.com/photo-1521791136064-7986c2920216?q=80&w=1200&auto=format&fit=auto",icon:"bi bi-headset me-2 text-secondary",title:"One Point of Contact",description:"We coordinate everything, so you don't have to. Your dedicated move consultant is with you every step of the way."},{image:"https://images.unsplash.com/photo-1552581234-26160f608093?q=80&w=1200&auto=format&fit=crop",icon:"bi bi-people-fill me-2 text-secondary",title:"Vetted, Professional Crew",description:"Our partners are an extension of our team, trained to our high standards of care and professionalism.",imageRight:!0},{image:"https://images.unsplash.com/photo-1564669722947-c89159202d19?q=80&w=1200&auto=format&fit=crop",icon:"bi bi-cash-stack me-2 text-secondary",title:"Transparent Pricing",description:"The price we quote is the price you pay. No surprises, no hidden fees. Ever."}];ngOnInit(){}ngOnDestroy(){}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Y({type:e,selectors:[["app-solution"]],decls:17,vars:5,consts:[["carouselDir","appCarousel"],["id","solution",1,"solution-section","py-6"],[1,"container"],[1,"row","text-center","mb-5"],[1,"col-lg-9","mx-auto"],[1,"display-5"],[1,"lead"],["appCarousel","",1,"solution-features-container",3,"items"],[1,"solution-feature-card",3,"active","leaving"],[1,"carousel-indicators","mt-4","d-flex","justify-content-center","gap-2"],["type","button",1,"carousel-indicator-dot",3,"active","aria-label"],[1,"solution-feature-card"],[1,"row","g-0","h-100","overflow-hidden"],[1,"col-md-6","d-flex","align-items-center","justify-content-center","p-0"],[1,"card-img-left",3,"src","alt"],[1,"col-md-6","d-flex","flex-column","justify-content-center","p-4"],[1,"h4","mt-3","mt-lg-0"],[1,"text-muted"],["type","button",1,"carousel-indicator-dot",3,"click","aria-label"]],template:function(n,r){if(n&1&&(E(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h2",5),_(5,"Your Move, Mastered."),b(),E(6,"p",6),_(7,"We pack, move, and fully set up your new home with data-driven precision while you sit back and relax."),b(),E(8,"p",6),_(9,"Zero chaos, zero cartons, 100% ready to live."),b()()(),E(10,"div",7,0),ii(12,UO,10,14,"div",8,ri),b(),E(14,"div",9),ii(15,BO,1,4,"button",10,ri),b()()()),n&2){let i=at(11);D(10),Fe("slide-next",i.slideDirection==="next")("slide-prev",i.slideDirection==="prev"),N("items",r.features),D(2),oi(r.features),D(3),oi(r.features)}},dependencies:[je,yi],styles:[".solution-section[_ngcontent-%COMP%]{padding:6rem 0;background-color:var(--bs-body-bg)}.solution-features-container[_ngcontent-%COMP%]{position:relative;width:100%;height:500px;overflow:hidden;padding-top:0;background-color:var(--bs-body-bg)}.carousel-navigation-controls[_ngcontent-%COMP%]{margin-top:2rem}.carousel-control-prev-btn[_ngcontent-%COMP%], .carousel-control-next-btn[_ngcontent-%COMP%]{background-color:var(--bs-primary);border-color:var(--bs-primary);color:var(--bs-secondary);font-weight:600;padding:.75rem 1.5rem;border-radius:.5rem;transition:background-color .3s ease,border-color .3s ease,transform .2s ease}.carousel-control-prev-btn[_ngcontent-%COMP%]:hover, .carousel-control-next-btn[_ngcontent-%COMP%]:hover{background-color:#123a2d;border-color:#123a2d;transform:translateY(-2px)}.carousel-control-prev-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .carousel-control-next-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 .5rem}.solution-feature-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;margin-bottom:1.5rem;transform:translate(100%);transition:transform .8s ease-in-out,box-shadow .3s ease-in-out;overflow:hidden;border-radius:1rem;background-color:var(--bs-body-bg);z-index:0}.solution-feature-card.active[_ngcontent-%COMP%]{transform:translate(0);z-index:2;background-color:var(--bs-body-bg)}.solution-feature-card.leaving[_ngcontent-%COMP%]{transform:translate(-100%);z-index:1;background-color:var(--bs-body-bg)}.solution-features-container.slide-prev[_ngcontent-%COMP%]   .solution-feature-card[_ngcontent-%COMP%]{transform:translate(-100%)}.solution-features-container.slide-prev[_ngcontent-%COMP%]   .solution-feature-card.active[_ngcontent-%COMP%]{transform:translate(0)}.solution-features-container.slide-prev[_ngcontent-%COMP%]   .solution-feature-card.leaving[_ngcontent-%COMP%]{transform:translate(100%)}.solution-feature-card[_ngcontent-%COMP%]   .card-img-left[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;background-color:var(--bs-body-bg)}.solution-feature-card[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{background-color:var(--bs-body-bg)}.solution-feature-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0!important;font-size:1.75rem;font-weight:700;color:var(--bs-body-color)}.solution-feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.8;color:#6c757d}.solution-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:var(--bs-body-color)}.solution-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;color:var(--bs-body-color)}.solution-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.8;color:#6c757d}.solution-section[_ngcontent-%COMP%]   .bi[_ngcontent-%COMP%]{font-size:1.8rem;vertical-align:middle}.solution-section[_ngcontent-%COMP%]   .text-secondary[_ngcontent-%COMP%]{color:var(--bs-primary)!important}"]})};var zu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Y({type:e,selectors:[["app-how-it-works"]],decls:41,vars:0,consts:[["id","how-it-works",1,"how-it-works-section","py-5","bg-light"],[1,"container"],[1,"row","text-center","mb-5"],[1,"col-lg-8","mx-auto"],[1,"display-5"],[1,"lead","text-muted"],[1,"row"],[1,"col-md-3"],[1,"step"],[1,"step-icon"],[1,"bi","bi-telephone-fill"],[1,"bi","bi-calendar-check-fill"],[1,"bi","bi-key-fill"],[1,"bi","bi-house-heart-fill"]],template:function(n,r){n&1&&(R(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),_(5,"Four Steps to a Perfect Move"),P(),R(6,"p",5),_(7,"From consultation to complete setup, we've streamlined the entire process."),P()()(),R(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),ge(12,"i",10),P(),R(13,"h5"),_(14,"1. Book a Consultation"),P(),R(15,"p"),_(16,"Tell us about your move. We'll create a detailed, no-obligation plan and quote tailored to you."),P()()(),R(17,"div",7)(18,"div",8)(19,"div",9),ge(20,"i",11),P(),R(21,"h5"),_(22,"2. We Plan, You Relax"),P(),R(23,"p"),_(24,"We handle all the logistics. Packing materials, crew, truck, and timeline are all sorted by us."),P()()(),R(25,"div",7)(26,"div",8)(27,"div",9),ge(28,"i",12),P(),R(29,"h5"),_(30,"3. The Magic Happens"),P(),R(31,"p"),_(32,"Leave your old home in the morning. We pack, move, and set up everything in your new home."),P()()(),R(33,"div",7)(34,"div",8)(35,"div",9),ge(36,"i",13),P(),R(37,"h5"),_(38,"4. Welcome Home"),P(),R(39,"p"),_(40,"Arrive at your new home, fully set up and ready to live in from the very first minute."),P()()()()()())},styles:['.how-it-works-section[_ngcontent-%COMP%]{background-color:var(--bs-body-bg)}.step[_ngcontent-%COMP%]{text-align:center;position:relative;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out;padding:1.5rem}.step[_ngcontent-%COMP%]:hover{transform:translateY(-10px) scale(1.02);box-shadow:0 1rem 3rem #0000002d}.step-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background-color:var(--bs-primary);color:var(--bs-secondary);font-size:2.5rem;margin:0 auto 1.5rem;display:flex;align-items:center;justify-content:center;position:relative;z-index:1}.step[_ngcontent-%COMP%]:not(:last-child):after{content:"";position:absolute;top:40px;left:50%;width:100%;height:2px;background-color:rgba(var(--bs-primary-rgb),.2);transform:translate(50%);z-index:0}@media(max-width:767.98px){.step[_ngcontent-%COMP%]:not(:last-child):after{display:none}}']})};var $O=["carouselContainer"],HO=["carouselCard"];function zO(e,t){if(e&1&&(E(0,"div",12,1)(2,"div",13)(3,"div",14),X(4,"img",15),b(),E(5,"div",16)(6,"h3",17),_(7),b(),E(8,"p",18),_(9),b()()()()),e&2){let n=t.$implicit,r=t.$index;Z();let i=at(10);Fe("active",r===i.currentIndex)("leaving",i.isLeaving(r)),D(3),Fe("order-md-2",r%2!==0),D(),N("src",n.image,sn)("alt",n.title),D(),Fe("order-md-1",r%2!==0),D(2),bt(" ",n.title," "),D(2),Xe(n.description)}}function GO(e,t){if(e&1){let n=He();E(0,"button",19),K("click",function(){let i=he(n).$index;Z();let o=at(10);return pe(o.goToSlide(i))}),b()}if(e&2){let n=t.$index;Z();let r=at(10);Fe("active",n===r.currentIndex),co("aria-label",qs("Slide ",n+1))}}var Gu=class e{carouselContainer;carouselCards;carouselDirective;services=[{image:"https://images.unsplash.com/photo-1624137308591-43f03e6d64c3?q=80&w=800&auto=format&fit=crop",title:"Expert Packing & Moving",description:"From fragile items to bulky furniture, we pack and transport everything with the utmost care."},{image:"https://images.unsplash.com/photo-1487015307662-6ce6210680f1?q=80&w=800&auto=format&fit=crop",title:"Furniture Assembly",description:"Beds, tables, shelves - we assemble all your furniture so you don't have to lift a finger."},{image:"https://images.unsplash.com/photo-1484154218962-a197022b5858?q=80&w=800&auto=format&fit=crop",title:"Appliance Installation",description:"We'll install your TV, washing machine, fridge, and other appliances so they're ready to use."},{image:"https://images.unsplash.com/photo-1556911220-bff31c812dba?q=80&w=800&auto=format&fit=crop",title:"Kitchen Setup",description:"We'll unpack and organize your kitchen, so you can cook your first meal without the hassle."},{image:"https://images.unsplash.com/photo-1687953413905-731f620177ae?q=80&w=800&auto=format&fit=fill",title:"Wardrobe Organization",description:"Your clothes are unpacked and arranged in your closets, making you feel right at home."},{image:"https://images.unsplash.com/photo-1513694203232-719a280e022f?q=80&w=800&auto=format&fit=crop",title:"The Final Touches",description:"We can help with small decor, hanging pictures, and making the space truly yours."}];ngOnInit(){}ngAfterViewInit(){this.adjustCarouselHeight(),this.carouselCards.changes.subscribe(()=>this.adjustCarouselHeight()),this.carouselDirective.slideChange.subscribe(t=>this.adjustCarouselHeight())}ngOnDestroy(){}onResize(t){this.adjustCarouselHeight()}adjustCarouselHeight(){if(window.innerWidth<768&&this.carouselContainer&&this.carouselCards&&this.carouselDirective){let t=this.carouselCards.toArray()[this.carouselDirective.currentIndex]?.nativeElement;t&&(this.carouselContainer.nativeElement.style.height=`${t.scrollHeight}px`)}else this.carouselContainer&&(this.carouselContainer.nativeElement.style.height="500px")}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Y({type:e,selectors:[["app-services"]],viewQuery:function(n,r){if(n&1&&$t($O,5)(yi,5)(HO,5),n&2){let i;ot(i=st())&&(r.carouselContainer=i.first),ot(i=st())&&(r.carouselDirective=i.first),ot(i=st())&&(r.carouselCards=i)}},hostBindings:function(n,r){n&1&&K("resize",function(o){return r.onResize(o)},Fs)},decls:16,vars:5,consts:[["carouselContainer","","carouselDir","appCarousel"],["carouselCard",""],["id","services",1,"services-section","py-5"],[1,"container"],[1,"row","text-center","mb-5"],[1,"col-lg-8","mx-auto"],[1,"display-5"],[1,"lead","text-muted"],["appCarousel","",1,"services-carousel-container",3,"slideChange","items"],[1,"service-carousel-card",3,"active","leaving"],[1,"carousel-indicators","mt-4","d-flex","justify-content-center","gap-2"],["type","button",1,"carousel-indicator-dot",3,"active","aria-label"],[1,"service-carousel-card"],[1,"row","g-0","h-100","overflow-hidden"],[1,"col-md-6","d-flex","align-items-center","justify-content-center","p-0"],[1,"card-img-left",3,"src","alt"],[1,"col-md-6","d-flex","flex-column","p-4"],[1,"h4","mt-3","mt-lg-0"],[1,"text-muted"],["type","button",1,"carousel-indicator-dot",3,"click","aria-label"]],template:function(n,r){if(n&1){let i=He();E(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h2",6),_(5,'What "Fully Settled" Looks Like'),b(),E(6,"p",7),_(7,"We offer a comprehensive suite of services to make your new house a home, instantly. "),b()()(),E(8,"div",8,0),K("slideChange",function(){return he(i),pe(r.adjustCarouselHeight())}),ii(11,zO,10,12,"div",9,ri),b(),E(13,"div",10),ii(14,GO,1,4,"button",11,ri),b()()()}if(n&2){let i=at(10);D(8),Fe("slide-next",i.slideDirection==="next")("slide-prev",i.slideDirection==="prev"),N("items",r.services),D(3),oi(r.services),D(3),oi(r.services)}},dependencies:[yi],styles:[".services-section[_ngcontent-%COMP%]{padding:6rem 0;background-color:var(--bs-body-bg)}.services-carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;height:500px;overflow:hidden;padding-top:0;background-color:var(--bs-body-bg)}.services-carousel-container[_ngcontent-%COMP%]   .service-carousel-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;margin-bottom:1.5rem;transform:translate(100%);transition:transform .8s ease-in-out,box-shadow .3s ease-in-out;overflow:hidden;border-radius:1rem;background-color:var(--bs-body-bg);z-index:0}.services-carousel-container[_ngcontent-%COMP%]   .service-carousel-card.active[_ngcontent-%COMP%]{transform:translate(0);z-index:2;background-color:var(--bs-body-bg)}.services-carousel-container[_ngcontent-%COMP%]   .service-carousel-card.leaving[_ngcontent-%COMP%]{transform:translate(-100%);z-index:1;background-color:var(--bs-body-bg)}.services-carousel-container.slide-prev[_ngcontent-%COMP%]   .service-carousel-card[_ngcontent-%COMP%]{transform:translate(-100%)}.services-carousel-container.slide-prev[_ngcontent-%COMP%]   .service-carousel-card.active[_ngcontent-%COMP%]{transform:translate(0)}.services-carousel-container.slide-prev[_ngcontent-%COMP%]   .service-carousel-card.leaving[_ngcontent-%COMP%]{transform:translate(100%)}.service-carousel-card[_ngcontent-%COMP%]   .card-img-left[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;background-color:var(--bs-body-bg)}.service-carousel-card[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{background-color:var(--bs-body-bg)}.service-carousel-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0!important;font-size:1.75rem;font-weight:700;color:var(--bs-body-color)}.service-carousel-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.8;color:#6c757d}@media(max-width:767.98px){.service-carousel-card[_ngcontent-%COMP%]{overflow:visible}.service-carousel-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-direction:column}.service-carousel-card[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]:nth-child(1){order:1}.service-carousel-card[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]:nth-child(2){order:2}.service-carousel-card[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{width:100%;padding:1rem}.service-carousel-card[_ngcontent-%COMP%]   .card-img-left[_ngcontent-%COMP%]{height:250px;object-fit:cover}}"]})};var qu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Y({type:e,selectors:[["app-guarantee"]],decls:9,vars:0,consts:[["id","guarantee",1,"guarantee-section","py-5","bg-primary","text-white"],[1,"container","text-center"],[1,"row"],[1,"col-lg-8","mx-auto"],[1,"bi","bi-shield-check","themed-icon","mb-3"],[1,"display-4"],[1,"lead"]],template:function(n,r){n&1&&(R(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ge(4,"i",4),R(5,"h2",5),_(6,"The Zeeroni Guarantee"),P(),R(7,"p",6),_(8," We treat your belongings as our own and your time as our most valuable asset. Our promise is a seamless, stress-free relocation, backed by a commitment to quality, transparency, and accountability. If you're not happy, we'll make it right. "),P()()()()())},styles:[".guarantee-section[_ngcontent-%COMP%]{background-color:var(--bs-body-bg)}"]})};var Wu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Y({type:e,selectors:[["app-tech-journey"]],decls:45,vars:0,consts:[["id","tech-journey",1,"tech-journey-section","py-5","bg-light"],[1,"container"],[1,"row","text-center","mb-5"],[1,"col-lg-8","mx-auto"],[1,"display-5"],[1,"lead","text-muted"],[1,"row"],[1,"col-md-6","col-lg-3","mb-4"],[1,"card","h-100","text-center","p-4"],[1,"card-body"],[1,"icon-circle","text-white","mb-3","mx-auto"],[1,"bi","bi-robot","themed-icon"],[1,"card-title"],[1,"card-text"],[1,"bi","bi-cpu","themed-icon"],[1,"bi","bi-shield-check","themed-icon"],[1,"bi","bi-house-door","themed-icon"]],template:function(n,r){n&1&&(R(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),_(5,"Your Entire Move, Handheld by AI & Technology"),P(),R(6,"p",5),_(7,"From your first click to settling into your new home, our advanced AI and innovative tech stack ensure a seamless, transparent, and stress-free experience."),P()()(),R(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),ge(13,"i",11),P(),R(14,"h5",12),_(15,"Intelligent Consultation & Pricing"),P(),R(16,"p",13),_(17," Our journey starts with intelligent data. "),P()()()(),R(18,"div",7)(19,"div",8)(20,"div",9)(21,"div",10),ge(22,"i",14),P(),R(23,"h5",12),_(24,"Precision Planning & Logistics"),P(),R(25,"p",13),_(26," Advanced 'Zero-Touch' surveys for accurate inventory. "),P()()()(),R(27,"div",7)(28,"div",8)(29,"div",9)(30,"div",10),ge(31,"i",15),P(),R(32,"h5",12),_(33,"Secure & Monitored Moving Day"),P(),R(34,"p",13),_(35," Our underlying technology ensures authorized crew, provide accountability and monitor transit. "),P()()()(),R(36,"div",7)(37,"div",8)(38,"div",9)(39,"div",10),ge(40,"i",16),P(),R(41,"h5",12),_(42,"Effortless Settling & Support"),P(),R(43,"p",13),_(44," AI Concierge guides unpacking and provides personalized support post-move. "),P()()()()()()())},styles:[".icon-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2rem;margin-bottom:1rem}"]})};var Ku=class e{leadForm;onGetConsultation(){this.leadForm.scrollIntoView()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Y({type:e,selectors:[["app-home"]],viewQuery:function(n,r){if(n&1&&$t(vi,5),n&2){let i;ot(i=st())&&(r.leadForm=i.first)}},decls:9,vars:0,consts:[[3,"getConsultation"],["appScrollAnimation","",1,"scroll-animation"]],template:function(n,r){n&1&&(E(0,"main")(1,"app-hero",0),K("getConsultation",function(){return r.onGetConsultation()}),b(),X(2,"app-problem",1)(3,"app-solution",1)(4,"app-how-it-works",1)(5,"app-services",1)(6,"app-tech-journey",1)(7,"app-guarantee",1)(8,"app-lead-form",1),b())},dependencies:[Bu,$u,Hu,zu,Gu,qu,vi,Oo,Wu],encapsulation:2})};var gE=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(A(qn),A(Qe))};static \u0275dir=ye({type:e})}return e})(),qO=(()=>{class e extends gE{static \u0275fac=(()=>{let n;return function(i){return(n||(n=vr(e)))(i||e)}})();static \u0275dir=ye({type:e,features:[cn]})}return e})(),fm=new x("");var WO={provide:fm,useExisting:Ln(()=>Fo),multi:!0};function KO(){let e=Ht()?Ht().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var YO=new x(""),Fo=(()=>{class e extends gE{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!KO())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(A(qn),A(Qe),A(YO,8))};static \u0275dir=ye({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&K("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[yr([WO]),cn]})}return e})();function hm(e){return e==null||pm(e)===0}function pm(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var gm=new x(""),mm=new x(""),ZO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,_i=class{static min(t){return JO(t)}static max(t){return QO(t)}static required(t){return XO(t)}static requiredTrue(t){return eN(t)}static email(t){return tN(t)}static minLength(t){return nN(t)}static maxLength(t){return rN(t)}static pattern(t){return iN(t)}static nullValidator(t){return mE()}static compose(t){return EE(t)}static composeAsync(t){return DE(t)}};function JO(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function QO(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function XO(e){return hm(e.value)?{required:!0}:null}function eN(e){return e.value===!0?null:{required:!0}}function tN(e){return hm(e.value)||ZO.test(e.value)?null:{email:!0}}function nN(e){return t=>{let n=t.value?.length??pm(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function rN(e){return t=>{let n=t.value?.length??pm(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function iN(e){if(!e)return mE;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(hm(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function mE(e){return null}function vE(e){return e!=null}function yE(e){return Kn(e)?_e(e):e}function _E(e){let t={};return e.forEach(n=>{t=n!=null?C(C({},t),n):t}),Object.keys(t).length===0?null:t}function bE(e,t){return t.map(n=>n(e))}function oN(e){return!e.validate}function wE(e){return e.map(t=>oN(t)?t:n=>t.validate(n))}function EE(e){if(!e)return null;let t=e.filter(vE);return t.length==0?null:function(n){return _E(bE(n,t))}}function CE(e){return e!=null?EE(wE(e)):null}function DE(e){if(!e)return null;let t=e.filter(vE);return t.length==0?null:function(n){let r=bE(n,t).map(yE);return cf(r).pipe(te(_E))}}function IE(e){return e!=null?DE(wE(e)):null}function aE(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function SE(e){return e._rawValidators}function TE(e){return e._rawAsyncValidators}function am(e){return e?Array.isArray(e)?e:[e]:[]}function Zu(e,t){return Array.isArray(e)?e.includes(t):e===t}function cE(e,t){let n=am(t);return am(e).forEach(i=>{Zu(n,i)||n.push(i)}),n}function lE(e,t){return am(t).filter(n=>!Zu(e,n))}var Ju=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=CE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=IE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},bi=class extends Ju{name;get formDirective(){return null}get path(){return null}},wi=class extends Ju{_parent=null;name=null;valueAccessor=null},Qu=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var rd=(()=>{class e extends Qu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(A(wi,2))};static \u0275dir=ye({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Fe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[cn]})}return e})(),ME=(()=>{class e extends Qu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(A(bi,10))};static \u0275dir=ye({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Fe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[cn]})}return e})();var Ea="VALID",Yu="INVALID",No="PENDING",Ca="DISABLED",Mr=class{},Xu=class extends Mr{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Da=class extends Mr{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Ia=class extends Mr{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},ko=class extends Mr{status;source;constructor(t,n){super(),this.status=t,this.source=n}},cm=class extends Mr{source;constructor(t){super(),this.source=t}},Ta=class extends Mr{source;constructor(t){super(),this.source=t}};function vm(e){return(id(e)?e.validators:e)||null}function sN(e){return Array.isArray(e)?CE(e):e||null}function ym(e,t){return(id(t)?t.asyncValidators:e)||null}function aN(e){return Array.isArray(e)?IE(e):e||null}function id(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function xE(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")}function AE(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new S(1002,"")})}var Po=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Re(this.statusReactive)}set status(t){Re(()=>this.statusReactive.set(t))}_status=fo(()=>this.statusReactive());statusReactive=Ut(void 0);get valid(){return this.status===Ea}get invalid(){return this.status===Yu}get pending(){return this.status==No}get disabled(){return this.status===Ca}get enabled(){return this.status!==Ca}errors;get pristine(){return Re(this.pristineReactive)}set pristine(t){Re(()=>this.pristineReactive.set(t))}_pristine=fo(()=>this.pristineReactive());pristineReactive=Ut(!0);get dirty(){return!this.pristine}get touched(){return Re(this.touchedReactive)}set touched(t){Re(()=>this.touchedReactive.set(t))}_touched=fo(()=>this.touchedReactive());touchedReactive=Ut(!1);get untouched(){return!this.touched}_events=new Ce;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(cE(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(cE(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(lE(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(lE(t,this._rawAsyncValidators))}hasValidator(t){return Zu(this._rawValidators,t)}hasAsyncValidator(t){return Zu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(q(C({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ia(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ia(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(q(C({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Da(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Da(!0,r))}markAsPending(t={}){this.status=No;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ko(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(q(C({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ca,this.errors=null,this._forEachChild(i=>{i.disable(q(C({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Xu(this.value,r)),this._events.next(new ko(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(q(C({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ea,this._forEachChild(r=>{r.enable(q(C({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(q(C({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ea||this.status===No)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Xu(this.value,n)),this._events.next(new ko(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(q(C({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ca:Ea}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=No,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=yE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new ko(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new le,this.statusChanges=new le}_calculateStatus(){return this._allControlsDisabled()?Ca:this.errors?Yu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(No)?No:this._anyControlsHaveStatus(Yu)?Yu:Ea}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Da(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ia(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){id(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=sN(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=aN(this._rawAsyncValidators)}},ed=class extends Po{constructor(t,n,r){super(vm(n),ym(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){AE(this,!0,t),Object.keys(t).forEach(r=>{xE(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,q(C({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Ta(this))}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var lm=class extends ed{};var od=new x("",{factory:()=>sd}),sd="always";function RE(e,t){return[...t.path,e]}function um(e,t,n=sd){_m(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),lN(e,t),dN(e,t),uN(e,t),cN(e,t)}function uE(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),nd(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function td(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function cN(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function _m(e,t){let n=SE(e);t.validator!==null?e.setValidators(aE(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=TE(e);t.asyncValidator!==null?e.setAsyncValidators(aE(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();td(t._rawValidators,i),td(t._rawAsyncValidators,i)}function nd(e,t){let n=!1;if(e!==null){if(t.validator!==null){let i=SE(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let i=TE(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}let r=()=>{};return td(t._rawValidators,r),td(t._rawAsyncValidators,r),n}function lN(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&OE(e,t)})}function uN(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&OE(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function OE(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function dN(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function fN(e,t){e==null,_m(e,t)}function hN(e,t){return nd(e,t)}function NE(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function pN(e){return Object.getPrototypeOf(e.constructor)===qO}function gN(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function kE(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Fo?n=o:pN(o)?r=o:i=o}),i||r||n||null}function mN(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function dE(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function fE(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Sa=class extends Po{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(vm(n),ym(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),id(n)&&(n.nonNullable||n.initialValueIsDefault)&&(fE(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Ta(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){dE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){dE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){fE(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var vN=e=>e instanceof Sa;var yN={provide:wi,useExisting:Ln(()=>bm)},hE=Promise.resolve(),bm=(()=>{class e extends wi{_changeDetectorRef;callSetDisabledState;control=new Sa;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new le;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=kE(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),NE(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){um(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){hE.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&si(r);hE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?RE(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(A(bi,9),A(gm,10),A(mm,10),A(fm,10),A(_r,8),A(od,8))};static \u0275dir=ye({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[yr([yN]),cn,In]})}return e})();var PE=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ye({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var dm=class extends Po{constructor(t,n,r){super(vm(n),ym(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){Array.isArray(t)?t.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){AE(this,!1,t),t.forEach((r,i)=>{xE(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],q(C({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Ta(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};var _N=(()=>{class e extends bi{callSetDisabledState;get submitted(){return Re(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=fo(()=>this._submittedReactive());_submittedReactive=Ut(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this.onChanges(n)}ngOnDestroy(){this.onDestroy()}onChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(nd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(n){let r=this.form.get(n.path);return um(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){uE(n.control||null,n,!1),mN(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}getFormArray(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}updateModel(n,r){this.form.get(n.path).setValue(r)}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1)}onSubmit(n){return this.submitted=!0,gN(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new cm(this.control)),n?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(uE(r||null,n),vN(i)&&(um(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);fN(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&hN(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_m(this.form,this),this._oldForm&&nd(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||e)(A(gm,10),A(mm,10),A(od,8))};static \u0275dir=ye({type:e,features:[cn,In]})}return e})();var FE=new x("");var bN={provide:wi,useExisting:Ln(()=>wm)},wm=(()=>{class e extends wi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new le;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=kE(this,o)}ngOnChanges(n){this._added||this._setUpControl(),NE(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return RE(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(A(bi,13),A(gm,10),A(mm,10),A(fm,10),A(FE,8))};static \u0275dir=ye({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[yr([bN]),cn,In]})}return e})();var wN={provide:bi,useExisting:Ln(()=>Em)},Em=(()=>{class e extends _N{form=null;ngSubmit=new le;get control(){return this.form}static \u0275fac=(()=>{let n;return function(i){return(n||(n=vr(e)))(i||e)}})();static \u0275dir=ye({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&K("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[yr([wN]),cn]})}return e})();var LE=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=an({type:e});static \u0275inj=kt({})}return e})();function pE(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var jE=(()=>{class e{useNonNullable=!1;get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return pE(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ed(i,o)}record(n,r=null){let i=this._reduceControls(n);return new lm(i,r)}control(n,r,i){let o={};return this.useNonNullable?(pE(r)?o=r:(o.validators=r,o.asyncValidators=i),new Sa(n,q(C({},o),{nonNullable:!0}))):new Sa(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new dm(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Sa)return n;if(n instanceof Po)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ad=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:od,useValue:n.callSetDisabledState??sd}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=an({type:e});static \u0275inj=kt({imports:[LE]})}return e})(),VE=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:FE,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:od,useValue:n.callSetDisabledState??sd}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=an({type:e});static \u0275inj=kt({imports:[LE]})}return e})();var BE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var Lo=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Ma=class extends Lo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},jo=class extends Lo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Vo=class extends Lo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},cd=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})(cd||{});var xa=class{constructor(t,{headers:n={},customFetch:r,region:i=cd.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=BE(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return uc(this,arguments,void 0,function*(n,r={}){var i;let o,s;try{let{headers:a,method:c,body:l,signal:u,timeout:d}=r,p={},{region:f}=r;f||(f=this.region);let g=new URL(`${this.url}/${n}`);f&&f!=="any"&&(p["x-region"]=f,g.searchParams.set("forceFunctionRegion",f));let m;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(p["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(p["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;let v=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(v=s.signal,u.addEventListener("abort",()=>s.abort())):v=s.signal);let y=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:m,signal:v}).catch(Q=>{throw new Ma(Q)}),V=y.headers.get("x-relay-error");if(V&&V==="true")throw new jo(y);if(!y.ok)throw new Vo(y);let M=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),I;return M==="application/json"?I=yield y.json():M==="application/octet-stream"||M==="application/pdf"?I=yield y.blob():M==="text/event-stream"?I=y:M==="multipart/form-data"?I=yield y.formData():I=yield y.text(),{data:I,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof Vo||a instanceof jo?a.context:void 0}}finally{o&&clearTimeout(o)}})}};var HE=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},EN=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){let s=null,a=null,c=null,l=o.status,u=o.statusText;if(o.ok){var d,p;if(n.method!=="HEAD"){var f;let y=yield o.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}let m=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),v=(p=o.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");m&&v&&v.length>1&&(c=parseInt(v[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,l=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var g;let m=yield o.text();try{s=JSON.parse(m),Array.isArray(s)&&o.status===404&&(a=[],s=null,l=200,u="OK")}catch{o.status===404&&m===""?(l=204,u="No Content"):s={message:m}}if(s&&n.isMaybeSingle&&(!(s==null||(g=s.details)===null||g===void 0)&&g.includes("0 rows"))&&(s=null,l=200,u="OK"),s&&n.shouldThrowOnError)throw new HE(s)}return{error:s,data:a,count:c,status:l,statusText:u}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s;let a="",c=o?.cause;if(c){var l,u,d,p;let g=(l=c?.message)!==null&&l!==void 0?l:"",m=(u=c?.code)!==null&&u!==void 0?u:"";a=`${(d=o?.name)!==null&&d!==void 0?d:"FetchError"}: ${o?.message}`,a+=`

Caused by: ${(p=c?.name)!==null&&p!==void 0?p:"Error"}: ${g}`,m&&(a+=` (${m})`),c?.stack&&(a+=`
${c.stack}`)}else{var f;a=(f=o?.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},CN=class extends EN{select(e){let t=!1,n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let o=i?`${i}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var s;let a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}},$E=new RegExp("[,()]"),Uo=class extends CN{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&$E.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&$E.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");let o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},DN=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){let{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET",o=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Uo({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;let i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let o=e.reduce((s,a)=>s.concat(Object.keys(a)),[]);if(o.length>0){let s=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",s.join(","))}}return new Uo({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;let s="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(a.length>0){let c=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new Uo({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;let r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Uo({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;let n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Uo({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},zE=class GE{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new DN(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new GE(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),l;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{c.searchParams.append(d,p)})):(a="POST",l=n);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new Uo({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};var Cm=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},Dm=Cm;var qE="2.89.0";var WE=`realtime-js/${qE}`,Im="1.0.0",KE="2.0.0",Sm=Im;var Aa=1e4,YE=1e3,ZE=100,xr=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(xr||{}),Ge=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(Ge||{}),Gt=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(Gt||{}),Tm=(function(e){return e.websocket="websocket",e})(Tm||{}),Ei=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(Ei||{});var ld=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var i,o;let s=t.topic,a=(i=t.ref)!==null&&i!==void 0?i:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",l=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+l.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+p),g=new DataView(f),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,c.length),g.setUint8(m++,a.length),g.setUint8(m++,s.length),g.setUint8(m++,l.length),g.setUint8(m++,d.length),g.setUint8(m++,n),Array.from(c,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(a,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(s,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(l,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(d,y=>g.setUint8(m++,y.charCodeAt(0)));var v=new Uint8Array(f.byteLength+r.byteLength);return v.set(new Uint8Array(f),0),v.set(new Uint8Array(r),f.byteLength),v.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){let r=JSON.parse(t),[i,o,s,a,c]=r;return n({join_ref:i,ref:o,topic:s,event:a,payload:c})}return n({})}_binaryDecode(t){let n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){let i=n.getUint8(1),o=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(t.slice(c,c+i));c=c+i;let u=r.decode(t.slice(c,c+o));c=c+o;let d=r.decode(t.slice(c,c+s));c=c+s;let p=t.slice(c,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,g={type:this.BROADCAST_EVENT,event:u,payload:f};return s>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}};var Bo=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ve=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(ve||{}),xm=(e,t,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,s)=>(o[s]=IN(s,e,t,i),o),{}):{}},IN=(e,t,n,r)=>{let i=t.find(a=>a.name===e),o=i?.type,s=n[e];return o&&!r.includes(o)?JE(o,s):Mm(s)},JE=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return xN(t,n)}switch(e){case ve.bool:return SN(t);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return TN(t);case ve.json:case ve.jsonb:return MN(t);case ve.timestamp:return AN(t);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return Mm(t);default:return Mm(t)}},Mm=e=>e,SN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},TN=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},MN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},xN=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>JE(t,a))}return e},AN=e=>typeof e=="string"?e.replace(" ","T"):e,ud=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var $o=class{constructor(t,n,r={},i=Aa){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Ra=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){let o=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let p=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),g=u.filter(v=>f.indexOf(v.presence_ref)<0),m=d.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(a[l]=g),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(t,n,r,i){let{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(f=>f.presence_ref),p=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...p)}r(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,i(a,l,c),l.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Oa=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(Oa||{}),Xn=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(Xn||{});var Na=class e{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $o(this,Gt.join,this.params,this.timeout),this.rejoinTimer=new Bo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ra(this),this.broadcastEndpointURL=ud(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ge.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Oa.PRESENCE]&&this.bindings[Oa.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(Xn.CHANNEL_ERROR,f)),this._onClose(()=>t?.(Xn.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",g=>h(this,[g],function*({postgres_changes:f}){var m;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t?.(Xn.SUBSCRIBED);return}else{let v=this.bindings.postgres_changes,y=(m=v?.length)!==null&&m!==void 0?m:0,V=[];for(let M=0;M<y;M++){let I=v[M],{filter:{event:Q,schema:tt,table:ee,filter:Ve}}=I,rr=f&&f[M];if(rr&&rr.event===Q&&e.isFilterValueEqual(rr.schema,tt)&&e.isFilterValueEqual(rr.table,ee)&&e.isFilterValueEqual(rr.filter,Ve))V.push(Object.assign(Object.assign({},I),{id:rr.id}));else{this.unsubscribe(),this.state=Ge.errored,t?.(Xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,t&&t(Xn.SUBSCRIBED);return}})).receive("error",f=>{this.state=Ge.errored,t?.(Xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(Xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this.state===Ge.joined&&t===Oa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>h(this,null,function*(){return yield this.subscribe()}))),this._on(t,n,r)}httpSend(i,o){return h(this,arguments,function*(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");let a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{let d=yield l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return h(this,arguments,function*(t,n={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);let l={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ge.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new $o(this,Gt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ge.closed,this.bindings={}}_fetchWithTimeout(t,n,r){return h(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new $o(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ZE){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Gt;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,m,v;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=f.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(f=>f.callback(p,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var g,m,v,y,V,M;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let I=f.id,Q=(g=f.filter)===null||g===void 0?void 0:g.event;return I&&((m=n.ids)===null||m===void 0?void 0:m.includes(I))&&(Q==="*"||Q?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let I=(V=(y=f?.filter)===null||y===void 0?void 0:y.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return I==="*"||I===((M=n?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:m,table:v,commit_timestamp:y,type:V,errors:M}=g;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:y,eventType:V,new:{},old:{},errors:M}),this._getPayloadRecords(g))}f.callback(p,r)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Gt.close,{},t)}_onError(t){this._on(Gt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=xm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=xm(t.columns,t.old_record)),n}};var Am=()=>{},dd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ON=[1e3,2e3,5e3,1e4],NN=1e4,kN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ka=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Aa,this.transport=null,this.heartbeatIntervalMs=dd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Am,this.ref=0,this.reconnectTimer=null,this.vsn=Sm,this.logger=Am,this.conn=null,this.sendBuffer=[],this.serializer=new ld,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Tm.websocket}`,this.httpEndpoint=ud(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Dm.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return h(this,null,function*(){let n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return h(this,null,function*(){let t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xr.connecting:return Ei.Connecting;case xr.open:return Ei.Open;case xr.closing:return Ei.Closing;default:return Ei.Closed}}isConnected(){return this.connectionState()===Ei.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Na(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){let{topic:n,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return h(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return h(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(YE,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},dd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===xr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===xr.open||this.conn.readyState===xr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Gt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([kN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(t=null){return h(this,null,function*(){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=yield this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{let o={access_token:n,version:WE};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Gt.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return h(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Bo(()=>h(this,null,function*(){setTimeout(()=>h(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),dd.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,s,a,c,l,u,d,p,f;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Aa,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:dd.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:Am,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:Sm,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:g=>ON[g-1]||NN,this.vsn){case Im:this.encode=(u=t?.encode)!==null&&u!==void 0?u:(g,m)=>m(JSON.stringify(g)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:(g,m)=>m(JSON.parse(g));break;case KE:this.encode=(p=t?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var Pa=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function PN(e,t,n){let r=new URL(t,e);if(n)for(let[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}function FN(e){return h(this,null,function*(){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?yield e.getHeaders():{}})}function LN(e){let t=e.fetchImpl??globalThis.fetch;return{request(c){return h(this,arguments,function*({method:r,path:i,query:o,body:s,headers:a}){let l=PN(e.baseUrl,i,o),u=yield FN(e.auth),d=yield t(l,{method:r,headers:C(C(C({},s?{"Content-Type":"application/json"}:{}),u),a),body:s?JSON.stringify(s):void 0}),p=yield d.text(),f=(d.headers.get("content-type")||"").includes("application/json"),g=f&&p?JSON.parse(p):p;if(!d.ok){let m=f?g:void 0,v=m?.error;throw new Pa(v?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:v?.type,icebergCode:v?.code,details:m})}return{status:d.status,headers:d.headers,data:g}})}}}function fd(e){return e.join("")}var jN=class{constructor(e,t=""){this.client=e,this.prefix=t}listNamespaces(e){return h(this,null,function*(){let t=e?{parent:fd(e.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(e,t){return h(this,null,function*(){let n={namespace:e.namespace,properties:t?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data})}dropNamespace(e){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fd(e.namespace)}`})})}loadNamespaceMetadata(e){return h(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fd(e.namespace)}`})).data.properties}})}namespaceExists(e){return h(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fd(e.namespace)}`}),!0}catch(t){if(t instanceof Pa&&t.status===404)return!1;throw t}})}createNamespaceIfNotExists(e,t){return h(this,null,function*(){try{return yield this.createNamespace(e,t)}catch(n){if(n instanceof Pa&&n.status===409)return;throw n}})}};function Ho(e){return e.join("")}var VN=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}listTables(e){return h(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables`})).data.identifiers})}createTable(e,t){return h(this,null,function*(){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables`,body:t,headers:n})).data.metadata})}updateTable(e,t){return h(this,null,function*(){let n=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}})}dropTable(e,t){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})})}loadTable(e){return h(this,null,function*(){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata})}tableExists(e){return h(this,null,function*(){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Pa&&n.status===404)return!1;throw n}})}createTableIfNotExists(e,t){return h(this,null,function*(){try{return yield this.createTable(e,t)}catch(n){if(n instanceof Pa&&n.status===409)return yield this.loadTable({namespace:e.namespace,name:t.name});throw n}})}},QE=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=LN({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new jN(this.client,t),this.tableOps=new VN(this.client,t,this.accessDelegation)}listNamespaces(e){return h(this,null,function*(){return this.namespaceOps.listNamespaces(e)})}createNamespace(e,t){return h(this,null,function*(){return this.namespaceOps.createNamespace(e,t)})}dropNamespace(e){return h(this,null,function*(){yield this.namespaceOps.dropNamespace(e)})}loadNamespaceMetadata(e){return h(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(e)})}listTables(e){return h(this,null,function*(){return this.tableOps.listTables(e)})}createTable(e,t){return h(this,null,function*(){return this.tableOps.createTable(e,t)})}updateTable(e,t){return h(this,null,function*(){return this.tableOps.updateTable(e,t)})}dropTable(e,t){return h(this,null,function*(){yield this.tableOps.dropTable(e,t)})}loadTable(e){return h(this,null,function*(){return this.tableOps.loadTable(e)})}namespaceExists(e){return h(this,null,function*(){return this.namespaceOps.namespaceExists(e)})}tableExists(e){return h(this,null,function*(){return this.tableOps.tableExists(e)})}createNamespaceIfNotExists(e,t){return h(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(e,t)})}createTableIfNotExists(e,t){return h(this,null,function*(){return this.tableOps.createTableIfNotExists(e,t)})}};var hd=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function we(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var UN=class extends hd{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Nm=class extends hd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}},Fm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BN=()=>Response,km=e=>{if(Array.isArray(e))return e.map(n=>km(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=km(r)}),t},$N=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},HN=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Fa(e){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fa(e)}function zN(e,t){if(Fa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GN(e){var t=zN(e,"string");return Fa(t)=="symbol"?t:t+""}function qN(e,t,n){return(t=GN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(n),!0).forEach(function(r){qN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Rm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},WN=(e,t,n)=>h(null,null,function*(){e instanceof(yield BN())&&!n?.noResolveJson?e.json().then(r=>{let i=e.status||500,o=r?.statusCode||i+"";t(new UN(Rm(r),i,o))}).catch(r=>{t(new Nm(Rm(r),r))}):t(new Nm(Rm(e),e))}),KN=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:($N(r)?(i.headers=j({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),j(j({},i),n))};function ja(e,t,n,r,i,o){return h(this,null,function*(){return new Promise((s,a)=>{e(n,KN(t,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>WN(c,a,r))})})}function La(e,t,n,r){return h(this,null,function*(){return ja(e,"GET",t,n,r)})}function hn(e,t,n,r,i){return h(this,null,function*(){return ja(e,"POST",t,r,i,n)})}function Pm(e,t,n,r,i){return h(this,null,function*(){return ja(e,"PUT",t,r,i,n)})}function YN(e,t,n,r){return h(this,null,function*(){return ja(e,"HEAD",t,j(j({},n),{},{noResolveJson:!0}),r)})}function Lm(e,t,n,r,i){return h(this,null,function*(){return ja(e,"DELETE",t,r,i,n)})}var ZN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return h(this,null,function*(){var e=this;try{return{data:(yield e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}},nC;nC=Symbol.toStringTag;var JN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[nC]="BlobDownloadBuilder",this.promise=null}asStream(){return new ZN(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return h(this,null,function*(){var e=this;try{return{data:yield(yield e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}},QN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},XN=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Fm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,r){return h(this,null,function*(){var i=this;try{let o,s=j(j({},eC),r),a=j(j({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",i.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),c&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(c))):(o=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),r?.headers&&(a=j(j({},a),r.headers));let l=i._removeEmptyFolders(t),u=i._getFinalPath(l),d=yield(e=="PUT"?Pm:hn)(i.fetch,`${i.url}/object/${u}`,o,j({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(we(o))return{data:null,error:o};throw o}})}upload(e,t,n){return h(this,null,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return h(this,null,function*(){var i=this;let o=i._removeEmptyFolders(e),s=i._getFinalPath(o),a=new URL(i.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c,l=j({upsert:eC.upsert},r),u=j(j({},i.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType),{data:{path:o,fullPath:(yield Pm(i.fetch,a.toString(),c,{headers:u})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(we(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return h(this,null,function*(){var n=this;try{let r=n._getFinalPath(e),i=j({},n.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield hn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(n.url+o.url),a=s.searchParams.get("token");if(!a)throw new hd("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}update(e,t,n){return h(this,null,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return h(this,null,function*(){var r=this;try{return{data:yield hn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}})}copy(e,t,n){return h(this,null,function*(){var r=this;try{return{data:{path:(yield hn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,n){return h(this,null,function*(){var r=this;try{let i=r._getFinalPath(e),o=yield hn(r.fetch,`${r.url}/object/sign/${i}`,j({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,n){return h(this,null,function*(){var r=this;try{let i=yield hn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>j(j({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}})}download(e,t){let n=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),s=()=>La(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new JN(s,this.shouldThrowOnError)}info(e){return h(this,null,function*(){var t=this;let n=t._getFinalPath(e);try{return{data:km(yield La(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}exists(e){return h(this,null,function*(){var t=this;let n=t._getFinalPath(e);try{return yield YN(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r)&&r instanceof Nm){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);let o=typeof t?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(t?.transform||{});s!==""&&r.push(s);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${a}`)}}}remove(e){return h(this,null,function*(){var t=this;try{return{data:yield Lm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}list(e,t,n){return h(this,null,function*(){var r=this;try{let i=j(j(j({},QN),t),{},{prefix:e||""});return{data:yield hn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}})}listV2(e,t){return h(this,null,function*(){var n=this;try{let r=j({},e);return{data:yield hn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}},rC="2.89.0",iC={"X-Client-Info":`storage-js/${rC}`},ek=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;let i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=j(j({},iC),t),this.fetch=Fm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return h(this,null,function*(){var t=this;try{let n=t.listBucketOptionsToQueryString(e);return{data:yield La(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}getBucket(e){return h(this,null,function*(){var t=this;try{return{data:yield La(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}createBucket(n){return h(this,arguments,function*(e,t={public:!1}){var r=this;try{return{data:yield hn(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return h(this,null,function*(){var n=this;try{return{data:yield Pm(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}emptyBucket(e){return h(this,null,function*(){var t=this;try{return{data:yield hn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}deleteBucket(e){return h(this,null,function*(){var t=this;try{return{data:yield Lm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},tk=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=j(j({},iC),t),this.fetch=Fm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return h(this,null,function*(){var t=this;try{return{data:yield hn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}listBuckets(e){return h(this,null,function*(){var t=this;try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:yield La(t.fetch,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}deleteBucket(e){return h(this,null,function*(){var t=this;try{return{data:yield Lm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}from(e){var t=this;if(!HN(e))throw new hd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new QE({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>h(this,null,function*(){return t.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){let s=i[o];return typeof s!="function"?s:(...a)=>h(null,null,function*(){try{return{data:yield s.apply(i,a),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}})}})}},jm={"X-Client-Info":`storage-js/${rC}`,"Content-Type":"application/json"},oC=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Rt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Om=class extends oC{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},nk=class extends oC{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};var Vm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var rk=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var tC=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ik=(e,t,n)=>h(null,null,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let r=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{let s=o?.statusCode||o?.code||r+"";t(new Om(tC(o),r,s))}).catch(()=>{let o=r+"";t(new Om(i.statusText||`HTTP ${r} error`,r,o))});else{let o=r+"";t(new Om(i.statusText||`HTTP ${r} error`,r,o))}}else t(new nk(tC(e),e))}),ok=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(rk(r)?(i.headers=j({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,j(j({},i),n))};function sk(e,t,n,r,i,o){return h(this,null,function*(){return new Promise((s,a)=>{e(n,ok(t,r,i,o)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>ik(c,a,r))})})}function Ot(e,t,n,r,i){return h(this,null,function*(){return sk(e,"POST",t,r,i,n)})}var ak=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=j(j({},jm),t),this.fetch=Vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return h(this,null,function*(){var t=this;try{return{data:(yield Ot(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}getIndex(e,t){return h(this,null,function*(){var n=this;try{return{data:yield Ot(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}listIndexes(e){return h(this,null,function*(){var t=this;try{return{data:yield Ot(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}deleteIndex(e,t){return h(this,null,function*(){var n=this;try{return{data:(yield Ot(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}},ck=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=j(j({},jm),t),this.fetch=Vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return h(this,null,function*(){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ot(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}getVectors(e){return h(this,null,function*(){var t=this;try{return{data:yield Ot(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}listVectors(e){return h(this,null,function*(){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ot(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}queryVectors(e){return h(this,null,function*(){var t=this;try{return{data:yield Ot(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}deleteVectors(e){return h(this,null,function*(){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ot(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}},lk=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=j(j({},jm),t),this.fetch=Vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return h(this,null,function*(){var t=this;try{return{data:(yield Ot(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}getBucket(e){return h(this,null,function*(){var t=this;try{return{data:yield Ot(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}listBuckets(){return h(this,arguments,function*(e={}){var t=this;try{return{data:yield Ot(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return h(this,null,function*(){var t=this;try{return{data:(yield Ot(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Rt(n))return{data:null,error:n};throw n}})}},uk=class e extends lk{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new dk(this.url,this.headers,t,this.fetch)}createBucket(t){return h(this,null,function*(){var n=()=>mt(e.prototype,this,"createBucket"),r=this;return n().call(r,t)})}getBucket(t){return h(this,null,function*(){var n=()=>mt(e.prototype,this,"getBucket"),r=this;return n().call(r,t)})}listBuckets(){return h(this,arguments,function*(t={}){var n=()=>mt(e.prototype,this,"listBuckets"),r=this;return n().call(r,t)})}deleteBucket(t){return h(this,null,function*(){var n=()=>mt(e.prototype,this,"deleteBucket"),r=this;return n().call(r,t)})}},dk=class e extends ak{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){return h(this,null,function*(){var n=()=>mt(e.prototype,this,"createIndex"),r=this;return n().call(r,j(j({},t),{},{vectorBucketName:r.vectorBucketName}))})}listIndexes(){return h(this,arguments,function*(t={}){var n=()=>mt(e.prototype,this,"listIndexes"),r=this;return n().call(r,j(j({},t),{},{vectorBucketName:r.vectorBucketName}))})}getIndex(t){return h(this,null,function*(){var n=()=>mt(e.prototype,this,"getIndex"),r=this;return n().call(r,r.vectorBucketName,t)})}deleteIndex(t){return h(this,null,function*(){var n=()=>mt(e.prototype,this,"deleteIndex"),r=this;return n().call(r,r.vectorBucketName,t)})}index(t){return new fk(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},fk=class e extends ck{constructor(t,n,r,i,o){super(t,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(t){return h(this,null,function*(){var n=()=>mt(e.prototype,this,"putVectors"),r=this;return n().call(r,j(j({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}getVectors(t){return h(this,null,function*(){var n=()=>mt(e.prototype,this,"getVectors"),r=this;return n().call(r,j(j({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}listVectors(){return h(this,arguments,function*(t={}){var n=()=>mt(e.prototype,this,"listVectors"),r=this;return n().call(r,j(j({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}queryVectors(t){return h(this,null,function*(){var n=()=>mt(e.prototype,this,"queryVectors"),r=this;return n().call(r,j(j({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}deleteVectors(t){return h(this,null,function*(){var n=()=>mt(e.prototype,this,"deleteVectors"),r=this;return n().call(r,j(j({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}},sC=class extends ek{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new XN(this.url,this.headers,e,this.fetch)}get vectors(){return new uk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tk(this.url+"/iceberg",this.headers,this.fetch)}};var pd="2.89.0";var Ci=30*1e3,gd=3,md=gd*Ci,aC="http://localhost:9999",cC="supabase.auth.token";var lC={"X-Client-Info":`gotrue-js/${pd}`};var Va="X-Supabase-Api-Version",Um={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dC=600*1e3;var Ar=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function O(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var vd=class extends Ar{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function fC(e){return O(e)&&e.name==="AuthApiError"}var qt=class extends Ar{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},pn=class extends Ar{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},et=class extends pn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function hC(e){return O(e)&&e.name==="AuthSessionMissingError"}var er=class extends pn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Di=class extends pn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Ii=class extends pn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function pC(e){return O(e)&&e.name==="AuthImplicitGrantRedirectError"}var Ua=class extends pn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},yd=class extends pn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}};var zo=class extends pn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function _d(e){return O(e)&&e.name==="AuthRetryableFetchError"}var Ba=class extends pn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var Si=class extends pn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gC=` 	
\r=`.split(""),hk=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<gC.length;t+=1)e[gC[t].charCodeAt(0)]=-2;for(let t=0;t<bd.length;t+=1)e[bd[t].charCodeAt(0)]=t;return e})();function mC(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(bd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(bd[r]),t.queuedBits-=6}}function vC(e,t,n){let r=hk[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Bm(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{mk(s,r,n)};for(let s=0;s<e.length;s+=1)vC(e.charCodeAt(s),i,o);return t.join("")}function pk(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function gk(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}pk(r,t)}}function mk(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Rr(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)vC(e.charCodeAt(i),n,r);return new Uint8Array(t)}function yC(e){let t=[];return gk(e,n=>t.push(n)),new Uint8Array(t)}function tr(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>mC(i,n,r)),mC(null,n,r),t.join("")}function _C(e){return Math.round(Date.now()/1e3)+e}function bC(){return Symbol("auth-callback")}var qe=()=>typeof window<"u"&&typeof document<"u",Ti={tested:!1,writable:!1},wd=()=>{if(!qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ti.tested)return Ti.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ti.tested=!0,Ti.writable=!0}catch{Ti.tested=!0,Ti.writable=!1}return Ti.writable};function wC(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}var Ed=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),EC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Mi=(e,t,n)=>h(null,null,function*(){yield e.setItem(t,JSON.stringify(n))}),Or=(e,t)=>h(null,null,function*(){let n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Ke=(e,t)=>h(null,null,function*(){yield e.removeItem(t)}),$a=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};$a.promiseConstructor=Promise;function Cd(e){let t=e.split(".");if(t.length!==3)throw new Si("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!uC.test(t[r]))throw new Si("JWT not in base64url format");return{header:JSON.parse(Bm(t[0])),payload:JSON.parse(Bm(t[1])),signature:Rr(t[2]),raw:{header:t[0],payload:t[1]}}}function CC(e){return h(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function DC(e,t){return new Promise((r,i)=>{h(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield e(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})})}function vk(e){return("0"+e.toString(16)).substr(-2)}function yk(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,vk).join("")}function _k(e){return h(this,null,function*(){let n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function bk(e){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=yield _k(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function xi(e,t,n=!1){return h(this,null,function*(){let r=yk(),i=r;n&&(i+="/PASSWORD_RECOVERY"),yield Mi(e,`${t}-code-verifier`,i);let o=yield bk(r);return[o,r===o?"plain":"s256"]})}var wk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function IC(e){let t=e.headers.get(Va);if(!t||!t.match(wk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function SC(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function TC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Ek=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ai(e){if(!Ek.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dd(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function MC(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function $m(e){return JSON.parse(JSON.stringify(e))}var Ri=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ck=[502,503,504];function xC(e){return h(this,null,function*(){var t;if(!EC(e))throw new zo(Ri(e),0);if(Ck.includes(e.status))throw new zo(Ri(e),e.status);let n;try{n=yield e.json()}catch(o){throw new qt(Ri(o),o)}let r,i=IC(e);if(i&&i.getTime()>=Um["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ba(Ri(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new et}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Ba(Ri(n),e.status,n.weak_password.reasons);throw new vd(Ri(n),e.status||500,r)})}var Dk=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function L(e,t,n,r){return h(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Va]||(o[Va]=Um["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield Ik(e,t,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function Ik(e,t,n,r,i,o){return h(this,null,function*(){let s=Dk(t,r,i,o),a;try{a=yield e(n,Object.assign({},s))}catch(c){throw console.error(c),new zo(Ri(c),0)}if(a.ok||(yield xC(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield xC(c)}})}function Wt(e){var t;let n=null;Sk(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=_C(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Hm(e){let t=Wt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function An(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function AC(e){return{data:e,error:null}}function RC(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=jr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function zm(e){return e}function Sk(e){return e.access_token&&e.refresh_token&&e.expires_in}var Id=["global","local","others"];var Go=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Ed(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return h(this,arguments,function*(t,n=Id[0]){if(Id.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Id.join(", ")}`);try{return yield L(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(O(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return h(this,arguments,function*(t,n={}){try{return yield L(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:An})}catch(i){if(O(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return h(this,null,function*(){try{let{options:n}=t,r=jr(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:RC,redirectTo:n?.redirectTo})}catch(n){if(O(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return h(this,null,function*(){try{return yield L(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:An})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return h(this,null,function*(){var n,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:zm});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(O(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return h(this,null,function*(){Ai(t);try{return yield L(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:An})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return h(this,null,function*(){Ai(t);try{return yield L(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:An})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return h(this,null,function*(){Ai(t);try{return yield L(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:An})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return h(this,null,function*(){Ai(t.userId);try{let{data:n,error:r}=yield L(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(O(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return h(this,null,function*(){Ai(t.userId),Ai(t.id);try{return{data:yield L(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}})}_listOAuthClients(t){return h(this,null,function*(){var n,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:zm});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(O(l))return{data:{clients:[]},error:l};throw l}})}_createOAuthClient(t){return h(this,null,function*(){try{return yield L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}})}_getOAuthClient(t){return h(this,null,function*(){try{return yield L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}})}_updateOAuthClient(t,n){return h(this,null,function*(){try{return yield L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(t){return h(this,null,function*(){try{return yield L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}})}_regenerateOAuthClientSecret(t){return h(this,null,function*(){try{return yield L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}})}};function Gm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var Oi={debug:!!(globalThis&&wd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ha=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Sd=class extends Ha{};function qm(e,t,n){return h(this,null,function*(){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>h(null,null,function*(){if(i){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return yield n()}finally{Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Sd(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Oi.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}function OC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Wm(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function NC(e){return parseInt(e,16)}function kC(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function PC(e){var t;let{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:p}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let f=Wm(e.address),g=u?`${u}://${r}`:r,m=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${f}

${m}`,y=`URI: ${d}
Version: ${p}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),c&&(y+=`
Request ID: ${c}`),l){let V=`
Resources:`;for(let M of l){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);V+=`
- ${M}`}y+=V}return`${v}
${y}`}var Ee=class extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}},Ni=class extends Ee{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}};function FC({error:e,options:t}){var n,r,i;let{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ee({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ee({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ee({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ee({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ee({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ee({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ee({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ee({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(Km(s)){if(o.rp.id!==s)return new Ee({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ee({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ee({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function LC({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ee({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ee({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(Km(r)){if(n.rpId!==r)return new Ee({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ee({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Ym=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},Tk=new Ym;function VC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,i=jr(e,["challenge","user","excludeCredentials"]),o=Rr(t).buffer,s=Object.assign(Object.assign({},n),{id:Rr(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:Rr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function UC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=jr(e,["challenge","allowCredentials"]),i=Rr(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Rr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function BC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:tr(new Uint8Array(e.response.attestationObject)),clientDataJSON:tr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $C(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:tr(new Uint8Array(i.authenticatorData)),clientDataJSON:tr(new Uint8Array(i.clientDataJSON)),signature:tr(new Uint8Array(i.signature)),userHandle:i.userHandle?tr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Km(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function jC(){var e,t;return!!(qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}function Mk(e){return h(this,null,function*(){try{let t=yield navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ni("Browser returned unexpected credential type",t)}:{data:null,error:new Ni("Empty credential response",t)}}catch(t){return{data:null,error:FC({error:t,options:e})}}})}function xk(e){return h(this,null,function*(){try{let t=yield navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ni("Browser returned unexpected credential type",t)}:{data:null,error:new Ni("Empty credential response",t)}}catch(t){return{data:null,error:LC({error:t,options:e})}}})}var Ak={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Rk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Td(...e){let t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of e)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(n(s))r[o]=s;else if(t(s)){let a=r[o];t(a)?r[o]=Td(a,s):r[o]=Td(s)}else r[o]=s}return r}function Ok(e,t){return Td(Ak,e,t||{})}function Nk(e,t){return Td(Rk,e,t||{})}var Md=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){return h(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})}_challenge(s,a){return h(this,arguments,function*({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{let{data:c,error:l}=yield this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:l};let u=i??Tk.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:d}=c.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(c.webauthn.type){case"create":{let d=Ok(c.webauthn.credential_options.publicKey,o?.create),{data:p,error:f}=yield Mk({publicKey:d,signal:u});return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:f}}case"request":{let d=Nk(c.webauthn.credential_options.publicKey,o?.request),{data:p,error:f}=yield xk(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d,signal:u}));return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:f}}}}catch(c){return O(c)?{data:null,error:c}:{data:null,error:new qt("Unexpected error in challenge",c)}}})}_verify(i){return h(this,arguments,function*({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})})}_authenticate(s,a){return h(this,arguments,function*({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Ar("rpId is required for WebAuthn authentication")};try{if(!jC())return{data:null,error:new qt("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!c)return{data:null,error:l};let{webauthn:u}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(c){return O(c)?{data:null,error:c}:{data:null,error:new qt("Unexpected error in authenticate",c)}}})}_register(s,a){return h(this,arguments,function*({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Ar("rpId is required for WebAuthn registration")};try{if(!jC())return{data:null,error:new qt("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this._enroll({friendlyName:t});if(!c)return yield this.client.mfa.listFactors().then(p=>{var f;return(f=p.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};let{data:u,error:d}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:c.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(c){return O(c)?{data:null,error:c}:{data:null,error:new qt("Unexpected error in register",c)}}})}};OC();var kk={url:aC,storageKey:cC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function HC(e,t,n){return h(this,null,function*(){return yield n()})}var qo={},Pk=(()=>{class e{get jwks(){var n,r;return(r=(n=qo[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){qo[this.storageKey]=Object.assign(Object.assign({},qo[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=qo[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){qo[this.storageKey]=Object.assign(Object.assign({},qo[this.storageKey]),{cachedAt:n})}constructor(n){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},kk),n);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&qe()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Go({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ed(s.fetch),this.lock=s.lock||HC,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&qe()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=qm:this.lock=HC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Md(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:wd()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gm(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Gm(this.memoryStorage)),qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${pd}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var n;try{let r={},i="none";if(qe()&&(r=wC(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),qe()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),pC(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return O(r)?this._returnResult({error:r}):this._returnResult({error:new qt("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return h(this,null,function*(){var r,i,o;try{let s=yield L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Wt}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(n){return h(this,null,function*(){var r,i,o;try{let s;if("email"in n){let{email:d,password:p,options:f}=n,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield xi(this.storage,this.storageKey)),s=yield L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:m},xform:Wt})}else if("phone"in n){let{phone:d,password:p,options:f}=n;s=yield L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Wt})}else throw new Di("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return yield Ke(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(yield Ke(this.storage,`${this.storageKey}-code-verifier`),O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(n){return h(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Hm})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Hm})}else throw new Di("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new er;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(n){return h(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return h(this,null,function*(){let{chain:r}=n;switch(r){case"ethereum":return yield this.signInWithEthereum(n);case"solana":return yield this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(n){return h(this,null,function*(){var r,i,o,s,a,c,l,u,d,p,f;let g,m;if("message"in n)g=n.message,m=n.signature;else{let{chain:v,wallet:y,statement:V,options:M}=n,I;if(qe())if(typeof y=="object")I=y;else{let Rn=window;if("ethereum"in Rn&&typeof Rn.ethereum=="object"&&"request"in Rn.ethereum&&typeof Rn.ethereum.request=="function")I=Rn.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=y}let Q=new URL((r=M?.url)!==null&&r!==void 0?r:window.location.href),tt=yield I.request({method:"eth_requestAccounts"}).then(Rn=>Rn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!tt||tt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let ee=Wm(tt[0]),Ve=(i=M?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!Ve){let Rn=yield I.request({method:"eth_chainId"});Ve=NC(Rn)}let rr={domain:Q.host,address:ee,statement:V,uri:Q.href,version:"1",chainId:Ve,nonce:(o=M?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=M?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=M?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=M?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=M?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=M?.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=PC(rr),m=yield I.request({method:"personal_sign",params:[kC(g),ee]})}try{let{data:v,error:y}=yield L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:m},!((p=n.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Wt});if(y)throw y;if(!v||!v.session||!v.user){let V=new er;return this._returnResult({data:{user:null,session:null},error:V})}return v.session&&(yield this._saveSession(v.session),yield this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(O(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}})}signInWithSolana(n){return h(this,null,function*(){var r,i,o,s,a,c,l,u,d,p,f,g;let m,v;if("message"in n)m=n.message,v=n.signature;else{let{chain:y,wallet:V,statement:M,options:I}=n,Q;if(qe())if(typeof V=="object")Q=V;else{let ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))Q=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=V}let tt=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Q&&Q.signIn){let ee=yield Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I?.signInWithSolana),{version:"1",domain:tt.host,uri:tt.href}),M?{statement:M}:null)),Ve;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")Ve=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)Ve=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Ve&&"signature"in Ve&&(typeof Ve.signedMessage=="string"||Ve.signedMessage instanceof Uint8Array)&&Ve.signature instanceof Uint8Array)m=typeof Ve.signedMessage=="string"?Ve.signedMessage:new TextDecoder().decode(Ve.signedMessage),v=Ve.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${tt.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${tt.href}`,`Issued At: ${(o=(i=I?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=I?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((a=I?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((c=I?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((l=I?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((u=I?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((p=(d=I?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...I.signInWithSolana.resources.map(Ve=>`- ${Ve}`)]:[]].join(`
`);let ee=yield Q.signMessage(new TextEncoder().encode(m),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=ee}}try{let{data:y,error:V}=yield L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:tr(v)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=n.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Wt});if(V)throw V;if(!y||!y.session||!y.user){let M=new er;return this._returnResult({data:{user:null,session:null},error:M})}return y.session&&(yield this._saveSession(y.session),yield this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:V})}catch(y){if(O(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}})}_exchangeCodeForSession(n){return h(this,null,function*(){let r=yield Or(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new yd;let{data:s,error:a}=yield L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Wt});if(yield Ke(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new er;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(yield Ke(this.storage,`${this.storageKey}-code-verifier`),O(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(n){return h(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=n,c=yield L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Wt}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){let d=new er;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(n){return h(this,null,function*(){var r,i,o,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield xi(this.storage,this.storageKey));let{error:p}=yield L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Di("You must provide either an email or phone number.")}catch(c){if(yield Ke(this.storage,`${this.storageKey}-code-verifier`),O(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}verifyOtp(n){return h(this,null,function*(){var r,i;try{let o,s;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=yield L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Wt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(O(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(n){return h(this,null,function*(){var r,i,o,s,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=yield xi(this.storage,this.storageKey));let u=yield L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:AC});return!((s=u.data)===null||s===void 0)&&s.url&&qe()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(yield Ke(this.storage,`${this.storageKey}-code-verifier`),O(c))return this._returnResult({data:null,error:c});throw c}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new et;let{error:o}=yield L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}resend(n){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:s}=n,{error:a}=yield L(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:i,type:o,options:s}=n,{data:a,error:c}=yield L(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new Di("You must provide either an email or phone number and a type")}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(n,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,n,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield Or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at*1e3-Date.now()<md:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){let a=yield Or(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=Dd()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=MC(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(n){return h(this,null,function*(){if(n)return yield this._getUser(n);yield this.initializePromise;let r=yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()}));return r.data.user&&(this.suppressGetSessionWarning=!0),r})}_getUser(n){return h(this,null,function*(){try{return n?yield L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:An}):yield this._useSession(r=>h(this,null,function*(){var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new et}:yield L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:An})}))}catch(r){if(O(r))return hC(r)&&(yield this._removeSession(),yield Ke(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return h(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(i){return h(this,arguments,function*(n,r={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new et;let c=s.session,l=null,u=null;this.flowType==="pkce"&&n.email!=null&&([l,u]=yield xi(this.storage,this.storageKey));let{data:d,error:p}=yield L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:An});if(p)throw p;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})}))}catch(o){if(yield Ke(this.storage,`${this.storageKey}-code-verifier`),O(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return h(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new et;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Cd(n.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(O(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(i=a.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new et;let{data:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(n,r){return h(this,null,function*(){try{if(!qe())throw new Ii("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Ii(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ua("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ii("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Ua("No code detected.");let{data:M,error:I}=yield this._exchangeCodeForSession(n.code);if(I)throw I;let Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:M.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new Ii("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(c),f=d+p;l&&(f=parseInt(l));let g=f-d;g*1e3<=Ci&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let m=f-p;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);let{data:v,error:y}=yield this._getUser(s);if(y)throw y;let V={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:p,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:V,redirectType:n.type},error:null})}catch(i){if(O(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}_isPKCECallback(n){return h(this,null,function*(){let r=yield Or(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return h(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return h(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(fC(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return n!=="others"&&(yield this._removeSession(),yield Ke(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(n){let r=bC(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return h(this,arguments,function*(n,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield xi(this.storage,this.storageKey,!0));try{return yield L(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(yield Ke(this.storage,`${this.storageKey}-code-verifier`),O(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return h(this,null,function*(){var n;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(n){return h(this,null,function*(){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)})}linkIdentityOAuth(n){return h(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>h(this,null,function*(){var a,c,l,u,d;let{data:p,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield L(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return qe()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:n.provider,url:i?.url},error:null})}catch(i){if(O(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}})}linkIdentityIdToken(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:c,token:l,access_token:u,nonce:d}=n,p=yield L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Wt}),{data:f,error:g}=p;return g?this._returnResult({data:{user:null,session:null},error:g}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new er}):(f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:g}))}catch(o){if(yield Ke(this.storage,`${this.storageKey}-code-verifier`),O(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield L(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(n){return h(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield DC(o=>h(this,null,function*(){return o>0&&(yield CC(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Wt})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&_d(s)&&Date.now()+a-i<Ci})}catch(i){if(this._debug(r,"error",i),O(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return h(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),qe()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var n,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield Or(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield Or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield Mi(this.userStorage,this.storageKey+"-user",a)),o.user=(n=a?.user)!==null&&n!==void 0?n:Dd()}else if(o&&!o.user&&!o.user){let a=yield Or(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield Ke(this.storage,this.storageKey+"-user"),yield Mi(this.storage,this.storageKey,o)):o.user=Dd()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<md;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${md}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),_d(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(o.access_token);!c&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(n){return h(this,null,function*(){var r,i;if(!n)throw new et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new $a;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new et;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),O(s)){let a={data:null,error:s};return _d(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(n,r,i=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>h(this,null,function*(){try{yield c.callback(n,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(n){return h(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield Ke(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield Mi(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=$m(o);yield Mi(this.storage,this.storageKey,s)}else{let o=$m(r);yield Mi(this.storage,this.storageKey,o)}})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield Ke(this.storage,this.storageKey),yield Ke(this.storage,this.storageKey+"-code-verifier"),yield Ke(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Ke(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&qe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Ci);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/Ci);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ci}ms, refresh threshold is ${gd} ticks`),o<=gd&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Ha)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!qe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return h(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,i){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield xi(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`})}_unenroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield L(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:l,error:u}=yield L(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(n.factorType==="totp"&&l.type==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))}))}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}_verify(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?BC(n.webauthn.credential_response):$C(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:l}=yield L(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))}))}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield L(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:VC(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:UC(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(n){return h(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return h(this,null,function*(){var n;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){var n,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Cd(i.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield L(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new et})}))}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(n,r){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new et});let a=yield L(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&qe()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(O(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(n,r){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new et});let a=yield L(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&qe()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(O(i))return this._returnResult({data:null,error:i});throw i}})}_listOAuthGrants(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?yield L(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new et})}))}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}})}_revokeOAuthGrant(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(yield L(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new et})}))}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(i){return h(this,arguments,function*(n,r={keys:[]}){let o=r.keys.find(l=>l.kid===n);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(l=>l.kid===n),o&&this.jwks_cached_at+dC>s)return o;let{data:a,error:c}=yield L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(l=>l.kid===n),!o)?null:o})}getClaims(i){return h(this,arguments,function*(n,r={}){try{let o=n;if(!o){let{data:m,error:v}=yield this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});o=m.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=Cd(o);r?.allowExpired||SC(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:m}=yield this.getUser(o);if(m)throw m;return{data:{claims:a,header:s,signature:c},error:null}}let p=TC(s.alg),f=yield crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,f,c,yC(`${l}.${u}`))))throw new Si("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(o){if(O(o))return this._returnResult({data:null,error:o});throw o}})}}return e.nextInstanceID={},e})(),Zm=Pk;var Fk=Zm,Jm=Fk;var Lk="2.89.0",za="";typeof Deno<"u"?za="deno":typeof document<"u"?za="web":typeof navigator<"u"&&navigator.product==="ReactNative"?za="react-native":za="node";var jk={"X-Client-Info":`supabase-js-${za}/${Lk}`},Vk={headers:jk},Uk={schema:"public"},Bk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$k={};function Ga(e){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(e)}function Hk(e,t){if(Ga(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zk(e){var t=Hk(e,"string");return Ga(t)=="symbol"?t:t+""}function Gk(e,t,n){return(t=zk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(n),!0).forEach(function(r){Gk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var qk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Wk=()=>Headers,Kk=(e,t,n)=>{let r=qk(n),i=Wk();return(o,s)=>h(null,null,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:e,l=new i(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Se(Se({},s),{},{headers:l}))})};function Yk(e){return e.endsWith("/")?e:e+"/"}function Zk(e,t){var n,r;let{db:i,auth:o,realtime:s,global:a}=e,{db:c,auth:l,realtime:u,global:d}=t,p={db:Se(Se({},c),i),auth:Se(Se({},l),o),realtime:Se(Se({},u),s),storage:{},global:Se(Se(Se({},d),a),{},{headers:Se(Se({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>h(null,null,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function Jk(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Yk(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Qk=class extends Jm{constructor(e){super(e)}},Xk=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;let o=Jk(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);let s=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:Uk,realtime:$k,auth:Se(Se({},Bk),{},{storageKey:s}),global:Vk},c=Zk(n??{},a);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=c.auth)!==null&&l!==void 0?l:{},this.headers,c.global.fetch)}this.fetch=Kk(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Se({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new zE(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new sC(this.storageUrl.href,this.headers,this.fetch,n?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new xa(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return h(this,null,function*(){var e=this,t,n;if(e.accessToken)return yield e.accessToken();let{data:r}=yield e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:s,lock:a,debug:c,throwOnError:l},u,d){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qk({url:this.authUrl.href,headers:Se(Se({},p),u),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:s,lock:a,debug:c,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ka(this.realtimeUrl.href,Se(Se({},e),{},{params:Se(Se({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}},Qm=(e,t,n)=>new Xk(e,t,n);function eP(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}eP()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var nr={production:!1,supabaseUrl:"https://cbwagfyzfpspnbquvowx.supabase.co",supabaseAnonKey:"sb_publishable_ePDRkQsU43XK9IfNl192wg_4PdeehxR",backendApiUrl:"http://localhost:5256/api"};var Kt=class e{constructor(t){this.http=t;let n=nr.supabaseUrl,r=nr.supabaseAnonKey;if(console.log("AuthService: Initializing Supabase client..."),console.log("AuthService: Supabase URL:",n?"Provided":"MISSING"),console.log("AuthService: Supabase Anon Key:",r?"Provided":"MISSING"),!n||!r||n==="YOUR_SUPABASE_URL"||r==="YOUR_SUPABASE_ANON_KEY"){console.error("AuthService: Supabase credentials are not configured. Please update src/environments/environment.ts"),this._isAuthenticated.next(!1),this.supabase=Qm("http://dummy.url","dummy_key");return}this.supabase=Qm(n,r),this.supabase.auth.onAuthStateChange((i,o)=>{console.log("AuthService: Auth state change event:",i),console.log("AuthService: Session:",o),o?(this.authToken=o.access_token,this._isAuthenticated.next(!0)):(this.authToken=null,this._isAuthenticated.next(!1))}),_e(this.supabase.auth.getSession()).subscribe(({data:{session:i}})=>{console.log("AuthService: Initial getSession result:",i),i?(this.authToken=i.access_token,this._isAuthenticated.next(!0)):(this.authToken=null,this._isAuthenticated.next(!1))},i=>{console.error("AuthService: Error getting initial session:",i),this._isAuthenticated.next(!1)})}supabase;_isAuthenticated=new Ue(!1);isAuthenticated$=this._isAuthenticated.asObservable();authToken=null;login(t){return h(this,null,function*(){console.log("AuthService: Attempting login for email:",t.email);let{data:n,error:r}=yield this.supabase.auth.signInWithPassword({email:t.email,password:t.password});return r?(console.error("AuthService: Supabase login error:",r.message),{success:!1,error:r.message}):n.session?(this.authToken=n.session.access_token,this._isAuthenticated.next(!0),console.log("AuthService: Login successful."),{success:!0,error:null}):(console.error("AuthService: Unknown login error, no session data."),{success:!1,error:"Unknown login error"})})}logout(){return h(this,null,function*(){console.log("AuthService: Attempting logout.");let{error:t}=yield this.supabase.auth.signOut();t?console.error("AuthService: Supabase logout error:",t.message):(this.authToken=null,this._isAuthenticated.next(!1),console.log("AuthService: Logout successful."))})}getToken(){return this.authToken}getCurrentUser(){return _e(this.supabase.auth.getUser()).pipe(te(t=>t.data.user),yt(t=>(console.error("Error getting current user:",t),$(null))))}static \u0275fac=function(n){return new(n||e)(k(Cr))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};var Nr=class e{notificationSubject=new Ce;constructor(){}getNotificationObservable(){return this.notificationSubject.asObservable()}showSuccess(t,n=3e3){this.notificationSubject.next({type:"success",message:t,duration:n})}showError(t,n=5e3){this.notificationSubject.next({type:"error",message:t,duration:n})}showInfo(t,n=3e3){this.notificationSubject.next({type:"info",message:t,duration:n})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};function tP(e,t){e&1&&(E(0,"div"),_(1,"Email is required."),b())}function nP(e,t){e&1&&(E(0,"div"),_(1,"Please enter a valid email."),b())}function rP(e,t){if(e&1&&(E(0,"div",11),ne(1,tP,2,0,"div",12)(2,nP,2,0,"div",12),b()),e&2){let n,r,i=Z();D(),N("ngIf",(n=i.loginForm.get("email"))==null||n.errors==null?null:n.errors.required),D(),N("ngIf",(r=i.loginForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function iP(e,t){e&1&&(E(0,"div"),_(1,"Password is required."),b())}function oP(e,t){e&1&&(E(0,"div"),_(1," Password must be at least 6 characters long. "),b())}function sP(e,t){if(e&1&&(E(0,"div",11),ne(1,iP,2,0,"div",12)(2,oP,2,0,"div",12),b()),e&2){let n,r,i=Z();D(),N("ngIf",(n=i.loginForm.get("password"))==null||n.errors==null?null:n.errors.required),D(),N("ngIf",(r=i.loginForm.get("password"))==null||r.errors==null?null:r.errors.minlength)}}function aP(e,t){e&1&&X(0,"span",13)}var xd=class e{constructor(t,n,r){this.fb=t;this.authService=n;this.notificationService=r;this.loginForm=this.fb.group({email:["",[_i.required,_i.email]],password:["",[_i.required,_i.minLength(6)]]}),console.log("PartnerAuthComponent: Initialized login form.")}loggedIn=new le;loginForm;isLoading=!1;onSubmit(){return h(this,null,function*(){if(this.isLoading=!0,console.log("PartnerAuthComponent: onSubmit called. Form valid:",this.loginForm.valid),this.loginForm.valid){let{email:t,password:n}=this.loginForm.value,r=yield this.authService.login({email:t,password:n});r.success?(console.log("PartnerAuthComponent: Login successful, emitting loggedIn."),this.notificationService.showSuccess("Login successful!"),this.loggedIn.emit()):(this.notificationService.showError(r.error||"Login failed. Please check your credentials."),console.error("PartnerAuthComponent: Login failed with error:",r.error))}else this.notificationService.showError("Please enter valid email and password."),console.error("PartnerAuthComponent: Form is invalid.");this.isLoading=!1})}static \u0275fac=function(n){return new(n||e)(A(jE),A(Kt),A(Nr))};static \u0275cmp=Y({type:e,selectors:[["app-partner-auth"]],outputs:{loggedIn:"loggedIn"},decls:20,vars:9,consts:[[1,"auth-container"],[1,"login-card"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Enter your email"],["class","invalid-feedback",4,"ngIf"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Enter your password"],["type","submit",1,"login-button",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(n,r){if(n&1&&(E(0,"div",0)(1,"div",1)(2,"h2"),_(3,"Partner Login"),b(),E(4,"p"),_(5,"Please log in to access the video survey dashboard."),b(),E(6,"form",2),K("ngSubmit",function(){return r.onSubmit()}),E(7,"div",3)(8,"label",4),_(9,"Email"),b(),X(10,"input",5),ne(11,rP,3,2,"div",6),b(),E(12,"div",3)(13,"label",7),_(14,"Password"),b(),X(15,"input",8),ne(16,sP,3,2,"div",6),b(),E(17,"button",9),ne(18,aP,1,0,"span",10),_(19," Login "),b()()()()),n&2){let i,o,s,a;D(6),N("formGroup",r.loginForm),D(4),Fe("is-invalid",((i=r.loginForm.get("email"))==null?null:i.invalid)&&((i=r.loginForm.get("email"))==null?null:i.touched)),D(),N("ngIf",((o=r.loginForm.get("email"))==null?null:o.invalid)&&((o=r.loginForm.get("email"))==null?null:o.touched)),D(4),Fe("is-invalid",((s=r.loginForm.get("password"))==null?null:s.invalid)&&((s=r.loginForm.get("password"))==null?null:s.touched)),D(),N("ngIf",((a=r.loginForm.get("password"))==null?null:a.invalid)&&((a=r.loginForm.get("password"))==null?null:a.touched)),D(),N("disabled",r.loginForm.invalid||r.isLoading),D(),N("ngIf",r.isLoading)}},dependencies:[je,pt,ad,PE,Fo,rd,ME,VE,Em,wm],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f4e9d8}.login-card[_ngcontent-%COMP%]{background-color:#fff;padding:40px;border-radius:8px;box-shadow:0 4px 15px #0000001a;text-align:center;max-width:400px;width:100%}h2[_ngcontent-%COMP%]{color:#174d3b;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#333;font-weight:700}.form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;font-size:16px}.form-group[_ngcontent-%COMP%]   input[type=email].is-invalid[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=password].is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.form-group[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{color:#dc3545;font-size:12px;margin-top:5px}.alert[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;border-radius:4px;font-size:14px}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.login-button[_ngcontent-%COMP%]{background-color:#174d3b;color:#fff;padding:12px 25px;border:none;border-radius:5px;cursor:pointer;font-size:16px;margin-top:20px;transition:background-color .3s ease;width:100%}.login-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0b261d}.login-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.spinner-border[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;vertical-align:text-bottom;border:.15em solid currentColor;border-right-color:transparent;border-radius:50%;animation:_ngcontent-%COMP%_spinner-border .75s linear infinite}@keyframes _ngcontent-%COMP%_spinner-border{to{transform:rotate(360deg)}}"]})};function cP(e,t){e&1&&(E(0,"div",8)(1,"div",9)(2,"span",10),_(3,"Loading manifest..."),b()(),E(4,"p"),_(5,"Loading manifest..."),b()())}function lP(e,t){e&1&&(E(0,"div",11),_(1," No digital manifest data available. "),b())}function uP(e,t){if(e&1&&(E(0,"p"),_(1),b()),e&2){let n=Z().$implicit;D(),bt("Volume: ",n.packed_volume_m3," m\xB3")}}function dP(e,t){if(e&1&&(E(0,"div",21)(1,"h4"),_(2),b(),E(3,"p"),_(4),b(),ne(5,uP,2,1,"p",22),b()),e&2){let n=t.$implicit;D(2),bt(" ",n.layer_order," "),D(2),Gs("",n.primary_material_type,": ",n.quantity_estimate," ",n.unit),D(),N("ngIf",n.packed_volume_m3)}}function fP(e,t){if(e&1&&(E(0,"span",23),_(1),b()),e&2){let n=t.$implicit;D(),Xe(n)}}function hP(e,t){if(e&1&&(E(0,"div",24)(1,"h4"),_(2,"Notes"),b(),E(3,"div",25),_(4),b()()),e&2){let n=Z().$implicit;D(4),bt(" ",n.notes," ")}}function pP(e,t){if(e&1&&(E(0,"div",12)(1,"div",13)(2,"h3"),_(3),b(),E(4,"span",14),_(5),b()(),E(6,"div",15)(7,"div",16)(8,"h4"),_(9,"Dimensions"),b(),E(10,"p"),_(11),b()(),E(12,"div",16)(13,"h4"),_(14,"Packaging"),b(),ne(15,dP,6,5,"div",17),b(),E(16,"div",16)(17,"h4"),_(18,"Logistics"),b(),E(19,"div",18),ne(20,fP,2,1,"span",19),b()(),ne(21,hP,5,1,"div",20),b()()),e&2){let n=t.$implicit,r=Z();D(3),zs("",n.item," (",n.quantity,")"),D(2),zs("",n.timestamp_start," - ",n.timestamp_end),D(6),Gs("H: ",n.dimensions.height_cm,"cm | L: ",n.dimensions.length_cm,"cm | W: ",n.dimensions.width_cm,"cm"),D(4),N("ngForOf",r.sortPackagingPlan(n.packaging_plan)),D(5),N("ngForOf",r.getLogisticsTags(n.logistics)),D(),N("ngIf",n.notes)}}var Ad=class e{manifestData=null;isLoading=!1;closeModal=new le;getLogisticsTags(t){let n=[];return n.push(`Fragility: ${t.fragility}`),n.push(`Stackable: ${t.is_stackable?"Yes":"No"}`),n.push(`Disassembly: ${t.requires_disassembly?"Yes":"No"}`),n.push(`Priority: ${t.handling_priority}`),n}sortPackagingPlan(t){return t.sort((n,r)=>n.layer_order-r.layer_order)}onClose(){this.closeModal.emit()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Y({type:e,selectors:[["app-digital-manifest-modal"]],inputs:{manifestData:"manifestData",isLoading:"isLoading"},outputs:{closeModal:"closeModal"},decls:11,vars:3,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["class","modal-loading-overlay",4,"ngIf"],[1,"modal-header"],[1,"close-button",3,"click"],[1,"modal-body"],["class","no-data-message",4,"ngIf"],["class","manifest-item-card",4,"ngFor","ngForOf"],[1,"modal-loading-overlay"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"no-data-message"],[1,"manifest-item-card"],[1,"item-header"],[1,"timestamps"],[1,"item-body-grid"],[1,"grid-section"],["class","packaging-layer",4,"ngFor","ngForOf"],[1,"logistics-tags"],["class","tag-badge",4,"ngFor","ngForOf"],["class","grid-section full-width",4,"ngIf"],[1,"packaging-layer"],[4,"ngIf"],[1,"tag-badge"],[1,"grid-section","full-width"],[1,"notes-alert"]],template:function(n,r){n&1&&(E(0,"div",0),K("click",function(){return r.onClose()}),E(1,"div",1),K("click",function(o){return o.stopPropagation()}),ne(2,cP,6,0,"div",2),E(3,"div",3)(4,"h2"),_(5,"Digital Manifest"),b(),E(6,"button",4),K("click",function(){return r.onClose()}),_(7,"\xD7"),b()(),E(8,"div",5),ne(9,lP,2,0,"div",6)(10,pP,22,10,"div",7),b()()()),n&2&&(D(2),N("ngIf",r.isLoading),D(7),N("ngIf",!r.manifestData||r.manifestData.length===0),D(),N("ngForOf",r.manifestData))},dependencies:[je,wr,pt],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;display:flex;justify-content:flex-end;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;width:500px;max-width:90%;height:100%;box-shadow:-5px 0 15px #0003;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideIn .3s ease-out forwards}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%)}to{transform:translate(0)}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 30px;border-bottom:1px solid #eee;background-color:#174d3b;color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#fff}.modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#fff;cursor:pointer}.modal-body[_ngcontent-%COMP%]{flex-grow:1;padding:20px 30px;overflow-y:auto}.no-data-message[_ngcontent-%COMP%]{text-align:center;color:#888;padding:40px}.manifest-item-card[_ngcontent-%COMP%]{background-color:#f9f9f9;border:1px solid #eee;border-radius:8px;padding:20px;margin-bottom:20px;box-shadow:0 2px 5px #0000000d}.manifest-item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid #eee}.manifest-item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#174d3b;font-size:18px}.manifest-item-card[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .timestamps[_ngcontent-%COMP%]{font-size:13px;color:#888}.manifest-item-card[_ngcontent-%COMP%]   .item-body-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px}.manifest-item-card[_ngcontent-%COMP%]   .item-body-grid[_ngcontent-%COMP%]   .grid-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#c15b28;margin-top:0;margin-bottom:8px;font-size:15px}.manifest-item-card[_ngcontent-%COMP%]   .item-body-grid[_ngcontent-%COMP%]   .grid-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#555}.manifest-item-card[_ngcontent-%COMP%]   .item-body-grid[_ngcontent-%COMP%]   .packaging-layer[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:15px;margin-bottom:10px;box-shadow:0 2px 4px #0000000d;position:relative}.manifest-item-card[_ngcontent-%COMP%]   .item-body-grid[_ngcontent-%COMP%]   .packaging-layer[_ngcontent-%COMP%]:nth-child(2n){background-color:#fefdfb}.manifest-item-card[_ngcontent-%COMP%]   .item-body-grid[_ngcontent-%COMP%]   .packaging-layer[_ngcontent-%COMP%]:nth-child(odd){background-color:#fffffe}.manifest-item-card[_ngcontent-%COMP%]   .item-body-grid[_ngcontent-%COMP%]   .packaging-layer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333;line-height:1.4;font-weight:500}.manifest-item-card[_ngcontent-%COMP%]   .item-body-grid[_ngcontent-%COMP%]   .logistics-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px}.manifest-item-card[_ngcontent-%COMP%]   .item-body-grid[_ngcontent-%COMP%]   .logistics-tags[_ngcontent-%COMP%]   .tag-badge[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#333;padding:4px 8px;border-radius:4px;font-size:12px}.manifest-item-card[_ngcontent-%COMP%]   .item-body-grid[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{grid-column:1/-1}.manifest-item-card[_ngcontent-%COMP%]   .item-body-grid[_ngcontent-%COMP%]   .notes-alert[_ngcontent-%COMP%]{background-color:#f4e9d8;border-left:4px solid #C15B28;padding:10px 15px;border-radius:4px;color:#333;font-size:14px}"]})};var Wo=class e{constructor(t,n){this.http=t;this.authService=n}API_BASE_URL=nr.backendApiUrl;getHeaders(){let t=this.authService.getToken();return new Mt({Authorization:`Bearer ${t}`,"Content-Type":"application/json"})}getPresignedUrl(t){let n={fileName:t};return this.http.post(`${this.API_BASE_URL}/survey/presigned-url`,n,{headers:this.getHeaders()})}uploadFileToS3(t,n){let r=new Mt({"Content-Type":n.type});return this.http.put(t,n,{headers:r,reportProgress:!0,observe:"events"})}processUpload(t){let n={uploadId:t};return this.http.post(`${this.API_BASE_URL}/survey/process-upload`,n,{headers:this.getHeaders()})}static \u0275fac=function(n){return new(n||e)(k(Cr),k(Kt))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};var mP=["fileUploadInput"],vP=["cameraInput"];function yP(e,t){if(e&1&&(E(0,"div",32)(1,"p",33),_(2),b(),E(3,"div",34),X(4,"div",35),b()()),e&2){let n=Z(2);D(2),Xe(n.uploadStatusMessage),D(2),Hs("width",n.uploadProgress,"%")}}function _P(e,t){if(e&1){let n=He();E(0,"div",19)(1,"h4",20),_(2,"Upload Confirmation"),b(),E(3,"div",21)(4,"div",22),X(5,"video",23),b(),E(6,"div",24)(7,"div",25)(8,"label",26),_(9,"File Name"),b(),E(10,"input",27),Hl("ngModelChange",function(i){he(n);let o=Z();return Jp(o.customFileName,i)||(o.customFileName=i),pe(i)}),b()(),E(11,"div",28)(12,"button",29),K("click",function(){he(n);let i=Z();return pe(i.onUpload())}),_(13),b(),E(14,"button",30),K("click",function(){he(n);let i=Z();return pe(i.cancelSelection())}),_(15," Cancel "),b()()()(),ne(16,yP,5,3,"div",31),b()}if(e&2){let n=Z();D(5),N("src",n.filePreviewUrl,sn),D(5),$l("ngModel",n.customFileName),N("disabled",n.isUploading),D(2),N("disabled",n.isUploading||!n.customFileName),D(),bt(" ",n.isUploading?"Uploading...":"Confirm & Upload"," "),D(),N("disabled",n.isUploading),D(2),N("ngIf",n.isUploading)}}function bP(e,t){e&1&&(E(0,"div",36)(1,"div",37)(2,"span",38),_(3,"Loading uploads..."),b()(),E(4,"p"),_(5,"Loading uploads..."),b()())}function wP(e,t){if(e&1&&(E(0,"div",34),X(1,"div",35),b()),e&2){let n=Z().$implicit;D(),Hs("width",n.progress,"%")}}function EP(e,t){if(e&1){let n=He();E(0,"button",51),K("click",function(){he(n);let i=Z().$implicit,o=Z(2);return pe(o.openDigitalManifest(i.uploadId))}),_(1," Get Digital Manifest "),b()}}function CP(e,t){if(e&1){let n=He();E(0,"button",52),K("click",function(){he(n);let i=Z().$implicit,o=Z(2);return pe(o.retryUpload(i.uploadId))}),_(1," Retry "),b()}}function DP(e,t){if(e&1&&(E(0,"div",41)(1,"div",42)(2,"span",43),_(3),b(),E(4,"span",44),_(5),Ks(6,"date"),b()(),E(7,"div",45)(8,"span",46),_(9),b(),ne(10,wP,2,2,"div",47),b(),E(11,"div",48),ne(12,EP,2,0,"button",49)(13,CP,2,0,"button",50),b()()),e&2){let n=t.$implicit,r=Z(2);D(3),Xe(n.fileName||n.videoName),D(2),Xe(tg(6,7,n.createdTimestamp,"short")),D(3),N("ngClass",r.getStatusClass(n.status)),D(),bt(" ",n.status," "),D(),N("ngIf",n.status==="Pending"||n.status==="Processing"),D(2),N("ngIf",n.status==="Completed"),D(),N("ngIf",n.status==="Failed")}}function IP(e,t){e&1&&(E(0,"p",53),_(1,"No uploads yet."),b())}function SP(e,t){if(e&1&&(lo(0),ne(1,DP,14,10,"div",39)(2,IP,2,0,"p",40),uo()),e&2){let n=Z();D(),N("ngForOf",n.uploads),D(),N("ngIf",n.uploads.length===0)}}function TP(e,t){if(e&1){let n=He();E(0,"app-digital-manifest-modal",54),K("closeModal",function(){he(n);let i=Z();return pe(i.closeDigitalManifest())}),b()}if(e&2){let n=Z();N("manifestData",n.selectedManifest)("isLoading",n.isLoadingManifest)}}var Rd=class e{constructor(t,n,r,i,o){this.http=t;this.authService=n;this.notificationService=r;this.uploadService=i;this.sanitizer=o}fileUploadInput;cameraInput;uploads=[];isModalOpen=!1;selectedManifest=null;isLoadingUploads=!1;isLoadingManifest=!1;pollingSubscription;uploadsToPoll=[];API_BASE_URL=nr.backendApiUrl;MAX_FILE_SIZE_MB=20;selectedFile=null;filePreviewUrl=null;customFileName="";isUploading=!1;uploadProgress=0;uploadStatusMessage="";uploadSubscription=null;ngOnInit(){this.fetchUploads(),this.startPolling(),console.log("Environment Production:",nr.production),console.log("Environment Backend API URL:",nr.backendApiUrl)}ngOnDestroy(){this.pollingSubscription?.unsubscribe(),this.uploadSubscription?.unsubscribe()}logout(){this.authService.logout(),this.notificationService.showInfo("You have been logged out.")}getHeaders(){let t=this.authService.getToken();return new Mt({Authorization:`Bearer ${t}`,"Content-Type":"application/json"})}onFileSelected(t){let n=t.target;if(n.files&&n.files.length>0){let r=n.files[0];if(r.type!=="video/mp4"){this.notificationService.showError("Invalid file type. Only .mp4 files are accepted."),this.clearFileInput(n);return}let i=this.MAX_FILE_SIZE_MB*1024*1024;if(r.size>i){this.notificationService.showError(`File size exceeds the maximum limit of ${this.MAX_FILE_SIZE_MB}MB.`),this.clearFileInput(n);return}this.selectedFile=r,this.customFileName=this.selectedFile.name,this.filePreviewUrl=this.sanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(this.selectedFile))}}cancelSelection(){this.selectedFile=null,this.filePreviewUrl=null,this.customFileName="",this.isUploading=!1,this.uploadProgress=0,this.uploadStatusMessage="",this.clearFileInput(document.querySelector("input[type=file]"))}retryUpload(t){let n=this.uploads.find(r=>r.uploadId===t);if(!n){this.notificationService.showError("Could not find the upload to retry.");return}n.status="Pending",n.message="Retrying processing...",this.uploadService.processUpload(t).pipe(yt(r=>(console.error(`Retry failed for ${t}:`,r),this.notificationService.showError(`Retry failed: ${r.message||"Unknown error"}`),n.status="Failed",n.message=`Retry failed: ${r.message||"Unknown error"}`,Be))).subscribe(r=>{this.notificationService.showSuccess(`Retry initiated for ${n.videoName}.`),n.status=r.status,n.message=r.message,(r.status==="Pending"||r.status==="Processing")&&!this.uploadsToPoll.includes(t)&&this.uploadsToPoll.push(t)})}onUpload(){if(!this.selectedFile||!this.customFileName){this.notificationService.showError("Please select a file and provide a file name.");return}this.isUploading=!0,this.uploadProgress=0,this.uploadStatusMessage="Requesting upload URL...";let t=this.customFileName.endsWith(".mp4")?this.customFileName:`${this.customFileName}.mp4`;this.uploadSubscription=this.uploadService.getPresignedUrl(t).pipe(ke(()=>{this.uploadStatusMessage="Uploading video to secure storage..."}),rt(n=>this.selectedFile?this.uploadService.uploadFileToS3(n.preSignedUrl,this.selectedFile).pipe(ke(r=>{r.type===Sn.UploadProgress&&(this.uploadProgress=Math.round(100*r.loaded/(r.total||1)))}),rt(r=>r.type===Sn.Response?(this.uploadProgress=100,this.uploadStatusMessage="Finalizing upload...",this.uploadService.processUpload(n.uploadId)):Be)):Be),yt(n=>(console.error("Upload failed:",n),this.notificationService.showError(`Upload failed: ${n.message||"Unknown error"}`),this.isUploading=!1,Be)),or(()=>{this.isUploading=!1})).subscribe({next:n=>{this.notificationService.showSuccess("Upload successful! Your video is now being processed."),this.cancelSelection(),this.fetchUploads()},error:n=>{this.notificationService.showError("An unexpected error occurred during the upload process."),this.isUploading=!1}})}clearFileInput(t){t&&(t.value="")}fetchUploads(){this.isLoadingUploads=!0,this.http.get(`${this.API_BASE_URL}/uploads/user`,{headers:this.getHeaders()}).pipe(yt(()=>(this.notificationService.showError("Failed to fetch uploads."),$([])))).subscribe(t=>{this.uploadsToPoll=[],this.uploads=t.map(n=>{let r=n.uploadId,i=r.length>8?`${r.slice(0,4)}...${r.slice(-4)}`:r;return(n.status==="Pending"||n.status==="Processing")&&this.uploadsToPoll.push(n.uploadId),q(C({},n),{progress:n.status==="Completed"||n.status==="Failed"?100:0,videoName:n.fileName||`Video_${i}.mp4`})}),this.isLoadingUploads=!1})}startPolling(){this.pollingSubscription=lf(5e3).pipe(Hi(0),ke(()=>{this.uploadsToPoll.length>0&&this.pollUploadsStatus()})).subscribe()}pollUploadsStatus(){this.uploadsToPoll.forEach(t=>{this.http.get(`${this.API_BASE_URL}/survey/upload/status/${t}`,{headers:this.getHeaders()}).pipe(yt(()=>$(null))).subscribe(n=>{if(n){let r=this.uploads.find(i=>i.uploadId===n.uploadId);r&&r.status!==n.status&&(r.status=n.status,r.message=n.message,(n.status==="Completed"||n.status==="Failed")&&(this.uploadsToPoll=this.uploadsToPoll.filter(i=>i!==t),this.notificationService.showInfo(`Upload status for ${n.fileName} is now ${n.status}.`)))}})})}getStatusClass(t){switch(t){case"Pending":return"status-pending";case"Processing":return"status-processing";case"Completed":return"status-completed";case"Failed":return"status-failed";default:return""}}openDigitalManifest(t){this.isLoadingManifest=!0,this.http.get(`${this.API_BASE_URL}/uploads/${t}/analysis`,{headers:this.getHeaders()}).pipe(yt(()=>(this.notificationService.showError("Failed to fetch digital manifest."),$(null)))).subscribe(n=>{n&&(this.selectedManifest=n,this.isModalOpen=!0),this.isLoadingManifest=!1})}closeDigitalManifest(){this.isModalOpen=!1,this.selectedManifest=null}static \u0275fac=function(n){return new(n||e)(A(Cr),A(Kt),A(Nr),A(Wo),A(Pg))};static \u0275cmp=Y({type:e,selectors:[["app-partner-dashboard"]],viewQuery:function(n,r){if(n&1&&$t(mP,5)(vP,5),n&2){let i;ot(i=st())&&(r.fileUploadInput=i.first),ot(i=st())&&(r.cameraInput=i.first)}},features:[yr([Wo])],decls:33,vars:4,consts:[["fileUploadInput",""],["cameraInput",""],[1,"dashboard-container"],[1,"dashboard-header"],[1,"logo"],[1,"user-profile"],["src","https://via.placeholder.com/40","alt","User Avatar",1,"avatar"],[1,"logout-button",3,"click"],[1,"dashboard-main"],[1,"upload-options-area"],[1,"upload-option",3,"click"],["type","file","hidden","","accept","video/*",3,"change"],[1,"small-text"],["type","file","hidden","","accept","video/*","capture","environment",3,"change"],["class","upload-preview-container",4,"ngIf"],[1,"survey-list"],["class","loading-spinner-container",4,"ngIf"],[4,"ngIf"],[3,"manifestData","isLoading","closeModal",4,"ngIf"],[1,"upload-preview-container"],[1,"preview-header"],[1,"preview-content"],[1,"video-preview"],["controls","",3,"src"],[1,"upload-form"],[1,"form-group"],["for","customFileName"],["id","customFileName","type","text","placeholder","Enter a custom name for your video",3,"ngModelChange","ngModel","disabled"],[1,"upload-actions"],[1,"action-button","primary-button",3,"click","disabled"],[1,"action-button","cancel-button",3,"click","disabled"],["class","upload-progress-section",4,"ngIf"],[1,"upload-progress-section"],[1,"status-message"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"loading-spinner-container"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["class","upload-item-card",4,"ngFor","ngForOf"],["class","no-uploads",4,"ngIf"],[1,"upload-item-card"],[1,"item-details"],[1,"video-name"],[1,"timestamp"],[1,"item-status"],[1,"status-badge",3,"ngClass"],["class","progress-bar-container",4,"ngIf"],[1,"item-actions"],["class","action-button primary-button",3,"click",4,"ngIf"],["class","action-button retry-button",3,"click",4,"ngIf"],[1,"action-button","primary-button",3,"click"],[1,"action-button","retry-button",3,"click"],[1,"no-uploads"],[3,"closeModal","manifestData","isLoading"]],template:function(n,r){if(n&1){let i=He();E(0,"div",2)(1,"header",3)(2,"div",4),_(3,"Zeeroni"),b(),E(4,"div",5),X(5,"img",6),E(6,"button",7),K("click",function(){return he(i),pe(r.logout())}),_(7,"Logout"),b()()(),E(8,"main",8)(9,"h2"),_(10,"Video Survey Upload"),b(),E(11,"div",9)(12,"div",10),K("click",function(){he(i);let s=at(14);return pe(s.click())}),E(13,"input",11,0),K("change",function(s){return he(i),pe(r.onFileSelected(s))}),b(),E(15,"p"),_(16,"Upload a video file"),b(),E(17,"p",12),_(18,"Select an existing video from your device."),b()(),E(19,"div",10),K("click",function(){he(i);let s=at(21);return pe(s.click())}),E(20,"input",13,1),K("change",function(s){return he(i),pe(r.onFileSelected(s))}),b(),E(22,"p"),_(23,"Open Camera"),b(),E(24,"p",12),_(25,"Record a new video directly."),b()()(),ne(26,_P,17,7,"div",14),E(27,"div",15)(28,"h3"),_(29,"Recent Uploads"),b(),ne(30,bP,6,0,"div",16)(31,SP,3,2,"ng-container",17),b()()(),ne(32,TP,1,2,"app-digital-manifest-modal",18)}n&2&&(D(26),N("ngIf",r.selectedFile),D(4),N("ngIf",r.isLoadingUploads),D(),N("ngIf",!r.isLoadingUploads),D(),N("ngIf",r.isModalOpen))},dependencies:[je,li,wr,pt,Ad,ad,Fo,rd,bm,_g],styles:[".dashboard-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;background-color:#f8f8f8}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 30px;background-color:#174d3b;color:#fff;box-shadow:0 2px 4px #0000001a}.dashboard-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.dashboard-header[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.dashboard-header[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:2px solid white}.dashboard-header[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .logout-button[_ngcontent-%COMP%]{background-color:#c15b28;color:#fff;padding:8px 15px;border:none;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s ease}.dashboard-header[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .logout-button[_ngcontent-%COMP%]:hover{background-color:#97471f}.dashboard-main[_ngcontent-%COMP%]{flex-grow:1;padding:30px;max-width:1200px;margin:0 auto;width:100%}.dashboard-main[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#174d3b;margin-bottom:25px;text-align:center}.custom-file-name-input[_ngcontent-%COMP%]{margin-bottom:20px}.custom-file-name-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}.custom-file-name-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;font-size:16px}.upload-area[_ngcontent-%COMP%]{border:2px dashed #cccccc;border-radius:8px;padding:40px;text-align:center;cursor:pointer;margin-bottom:30px;background-color:#fff;transition:border-color .3s ease}.upload-area[_ngcontent-%COMP%]:hover{border-color:#174d3b}.upload-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#555;font-size:18px}.upload-area[_ngcontent-%COMP%]   .small-text[_ngcontent-%COMP%]{font-size:14px;color:#888;margin-top:5px}.upload-options-area[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:30px;flex-wrap:wrap;justify-content:center}.upload-options-area[_ngcontent-%COMP%]   .upload-option[_ngcontent-%COMP%]{flex:1;min-width:280px;border:2px dashed #cccccc;border-radius:8px;padding:30px;text-align:center;cursor:pointer;background-color:#fff;transition:border-color .3s ease,box-shadow .3s ease;display:flex;flex-direction:column;justify-content:center;align-items:center}.upload-options-area[_ngcontent-%COMP%]   .upload-option[_ngcontent-%COMP%]:hover{border-color:#174d3b;box-shadow:0 4px 12px #0000001a}.upload-options-area[_ngcontent-%COMP%]   .upload-option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#555;font-size:18px;font-weight:700}.upload-options-area[_ngcontent-%COMP%]   .upload-option[_ngcontent-%COMP%]   .small-text[_ngcontent-%COMP%]{font-size:14px;color:#888;margin-top:5px}.upload-preview-container[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e0e0e0;border-radius:8px;padding:25px;margin-bottom:30px;box-shadow:0 2px 8px #0000000d}.upload-preview-container[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{color:#174d3b;margin-top:0;margin-bottom:20px;text-align:center;font-size:1.5rem}.upload-preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]{display:flex;gap:25px;flex-wrap:wrap}.upload-preview-container[_ngcontent-%COMP%]   .video-preview[_ngcontent-%COMP%]{flex:1;min-width:300px}.upload-preview-container[_ngcontent-%COMP%]   .video-preview[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;border-radius:6px;background-color:#000}.upload-preview-container[_ngcontent-%COMP%]   .upload-form[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}.upload-preview-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.upload-preview-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;color:#333}.upload-preview-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;font-size:16px}.upload-preview-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background-color:#f2f2f2;cursor:not-allowed}.upload-preview-container[_ngcontent-%COMP%]   .upload-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.upload-preview-container[_ngcontent-%COMP%]   .upload-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{flex-grow:1;padding:12px 20px;border:none;border-radius:5px;cursor:pointer;font-size:16px;font-weight:700;transition:background-color .3s ease,opacity .3s ease}.upload-preview-container[_ngcontent-%COMP%]   .upload-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.upload-preview-container[_ngcontent-%COMP%]   .upload-actions[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{background-color:#174d3b;color:#fff}.upload-preview-container[_ngcontent-%COMP%]   .upload-actions[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0b261d}.upload-preview-container[_ngcontent-%COMP%]   .upload-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.upload-preview-container[_ngcontent-%COMP%]   .upload-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#545b62}.upload-progress-section[_ngcontent-%COMP%]{margin-top:20px}.upload-progress-section[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{text-align:center;color:#333;font-weight:700;margin-bottom:10px}.upload-progress-section[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:100%;height:12px;background-color:#e0e0e0;border-radius:6px;overflow:hidden}.upload-progress-section[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#174d3b;width:0%;transition:width .4s ease-in-out}.survey-list[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 2px 8px #0000000d;padding:20px}.survey-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#174d3b;margin-bottom:20px;border-bottom:1px solid #eee;padding-bottom:10px}.upload-item-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 0;border-bottom:1px solid #eee;flex-wrap:wrap;gap:10px}.upload-item-card[_ngcontent-%COMP%]:last-child{border-bottom:none}.upload-item-card[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{flex-grow:1}@media(max-width:768px){.upload-item-card[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{width:100%;text-align:left}}.upload-item-card[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .video-name[_ngcontent-%COMP%]{font-weight:700;color:#333}.upload-item-card[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:12px;color:#888;margin-left:10px}.upload-item-card[_ngcontent-%COMP%]   .item-status[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;min-width:120px}@media(max-width:768px){.upload-item-card[_ngcontent-%COMP%]   .item-status[_ngcontent-%COMP%]{width:100%;align-items:flex-start}}.upload-item-card[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:5px 10px;border-radius:4px;font-size:12px;font-weight:700;color:#fff;text-transform:uppercase}.upload-item-card[_ngcontent-%COMP%]   .status-pending[_ngcontent-%COMP%], .upload-item-card[_ngcontent-%COMP%]   .status-processing[_ngcontent-%COMP%]{background-color:#c15b28}.upload-item-card[_ngcontent-%COMP%]   .status-completed[_ngcontent-%COMP%]{background-color:#174d3b}.upload-item-card[_ngcontent-%COMP%]   .status-failed[_ngcontent-%COMP%]{background-color:#dc3545}.upload-item-card[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:100px;height:8px;background-color:#e0e0e0;border-radius:5px;overflow:hidden;margin-top:5px}.upload-item-card[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#174d3b;width:0%;transition:width .3s ease-in-out}@media(max-width:768px){.upload-item-card[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-start;margin-top:10px}}.upload-item-card[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{padding:8px 15px;border:none;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s ease;white-space:nowrap}.upload-item-card[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{background-color:#174d3b;color:#fff}.upload-item-card[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]:hover{background-color:#0b261d}.upload-item-card[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]{background-color:#c15b28;color:#fff}.upload-item-card[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]:hover{background-color:#97471f}.no-uploads[_ngcontent-%COMP%]{text-align:center;color:#888;padding:20px}.loading-spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:50px;color:#174d3b}.loading-spinner-container[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;margin-bottom:15px;border-width:.3em}.loading-spinner-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700}.modal-loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#fffc;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:10;border-radius:8px;color:#174d3b}.modal-loading-overlay[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;margin-bottom:10px;border-width:.25em}.modal-loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.spinner-border[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;border:.25em solid currentColor;border-right-color:transparent;border-radius:50%;animation:.75s linear infinite _ngcontent-%COMP%_spinner-border}@keyframes _ngcontent-%COMP%_spinner-border{to{transform:rotate(360deg)}}.text-primary[_ngcontent-%COMP%]{color:#174d3b!important}.visually-hidden[_ngcontent-%COMP%]{position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}"]})};function MP(e,t){e&1&&(lo(0),X(1,"app-partner-auth"),uo())}function xP(e,t){e&1&&X(0,"app-partner-dashboard")}var Od=class e{constructor(t){this.authService=t;this.isAuthenticated$=this.authService.isAuthenticated$,this.isAuthenticated$.subscribe(n=>{console.log("PartnerComponent: isAuthenticated$ changed to:",n)})}isAuthenticated$;ngOnInit(){console.log("PartnerComponent: ngOnInit called.")}static \u0275fac=function(n){return new(n||e)(A(Kt))};static \u0275cmp=Y({type:e,selectors:[["app-partner"]],decls:5,vars:4,consts:[["dashboardContent",""],[1,"partner-container"],[4,"ngIf","ngIfElse"]],template:function(n,r){if(n&1&&(E(0,"div",1),ne(1,MP,2,0,"ng-container",2),Ks(2,"async"),ne(3,xP,1,0,"ng-template",null,0,ng),b()),n&2){let i=at(4);D(),N("ngIf",!eg(2,2,r.isAuthenticated$))("ngIfElse",i)}},dependencies:[je,pt,xd,Rd,yg],encapsulation:2})};var GC=[{path:"about-us",component:Uu},{path:"home",component:Ku},{path:"partner",component:Od},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];var qC={providers:[gw({eventCoalescing:!0}),om(GC,sm({scrollPositionRestoration:"enabled"})),Ng()]};var AP=["navbarCollapse"],RP=e=>({"navbar-scrolled":e}),ev=(e,t)=>({"text-light":e,"text-dark":t});function OP(e,t){if(e&1){let n=He();E(0,"li",9)(1,"button",13),K("click",function(){he(n);let i=Z();return pe(i.logout())}),_(2,"Logout"),b()()}}var Nd=class e{constructor(t,n,r,i){this.router=t;this.scroller=n;this.activatedRoute=r;this.authService=i}isScrolled=!1;isHomePage=!0;showLogoutButton=!1;routerSubscription;authSubscription;navbarCollapse;ngOnInit(){this.routerSubscription=this.router.events.pipe(dt(t=>t instanceof Et)).subscribe(t=>{this.isHomePage=t.urlAfterRedirects==="/"||t.urlAfterRedirects==="/home",this.isHomePage?this.isScrolled=window.scrollY>50:this.isScrolled=!0,this.updateLogoutButtonVisibility(t.urlAfterRedirects)}),this.authSubscription=ts([this.router.events.pipe(dt(t=>t instanceof Et)),this.authService.isAuthenticated$]).subscribe(([t,n])=>{this.updateLogoutButtonVisibility(t.urlAfterRedirects,n)})}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe(),this.authSubscription&&this.authSubscription.unsubscribe()}updateLogoutButtonVisibility(t,n=this.authService.getToken()!==null){this.showLogoutButton=t.includes("/partner")&&n}onWindowScroll(){this.isHomePage&&(this.isScrolled=window.scrollY>50)}navigateTo(t,n){this.router.navigate([t],{fragment:n}).then(()=>{n&&setTimeout(()=>{this.scroller.scrollToAnchor(n)},100),this.closeNavbar()})}logout(){this.authService.logout(),this.router.navigate(["/partner"]),this.closeNavbar()}closeNavbar(){this.navbarCollapse&&this.navbarCollapse.nativeElement.classList.contains("show")&&new bootstrap.Collapse(this.navbarCollapse.nativeElement,{toggle:!1}).hide()}static \u0275fac=function(n){return new(n||e)(A(mi),A(tu),A(fn),A(Kt))};static \u0275cmp=Y({type:e,selectors:[["app-header"]],viewQuery:function(n,r){if(n&1&&$t(AP,5),n&2){let i;ot(i=st())&&(r.navbarCollapse=i.first)}},hostBindings:function(n,r){n&1&&K("scroll",function(){return r.onWindowScroll()},Fs)},decls:17,vars:16,consts:[["navbarCollapse",""],[1,"navbar","navbar-expand-lg","navbar-light","fixed-top",3,"ngClass"],[1,"container"],["routerLink","/",1,"navbar-brand",3,"ngClass"],["src","/LogoLarge.png","alt","Setrz Logo",1,"navbar-logo","me-2"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/about-us",1,"nav-link",3,"click","ngClass"],[1,"nav-link",3,"click","ngClass"],["class","nav-item",4,"ngIf"],[1,"nav-link","btn","btn-link",3,"click"]],template:function(n,r){if(n&1){let i=He();E(0,"nav",1)(1,"div",2)(2,"a",3),X(3,"img",4),_(4," Zeeroni "),b(),E(5,"button",5),X(6,"span",6),b(),E(7,"div",7,0)(9,"ul",8)(10,"li",9)(11,"a",10),K("click",function(){return he(i),pe(r.closeNavbar())}),_(12,"About Us"),b()(),E(13,"li",9)(14,"a",11),K("click",function(){return he(i),pe(r.navigateTo(r.isHomePage?"/home":"/about-us","lead-form"))}),_(15,"Get a Free Consultation"),b()(),ne(16,OP,3,0,"li",12),b()()()()}n&2&&(N("ngClass",Xp(5,RP,r.isScrolled||!r.isHomePage)),D(2),N("ngClass",Ws(7,ev,!r.isScrolled&&r.isHomePage,r.isScrolled||!r.isHomePage)),D(9),N("ngClass",Ws(10,ev,!r.isScrolled&&r.isHomePage,r.isScrolled||!r.isHomePage)),D(3),N("ngClass",Ws(13,ev,!r.isScrolled&&r.isHomePage,r.isScrolled||!r.isHomePage)),D(2),N("ngIf",r.showLogoutButton))},dependencies:[li,Vu,je,pt],styles:[`.navbar[_ngcontent-%COMP%]{transition:background-color .5s ease-in-out}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-right:1rem}.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:last-child{margin-right:0}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:var(--bs-secondary);padding:.5rem 1rem;border-bottom:2px solid transparent;transition:all .3s ease-in-out;cursor:pointer}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{border-color:var(--bs-secondary)}.navbar[_ngcontent-%COMP%]   .navbar-logo[_ngcontent-%COMP%]{height:40px;width:auto}.navbar[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='%23F4E9D8' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-scrolled[_ngcontent-%COMP%]{background-color:var(--bs-body-bg);box-shadow:0 2px 4px #0000001a}.navbar-scrolled[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:var(--bs-body-color)}.navbar-scrolled[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{border-color:var(--bs-primary)}.navbar-scrolled[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='%23174D3B' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}@media(max-width:991.98px){.navbar-collapse[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{width:100%}.navbar-collapse[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{text-align:right;margin-right:0;margin-bottom:.5rem}}`]})};var kd=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Y({type:e,selectors:[["app-footer"]],decls:13,vars:0,consts:[[1,"footer-section","py-4","bg-dark","text-white"],[1,"container"],[1,"row","align-items-center"],[1,"col-md-6"],[1,"mb-0"],[1,"col-md-6","text-md-end"],["href","#",1,"me-3"],[1,"bi","bi-facebook","themed-icon"],[1,"bi","bi-twitter","themed-icon"],["href","#"],[1,"bi","bi-instagram","themed-icon"]],template:function(n,r){n&1&&(R(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),_(5,"\xA9 2025 Zeeroni All Rights Reserved."),P()(),R(6,"div",5)(7,"a",6),ge(8,"i",7),P(),R(9,"a",6),ge(10,"i",8),P(),R(11,"a",9),ge(12,"i",10),P()()()()())},styles:[".footer-section[_ngcontent-%COMP%]{background-color:var(--bs-primary);color:var(--bs-secondary)}.footer-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-secondary);transition:opacity .3s ease-in-out}.footer-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8}"]})};function NP(e,t){if(e&1){let n=He();E(0,"div",1)(1,"div",2)(2,"span"),_(3),b(),E(4,"button",3),K("click",function(){he(n);let i=Z();return pe(i.clearNotification())}),_(5,"\xD7"),b()()()}if(e&2){let n=Z();N("ngClass",n.currentNotification.type),D(3),Xe(n.currentNotification.message)}}var Pd=class e{constructor(t){this.notificationService=t}currentNotification=null;notificationSubscription;timeoutId;ngOnInit(){this.notificationSubscription=this.notificationService.getNotificationObservable().subscribe(t=>{this.currentNotification=t,this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{this.clearNotification()},t.duration||3e3)})}ngOnDestroy(){this.notificationSubscription&&this.notificationSubscription.unsubscribe(),this.timeoutId&&clearTimeout(this.timeoutId)}clearNotification(){this.currentNotification=null}static \u0275fac=function(n){return new(n||e)(A(Nr))};static \u0275cmp=Y({type:e,selectors:[["app-notification"]],decls:1,vars:1,consts:[["class","notification-container",3,"ngClass",4,"ngIf"],[1,"notification-container",3,"ngClass"],[1,"notification-content"],[1,"close-button",3,"click"]],template:function(n,r){n&1&&ne(0,NP,6,2,"div",0),n&2&&N("ngIf",r.currentNotification)},dependencies:[je,li,pt],styles:[".notification-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1050;padding:15px 20px;border-radius:8px;box-shadow:0 4px 12px #00000026;display:flex;align-items:center;justify-content:space-between;max-width:350px;width:100%;animation:_ngcontent-%COMP%_slideInRight .3s ease-out forwards,_ngcontent-%COMP%_fadeOut .5s ease-out forwards 2.5s}.notification-container.success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.notification-container.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.notification-container.info[_ngcontent-%COMP%]{background-color:#d1ecf1;color:#0c5460;border:1px solid #bee5eb}.notification-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}.notification-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1;margin-right:10px}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;font-weight:700;color:inherit;cursor:pointer;line-height:1;padding:0 5px}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:1}to{opacity:0}}"]})};var Fd=class e{title="Zeeroni";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Y({type:e,selectors:[["app-root"]],decls:4,vars:0,template:function(n,r){n&1&&X(0,"app-header")(1,"router-outlet")(2,"app-footer")(3,"app-notification")},dependencies:[_a,Nd,kd,je,Pd],encapsulation:2})};Mg(Fd,qC).catch(e=>console.error(e));
